"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _core = require("@mzawadie/core");

var React = _interopRequireWildcard(require("react"));

var _reactIntl = require("react-intl");

require("./scss/index.module.scss");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

var AddressSummary = function AddressSummary(_ref) {
  var address = _ref.address,
      email = _ref.email,
      paragraphRef = _ref.paragraphRef;

  if (address) {
    return __jsx("p", {
      className: "address-summary",
      ref: paragraphRef
    }, __jsx("strong", null, "".concat(address.firstName, " ").concat(address.lastName)), __jsx("br", null), address.companyName && __jsx(React.Fragment, null, address.companyName, " ", __jsx("br", null)), address.streetAddress1, __jsx("br", null), address.streetAddress2 && __jsx(React.Fragment, null, address.streetAddress2, " ", __jsx("br", null)), address.city, ", ", address.postalCode, __jsx("br", null), address.countryArea && __jsx(React.Fragment, null, address.countryArea, " ", __jsx("br", null)), address.country.country, __jsx("br", null), address.phone && __jsx(React.Fragment, null, __jsx(_reactIntl.FormattedMessage, (0, _extends2["default"])({}, _core.commonMessages.phoneNumber, {
      values: {
        phone: address.phone
      }
    })), " ", __jsx("br", null)), email && __jsx(React.Fragment, null, email, " ", __jsx("br", null)));
  }

  if (email) {
    return __jsx("p", {
      className: "address-summary",
      ref: paragraphRef
    }, email);
  }

  return null;
};

var _default = AddressSummary;
exports["default"] = _default;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = exports.extractBreadcrumbs = void 0;

var _core = require("@mzawadie/core");

var _constants = require("@next/styles/constants");

var _classnames = _interopRequireDefault(require("classnames"));

var _link = _interopRequireDefault(require("next/link"));

var React = _interopRequireWildcard(require("react"));

var _reactIntl = require("react-intl");

var _reactMedia = _interopRequireDefault(require("react-media"));

require("./scss/index.module.scss");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

var extractBreadcrumbs = function extractBreadcrumbs(category, ancestors) {
  var constructLink = function constructLink(_ref) {
    var id = _ref.id,
        slug = _ref.slug,
        name = _ref.name;
    return {
      link: (0, _core.generateCategoryUrl)(id, slug),
      value: name
    };
  };

  var breadcrumbs = [constructLink(category)];

  if (ancestors && ancestors.length) {
    var ancestorsList = ancestors.map(function (category) {
      return constructLink(category);
    });
    breadcrumbs = ancestorsList.concat(breadcrumbs);
  }

  return breadcrumbs;
};

exports.extractBreadcrumbs = extractBreadcrumbs;

var getBackLink = function getBackLink(breadcrumbs) {
  return breadcrumbs.length > 1 ? breadcrumbs[breadcrumbs.length - 2].link : _core.paths.home;
};

var Breadcrumbs = function Breadcrumbs(_ref2) {
  var breadcrumbs = _ref2.breadcrumbs;
  return __jsx(_reactMedia["default"], {
    query: {
      minWidth: _constants.smallScreen
    }
  }, function (matches) {
    return matches ? __jsx("ul", {
      className: "breadcrumbs"
    }, __jsx("li", null, __jsx(_link["default"], {
      href: _core.paths.home
    }, __jsx("a", null, __jsx(_reactIntl.FormattedMessage, _core.commonMessages.home)))), breadcrumbs.map(function (breadcrumb, index) {
      return __jsx("li", {
        key: "".concat(breadcrumb.value, "-").concat(index),
        className: (0, _classnames["default"])({
          breadcrumbs__active: index === breadcrumbs.length - 1
        })
      }, __jsx(_link["default"], {
        href: breadcrumb.link
      }, __jsx("a", null, breadcrumb.value)));
    })) : __jsx("div", {
      className: "breadcrumbs"
    }, __jsx(_link["default"], {
      href: getBackLink(breadcrumbs)
    }, __jsx("a", null, __jsx(_reactIntl.FormattedMessage, {
      id: "components.Breadcrumbs.index.1347475195",
      defaultMessage: "Back"
    }))));
  });
};

var _default = Breadcrumbs;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var React = _interopRequireWildcard(require("react"));

require("./scss/index.module.scss");

var _excluded = ["className", "children", "testingContext", "secondary", "btnRef", "type"];

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

var Button = function Button(_ref) {
  var _ref$className = _ref.className,
      className = _ref$className === void 0 ? "" : _ref$className,
      children = _ref.children,
      testingContext = _ref.testingContext,
      secondary = _ref.secondary,
      btnRef = _ref.btnRef,
      type = _ref.type,
      otherProps = (0, _objectWithoutProperties2["default"])(_ref, _excluded);
  return __jsx("button", (0, _extends2["default"])({
    "data-test": testingContext,
    className: "button ".concat(secondary ? "secondary" : "", " ").concat(className),
    ref: btnRef,
    type: type
  }, otherProps), __jsx("span", null, children));
};

var _default = Button;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _constants = require("@next/styles/constants");

var _nukaCarousel = _interopRequireDefault(require("nuka-carousel"));

var React = _interopRequireWildcard(require("react"));

var _reactMedia = _interopRequireDefault(require("react-media"));

var _reactSvg = require("react-svg");

require("./scss/index.module.scss");

var _excluded = ["children"];

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var Carousel = function Carousel(_ref) {
  var children = _ref.children,
      rest = (0, _objectWithoutProperties2["default"])(_ref, _excluded);

  var settings = _objectSpread({
    className: "carousel",
    renderBottomCenterControls: function renderBottomCenterControls() {
      return null;
    },
    renderCenterLeftControls: function renderCenterLeftControls(_ref2) {
      var previousSlide = _ref2.previousSlide,
          currentSlide = _ref2.currentSlide;
      return currentSlide !== 0 ? __jsx("div", {
        onClick: previousSlide,
        className: "carousel__control carousel__control--left"
      }, __jsx(_reactSvg.ReactSVG, {
        src: "../../images/carousel-arrow.svg"
      })) : null;
    },
    renderCenterRightControls: function renderCenterRightControls(_ref3) {
      var nextSlide = _ref3.nextSlide,
          currentSlide = _ref3.currentSlide,
          slideCount = _ref3.slideCount,
          slidesToShow = _ref3.slidesToShow;
      return slideCount - slidesToShow !== currentSlide ? __jsx("div", {
        onClick: nextSlide,
        className: "carousel__control carousel__control--right"
      }, __jsx(_reactSvg.ReactSVG, {
        src: "../../images/carousel-arrow.svg"
      })) : null;
    }
  }, rest);

  return __jsx(React.Fragment, null, __jsx(_reactMedia["default"], {
    query: {
      maxWidth: _constants.smallScreen
    }
  }, function (matches) {
    return matches ? __jsx(_nukaCarousel["default"], (0, _extends2["default"])({
      slidesToShow: 1,
      slidesToScroll: 1
    }, settings), children) : __jsx(_reactMedia["default"], {
      query: {
        maxWidth: _constants.largeScreen
      }
    }, function (matches) {
      return matches ? __jsx(_nukaCarousel["default"], (0, _extends2["default"])({
        slidesToShow: 2,
        slidesToScroll: 2
      }, settings), children) : __jsx(_nukaCarousel["default"], (0, _extends2["default"])({
        slidesToShow: 4,
        slidesToScroll: 4
      }, settings), children);
    });
  }));
};

var _default = Carousel;
exports["default"] = _default;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var React = _interopRequireWildcard(require("react"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

var CostRow = function CostRow(_ref) {
  var mediumScreen = _ref.mediumScreen,
      heading = _ref.heading,
      cost = _ref.cost;
  return __jsx("tr", null, __jsx("td", {
    colSpan: mediumScreen ? 4 : 3,
    className: "cart-table__cost"
  }, heading), __jsx("td", {
    colSpan: 2
  }, cost));
};

var _default = CostRow;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
Object.defineProperty(exports, "CartTable", {
  enumerable: true,
  get: function get() {
    return _Table["default"];
  }
});

var _Table = _interopRequireDefault(require("./Table"));
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _core = require("@mzawadie/core");

var _containers = require("@mzawadie/prototype/containers");

var _molecules = require("@mzawadie/prototype/molecules");

var _classnames = _interopRequireDefault(require("classnames"));

var _link = _interopRequireDefault(require("next/link"));

var React = _interopRequireWildcard(require("react"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

var ProductRow = function ProductRow(_ref) {
  var _line$pricing;

  var mediumScreen = _ref.mediumScreen,
      processing = _ref.processing,
      line = _ref.line;
  var productUrl = (0, _core.generateProductUrl)(line.product.id, line.product.name);
  return __jsx("tr", {
    className: (0, _classnames["default"])({
      "cart-table-row--processing": processing
    })
  }, __jsx("td", {
    className: "cart-table__thumbnail"
  }, __jsx("div", null, mediumScreen && __jsx(_link["default"], {
    href: productUrl
  }, __jsx("a", null, __jsx(_molecules.Thumbnail, {
    source: line.product
  }))), __jsx(_link["default"], {
    href: productUrl
  }, __jsx("a", null, line.product.name)))), mediumScreen && __jsx("td", null, __jsx(_containers.TaxedMoney, {
    taxedMoney: (_line$pricing = line.pricing) === null || _line$pricing === void 0 ? void 0 : _line$pricing.price
  })), __jsx("td", null, line.name), __jsx("td", {
    className: "cart-table__quantity-cell"
  }, __jsx("p", null, line.quantity)), __jsx("td", {
    colSpan: 2
  }, __jsx(_containers.TaxedMoney, {
    taxedMoney: line.totalPrice
  })));
};

var _default = ProductRow;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _constants = require("@next/styles/constants");

var React = _interopRequireWildcard(require("react"));

var _reactMedia = _interopRequireDefault(require("react-media"));

var _CostRow = _interopRequireDefault(require("./CostRow"));

var _ProductRow = _interopRequireDefault(require("./ProductRow"));

require("./scss/index.module.scss");

var _excluded = ["subtotal", "deliveryCost", "totalCost", "discount", "discountName", "lines"];

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

var Table = function Table(_ref) {
  var subtotal = _ref.subtotal,
      deliveryCost = _ref.deliveryCost,
      totalCost = _ref.totalCost,
      discount = _ref.discount,
      discountName = _ref.discountName,
      lines = _ref.lines,
      rowProps = (0, _objectWithoutProperties2["default"])(_ref, _excluded);
  return __jsx(_reactMedia["default"], {
    query: {
      minWidth: _constants.smallScreen
    }
  }, function (mediumScreen) {
    return __jsx("table", {
      className: "cart-table"
    }, __jsx("thead", null, __jsx("tr", null, __jsx("th", null, "Products"), mediumScreen && __jsx("th", null, "Price"), __jsx("th", null, "Size"), __jsx("th", {
      className: "cart-table__quantity-header"
    }, "Quantity"), __jsx("th", {
      colSpan: 2
    }, mediumScreen ? "Total Price" : "Price"))), __jsx("tbody", null, lines.map(function (line) {
      return __jsx(_ProductRow["default"], (0, _extends2["default"])({
        key: line.id,
        line: line,
        mediumScreen: mediumScreen
      }, rowProps));
    })), __jsx("tfoot", null, __jsx(_CostRow["default"], {
      mediumScreen: mediumScreen,
      heading: "Subtotal",
      cost: subtotal
    }), discount && __jsx(_CostRow["default"], {
      mediumScreen: mediumScreen,
      heading: "Discount: ".concat(discountName),
      cost: discount
    }), deliveryCost && __jsx(_CostRow["default"], {
      mediumScreen: mediumScreen,
      heading: "Delivery Cost",
      cost: deliveryCost
    }), totalCost && __jsx(_CostRow["default"], {
      mediumScreen: mediumScreen,
      heading: "Total Cost",
      cost: totalCost
    })));
  });
};

var _default = Table;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _link = _interopRequireDefault(require("next/link"));

var _react = _interopRequireDefault(require("react"));

var _reactIntl = require("react-intl");

var _ = require("..");

var __jsx = _react["default"].createElement;

var CheckoutAsGuest = function CheckoutAsGuest(_ref) {
  var overlay = _ref.overlay,
      checkoutUrl = _ref.checkoutUrl;
  return __jsx("div", {
    className: "checkout-login__guest"
  }, __jsx("h3", {
    className: "checkout__header"
  }, __jsx(_reactIntl.FormattedMessage, {
    id: "components.CheckoutLogin.CheckoutAsGuest.1006283488",
    defaultMessage: "Continue as a guest"
  })), __jsx("p", null, __jsx(_reactIntl.FormattedMessage, {
    id: "components.CheckoutLogin.CheckoutAsGuest.647198093",
    defaultMessage: "If you don\u2019t wish to register an account, don\u2019t worry. You can checkout as a guest. We care about you just as much as any registered user."
  })), __jsx(_link["default"], {
    href: checkoutUrl
  }, __jsx("a", null, __jsx(_.Button, {
    testingContext: "continueAsGuestButton"
  }, __jsx(_reactIntl.FormattedMessage, {
    id: "components.CheckoutLogin.CheckoutAsGuest.1006283488",
    defaultMessage: "Continue as a guest"
  })))), __jsx("p", null, __jsx(_reactIntl.FormattedMessage, {
    id: "components.CheckoutLogin.CheckoutAsGuest.3896074202",
    defaultMessage: "or you can"
  }), " ", __jsx("span", {
    "data-test": "showRegisterOverlay",
    className: "u-link",
    onClick: function onClick() {
      return overlay.show(_.OverlayType.register, _.OverlayTheme.right);
    }
  }, __jsx(_reactIntl.FormattedMessage, {
    id: "components.CheckoutLogin.CheckoutAsGuest.2132450234",
    defaultMessage: "create an account"
  }))));
};

var _default = CheckoutAsGuest;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _core = require("@mzawadie/core");

var _atoms = require("@mzawadie/prototype/atoms");

var _sdk = require("@mzawadie/sdk");

var _react = _interopRequireWildcard(require("react"));

var _ = require("..");

var _CheckoutAsGuest = _interopRequireDefault(require("./CheckoutAsGuest"));

var _ResetPasswordForm = _interopRequireDefault(require("./ResetPasswordForm"));

var _SignInForm = _interopRequireDefault(require("./SignInForm"));

require("./scss/index.module.scss");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

var CheckoutLogin = function CheckoutLogin() {
  var _useState = (0, _react.useState)(false),
      resetPassword = _useState[0],
      setResetPassword = _useState[1];

  var overlay = (0, _react.useContext)(_.OverlayContext);

  var _useAuth = (0, _sdk.useAuth)(),
      user = _useAuth.user;

  if (user) {
    return __jsx(_atoms.Redirect, {
      url: _core.paths.checkout
    });
  }

  return __jsx("div", {
    className: "container"
  }, __jsx(_.Online, null, __jsx("div", {
    className: "checkout-login"
  }, __jsx(_CheckoutAsGuest["default"], {
    overlay: overlay,
    checkoutUrl: "/checkout/"
  }), __jsx("div", {
    className: "checkout-login__user"
  }, resetPassword ? __jsx(_ResetPasswordForm["default"], {
    onClick: function onClick() {
      setResetPassword(false);
    }
  }) : __jsx(_SignInForm["default"], {
    onClick: function onClick() {
      setResetPassword(true);
    }
  })))), __jsx(_.Offline, null, __jsx(_.OfflinePlaceholder, null)));
};

var _default = CheckoutLogin;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactIntl = require("react-intl");

var _ = require("..");

var __jsx = _react["default"].createElement;

var ResetPasswordForm = function ResetPasswordForm(_ref) {
  var onClick = _ref.onClick;
  return __jsx(_react["default"].Fragment, null, __jsx("h3", {
    className: "checkout__header"
  }, __jsx(_reactIntl.FormattedMessage, {
    id: "components.CheckoutLogin.ResetPasswordForm.2856837597",
    defaultMessage: "Registered user"
  })), __jsx(_.PasswordResetForm, null), __jsx("p", null, __jsx("span", {
    className: "u-link",
    onClick: onClick
  }, __jsx(_reactIntl.FormattedMessage, {
    id: "components.CheckoutLogin.ResetPasswordForm.2245157344",
    defaultMessage: "Back to login"
  }))));
};

var _default = ResetPasswordForm;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactIntl = require("react-intl");

var _ = require("../");

var _ForgottenPassword = _interopRequireDefault(require("../OverlayManager/Login/ForgottenPassword"));

var __jsx = _react["default"].createElement;

var SignInForm = function SignInForm(_ref) {
  var onClick = _ref.onClick;
  return __jsx(_react["default"].Fragment, null, __jsx("h3", {
    className: "checkout__header"
  }, __jsx(_reactIntl.FormattedMessage, {
    id: "components.CheckoutLogin.SignInForm.2856837597",
    defaultMessage: "Registered user"
  })), __jsx(_.LoginForm, null), __jsx(_ForgottenPassword["default"], {
    onClick: onClick
  }));
};

var _default = SignInForm;
exports["default"] = _default;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var React = _interopRequireWildcard(require("react"));

require("./scss/index.module.scss");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

var ContentPage = function ContentPage() {
  return __jsx("div", null, "Content Page");
};

var _default = ContentPage;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = exports.DebounceChange = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var React = _interopRequireWildcard(require("react"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2["default"])(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var DebounceChange = /*#__PURE__*/function (_React$Component) {
  (0, _inherits2["default"])(DebounceChange, _React$Component);

  var _super = _createSuper(DebounceChange);

  function DebounceChange() {
    var _this;

    (0, _classCallCheck2["default"])(this, DebounceChange);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "state", {
      timer: null,
      value: _this.props.value
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "handleChange", function (event) {
      event.persist();
      var timer = _this.state.timer;

      if (timer) {
        clearTimeout(timer);
      }

      _this.setState({
        timer: setTimeout(function () {
          return _this.props.debounce(event);
        }, _this.props.time || 200),
        value: event.target.value
      });
    });
    return _this;
  }

  (0, _createClass2["default"])(DebounceChange, [{
    key: "render",
    value: function render() {
      return this.props.children({
        change: this.handleChange,
        value: this.state.value
      });
    }
  }], [{
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(props, state) {
      var resetValue = props.resetValue,
          propsValue = props.value;
      var timer = state.timer,
          stateValue = state.value;

      if (resetValue) {
        if (timer) {
          clearTimeout(timer);
        }

        return {
          value: propsValue,
          timer: timer
        };
      }

      if (propsValue !== stateValue && timer === null) {
        return {
          value: propsValue
        };
      }

      return null;
    }
  }]);
  return DebounceChange;
}(React.Component);

exports.DebounceChange = DebounceChange;
var _default = DebounceChange;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var React = _interopRequireWildcard(require("react"));

var _TextField = _interopRequireDefault(require("../TextField"));

var _DebounceChange = _interopRequireDefault(require("./DebounceChange"));

var _excluded = ["time", "resetValue", "value", "onChange"];

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

var DebouncedTextField = function DebouncedTextField(props) {
  var time = props.time,
      resetValue = props.resetValue,
      originalValue = props.value,
      onChange = props.onChange,
      textFieldProps = (0, _objectWithoutProperties2["default"])(props, _excluded);
  return __jsx(_DebounceChange["default"], {
    resetValue: resetValue,
    debounce: onChange,
    time: time,
    value: originalValue
  }, function (_ref) {
    var change = _ref.change,
        value = _ref.value;
    return __jsx(_TextField["default"], (0, _extends2["default"])({}, textFieldProps, {
      value: value,
      onChange: change
    }));
  });
};

DebouncedTextField.defaultProps = {
  time: 250
};
var _default = DebouncedTextField;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
Object.defineProperty(exports, "DebounceChange", {
  enumerable: true,
  get: function get() {
    return _DebounceChange["default"];
  }
});
Object.defineProperty(exports, "DebouncedTextField", {
  enumerable: true,
  get: function get() {
    return _DebouncedTextField["default"];
  }
});

var _DebounceChange = _interopRequireDefault(require("./DebounceChange"));

var _DebouncedTextField = _interopRequireDefault(require("./DebouncedTextField"));
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _react = _interopRequireDefault(require("react"));

var _reactSelect = _interopRequireDefault(require("react-select"));

require("./scss/index.module.scss");

var __jsx = _react["default"].createElement;

var Dropdown = function Dropdown(props) {
  return __jsx(_reactSelect["default"], (0, _extends2["default"])({
    classNamePrefix: "dropdown",
    className: "dropdown-component"
  }, props));
};

var _default = Dropdown;
exports["default"] = _default;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = exports.Error = void 0;

var React = _interopRequireWildcard(require("react"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

var Error = function Error(_ref) {
  var error = _ref.error;
  return __jsx(React.Fragment, null, error);
};

exports.Error = Error;
var _default = Error;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _core = require("@mzawadie/core");

var _react = _interopRequireDefault(require("react"));

var _ = require("..");

var _Nav = require("./Nav");

require("./scss/index.module.scss");

var __jsx = _react["default"].createElement;

var Footer = function Footer(_ref) {
  var menu = _ref.menu;
  return __jsx("div", {
    className: "footer",
    id: "footer"
  }, __jsx("div", {
    className: "footer__favicons container"
  }, _core.SOCIAL_MEDIA.map(function (medium) {
    return __jsx(_.SocialMediaIcon, {
      medium: medium,
      key: medium.ariaLabel
    });
  })), __jsx(_Nav.Nav, {
    menu: menu
  }));
};

var _default = Footer;
exports["default"] = _default;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Footer = require("./Footer");

Object.keys(_Footer).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _Footer[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _Footer[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Nav = void 0;

var _react = _interopRequireDefault(require("react"));

var _ = require("..");

require("./scss/index.module.scss");

var __jsx = _react["default"].createElement;

var Nav = function Nav(_ref) {
  var menu = _ref.menu;
  return __jsx("footer", {
    className: "footer-nav"
  }, __jsx("div", {
    className: "container"
  }, menu === null || menu === void 0 ? void 0 : menu.items.map(function (item) {
    return __jsx("div", {
      className: "footer-nav__section",
      key: item.id
    }, __jsx("h4", {
      className: "footer-nav__section-header"
    }, __jsx(_.NavLink, {
      item: item
    })), __jsx("div", {
      className: "footer-nav__section-content"
    }, item.children.map(function (subItem) {
      return __jsx("p", {
        key: subItem.id
      }, __jsx(_.NavLink, {
        item: subItem
      }));
    })));
  })));
};

exports.Nav = Nav;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = exports.NON_FIELD_ERROR = void 0;

var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var React = _interopRequireWildcard(require("react"));

var _reactNumberFormat = _interopRequireDefault(require("react-number-format"));

var _ = require("..");

var _excluded = ["children", "formRef", "className"];

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2["default"])(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var NON_FIELD_ERROR = "nonFieldError";
exports.NON_FIELD_ERROR = NON_FIELD_ERROR;

function groupErrorsByFields(errors) {
  return errors.reduce(function (o, error) {
    var key = error.field || NON_FIELD_ERROR;
    (o[key] = o[key] || []).push(error);
    return o;
  }, {});
}

function removeDuplicatedErrors(errors) {
  var keys = [];
  return errors.filter(function (error) {
    var key = error.message + error.field || "";
    var filter = !keys.includes(key);
    keys.push(key);
    return filter;
  });
}

var Form = /*#__PURE__*/function (_React$Component) {
  (0, _inherits2["default"])(Form, _React$Component);

  var _super = _createSuper(Form);

  function Form(props) {
    var _this;

    (0, _classCallCheck2["default"])(this, Form);
    _this = _super.call(this, props);
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "ref", /*#__PURE__*/React.createRef());
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "handleSubmit", function (event) {
      var onSubmit = _this.props.onSubmit;

      if (onSubmit !== undefined) {
        onSubmit(event, _this.state.data);
      }
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "handleInputError", function (event) {
      var input = event.target;

      _this.setState(function (state) {
        var errors = state.errors.filter(function (error) {
          return error.field !== input.name;
        });

        if (!input.validity.valid) {
          errors.push({
            message: input.validationMessage,
            field: input.name
          });
        }

        return {
          errors: errors
        };
      });
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "handleFieldChange", function (event) {
      var fieldName = event.target.name;
      var value = event.target.value;

      _this.setState(function (state) {
        var data = _objectSpread(_objectSpread({}, state.data), {}, (0, _defineProperty2["default"])({}, fieldName, value));

        return {
          data: data
        };
      });
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "render", function () {
      var _this$props = _this.props,
          children = _this$props.children,
          formRef = _this$props.formRef,
          className = _this$props.className,
          otherProps = (0, _objectWithoutProperties2["default"])(_this$props, _excluded);
      var errors = _this.state.errors;
      var nonFieldErrors = groupErrorsByFields(errors)[NON_FIELD_ERROR];
      return __jsx("form", (0, _extends2["default"])({
        ref: formRef
      }, otherProps, {
        onSubmit: _this.handleSubmit,
        className: className
      }), nonFieldErrors ? __jsx("span", {
        className: "form-error"
      }, nonFieldErrors.map(function (error) {
        return error.message;
      }).join(" ")) : null, _this.renderWrappedChildren(children));
    });

    var _errors = props.errors || [];

    var _data = props.data || {};

    _this.state = {
      data: _data,
      errors: _errors
    };
    return _this;
  }

  (0, _createClass2["default"])(Form, [{
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      if (JSON.stringify(prevProps.errors) !== JSON.stringify(this.props.errors)) {
        this.setState({
          errors: this.props.errors || []
        });
      }
    }
  }, {
    key: "renderWrappedChildren",
    value: function renderWrappedChildren(children) {
      var _this2 = this;

      // Traverse through all children
      return React.Children.map(children, function (child) {
        // This is support for non-node elements (eg. pure text), they have no props
        if (!child || !child.props) {
          return child;
        } // If current component has additional children, traverse through them as well


        if (child.props.children) {
          return /*#__PURE__*/React.cloneElement(child, {
            children: _this2.renderWrappedChildren(child.props.children)
          });
        }

        if (child.type === _.TextField || child.type === _reactNumberFormat["default"]) {
          var defaultValue = _this2.state.data[child.props.name];
          var groupedErrors = groupErrorsByFields(_this2.state.errors);
          var errors = groupedErrors[child.props.name] || [];
          return /*#__PURE__*/React.cloneElement(child, {
            defaultValue: defaultValue,
            errors: errors,
            onBlur: function onBlur(event) {
              _this2.handleInputError(event);

              if (child.props.onBlur) {
                child.props.onBlur(event);
              }
            },
            onChange: function onChange(event) {
              _this2.handleFieldChange(event);

              _this2.handleInputError(event);

              if (child.props.onChange) {
                child.props.onChange(event);
              }
            },
            onInvalid: function onInvalid(event) {
              if (child.props.onInvalid) {
                child.props.onInvalid(event);
              }

              _this2.handleInputError(event);

              event.preventDefault();
            }
          });
        }

        if (child.type === _.SelectField || child.type === _.Select) {
          var _defaultValue;

          if (child.props.name === "country" && _this2.state.data[child.props.name]) {
            _defaultValue = {
              label: _this2.state.data[child.props.name].country,
              value: _this2.state.data[child.props.name].code
            };
          } else {
            _defaultValue = _this2.state.data[child.props.name];
          }

          return /*#__PURE__*/React.cloneElement(child, {
            defaultValue: _defaultValue,
            onChange: function onChange(value) {
              _this2.setState(function (state) {
                var data = _objectSpread(_objectSpread({}, state.data), {}, (0, _defineProperty2["default"])({}, child.props.name, value));

                return {
                  data: data
                };
              });
            }
          });
        }

        if (child.props.type === "checkbox") {
          var _defaultValue2 = _this2.state.data[child.props.name] || false;

          return /*#__PURE__*/React.cloneElement(child, {
            defaultValue: _defaultValue2,
            onChange: function onChange() {
              _this2.setState(function (state) {
                var data = _objectSpread(_objectSpread({}, state.data), {}, (0, _defineProperty2["default"])({}, child.props.name, !state.data[child.props.name]));

                return {
                  data: data
                };
              });
            }
          });
        }

        return child;
      });
    }
  }], [{
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(props, state) {
      var propsKey = (props.errors || []).map(function (error) {
        return error.field || NON_FIELD_ERROR;
      }).sort().join();
      var stateKey = (state.errors || []).map(function (error) {
        return error.field || NON_FIELD_ERROR;
      }).sort().join();

      if (propsKey !== stateKey) {
        var errors = removeDuplicatedErrors([].concat((0, _toConsumableArray2["default"])(state.errors || []), (0, _toConsumableArray2["default"])(props.errors || [])));
        return {
          errors: errors
        };
      }

      return null;
    }
  }]);
  return Form;
}(React.Component);

var _default = Form;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
var _exportNames = {
  Button: true,
  Breadcrumbs: true,
  extractBreadcrumbs: true,
  Carousel: true,
  CheckoutLogin: true,
  ContentPage: true,
  Dropdown: true,
  Form: true,
  Loader: true,
  LoginForm: true,
  MenuDropdown: true,
  Message: true,
  NetworkStatus: true,
  NotFound: true,
  Offline: true,
  OfflinePlaceholder: true,
  Online: true,
  PasswordResetForm: true,
  PriceRangeFilter: true,
  ProductDescription: true,
  ProductListItem: true,
  SelectField: true,
  SocialMediaIcon: true,
  TextField: true,
  UserProvider: true,
  AddressSummary: true,
  CartTable: true,
  ProductFilters: true,
  DebounceChange: true,
  DebouncedTextField: true,
  MobileNavList: true,
  NavLink: true,
  MetaConsumer: true,
  MetaProvider: true,
  MetaWrapper: true,
  OverlayManager: true,
  Overlay: true,
  OverlayContext: true,
  OverlayProvider: true,
  OverlayTheme: true,
  OverlayType: true,
  Select: true,
  Modal: true,
  Error: true,
  NotificationTemplate: true
};
Object.defineProperty(exports, "Button", {
  enumerable: true,
  get: function get() {
    return _Button["default"];
  }
});
Object.defineProperty(exports, "Breadcrumbs", {
  enumerable: true,
  get: function get() {
    return _Breadcrumbs["default"];
  }
});
Object.defineProperty(exports, "extractBreadcrumbs", {
  enumerable: true,
  get: function get() {
    return _Breadcrumbs.extractBreadcrumbs;
  }
});
Object.defineProperty(exports, "Carousel", {
  enumerable: true,
  get: function get() {
    return _Carousel["default"];
  }
});
Object.defineProperty(exports, "CheckoutLogin", {
  enumerable: true,
  get: function get() {
    return _CheckoutLogin["default"];
  }
});
Object.defineProperty(exports, "ContentPage", {
  enumerable: true,
  get: function get() {
    return _ContentPage["default"];
  }
});
Object.defineProperty(exports, "Dropdown", {
  enumerable: true,
  get: function get() {
    return _Dropdown["default"];
  }
});
Object.defineProperty(exports, "Form", {
  enumerable: true,
  get: function get() {
    return _Form["default"];
  }
});
Object.defineProperty(exports, "Loader", {
  enumerable: true,
  get: function get() {
    return _Loader["default"];
  }
});
Object.defineProperty(exports, "LoginForm", {
  enumerable: true,
  get: function get() {
    return _LoginForm["default"];
  }
});
Object.defineProperty(exports, "MenuDropdown", {
  enumerable: true,
  get: function get() {
    return _MenuDropdown["default"];
  }
});
Object.defineProperty(exports, "Message", {
  enumerable: true,
  get: function get() {
    return _Message["default"];
  }
});
Object.defineProperty(exports, "NetworkStatus", {
  enumerable: true,
  get: function get() {
    return _NetworkStatus["default"];
  }
});
Object.defineProperty(exports, "NotFound", {
  enumerable: true,
  get: function get() {
    return _NotFound["default"];
  }
});
Object.defineProperty(exports, "Offline", {
  enumerable: true,
  get: function get() {
    return _Offline["default"];
  }
});
Object.defineProperty(exports, "OfflinePlaceholder", {
  enumerable: true,
  get: function get() {
    return _OfflinePlaceholder["default"];
  }
});
Object.defineProperty(exports, "Online", {
  enumerable: true,
  get: function get() {
    return _Online["default"];
  }
});
Object.defineProperty(exports, "PasswordResetForm", {
  enumerable: true,
  get: function get() {
    return _PasswordResetForm["default"];
  }
});
Object.defineProperty(exports, "PriceRangeFilter", {
  enumerable: true,
  get: function get() {
    return _PriceRangeFilter["default"];
  }
});
Object.defineProperty(exports, "ProductDescription", {
  enumerable: true,
  get: function get() {
    return _ProductDescription["default"];
  }
});
Object.defineProperty(exports, "ProductListItem", {
  enumerable: true,
  get: function get() {
    return _ProductListItem["default"];
  }
});
Object.defineProperty(exports, "SelectField", {
  enumerable: true,
  get: function get() {
    return _SelectField["default"];
  }
});
Object.defineProperty(exports, "SocialMediaIcon", {
  enumerable: true,
  get: function get() {
    return _SocialMediaIcon["default"];
  }
});
Object.defineProperty(exports, "TextField", {
  enumerable: true,
  get: function get() {
    return _TextField["default"];
  }
});
Object.defineProperty(exports, "UserProvider", {
  enumerable: true,
  get: function get() {
    return _User["default"];
  }
});
Object.defineProperty(exports, "AddressSummary", {
  enumerable: true,
  get: function get() {
    return _AddressSummary["default"];
  }
});
Object.defineProperty(exports, "CartTable", {
  enumerable: true,
  get: function get() {
    return _CartTable.CartTable;
  }
});
Object.defineProperty(exports, "ProductFilters", {
  enumerable: true,
  get: function get() {
    return _ProductFilters.ProductFilters;
  }
});
Object.defineProperty(exports, "DebounceChange", {
  enumerable: true,
  get: function get() {
    return _Debounce.DebounceChange;
  }
});
Object.defineProperty(exports, "DebouncedTextField", {
  enumerable: true,
  get: function get() {
    return _Debounce.DebouncedTextField;
  }
});
Object.defineProperty(exports, "MobileNavList", {
  enumerable: true,
  get: function get() {
    return _MobileNav.MobileNavList;
  }
});
Object.defineProperty(exports, "NavLink", {
  enumerable: true,
  get: function get() {
    return _NavLink.NavLink;
  }
});
Object.defineProperty(exports, "MetaConsumer", {
  enumerable: true,
  get: function get() {
    return _Meta.MetaConsumer;
  }
});
Object.defineProperty(exports, "MetaProvider", {
  enumerable: true,
  get: function get() {
    return _Meta.MetaProvider;
  }
});
Object.defineProperty(exports, "MetaWrapper", {
  enumerable: true,
  get: function get() {
    return _Meta.MetaWrapper;
  }
});
Object.defineProperty(exports, "OverlayManager", {
  enumerable: true,
  get: function get() {
    return _OverlayManager.OverlayManager;
  }
});
Object.defineProperty(exports, "Overlay", {
  enumerable: true,
  get: function get() {
    return _Overlay.Overlay;
  }
});
Object.defineProperty(exports, "OverlayContext", {
  enumerable: true,
  get: function get() {
    return _Overlay.OverlayContext;
  }
});
Object.defineProperty(exports, "OverlayProvider", {
  enumerable: true,
  get: function get() {
    return _Overlay.OverlayProvider;
  }
});
Object.defineProperty(exports, "OverlayTheme", {
  enumerable: true,
  get: function get() {
    return _Overlay.OverlayTheme;
  }
});
Object.defineProperty(exports, "OverlayType", {
  enumerable: true,
  get: function get() {
    return _Overlay.OverlayType;
  }
});
Object.defineProperty(exports, "Select", {
  enumerable: true,
  get: function get() {
    return _Select["default"];
  }
});
Object.defineProperty(exports, "Modal", {
  enumerable: true,
  get: function get() {
    return _Modal["default"];
  }
});
Object.defineProperty(exports, "Error", {
  enumerable: true,
  get: function get() {
    return _Error["default"];
  }
});
Object.defineProperty(exports, "NotificationTemplate", {
  enumerable: true,
  get: function get() {
    return _NotificationTemplate["default"];
  }
});

var _Button = _interopRequireDefault(require("./Button"));

var _Breadcrumbs = _interopRequireWildcard(require("./Breadcrumbs"));

var _Carousel = _interopRequireDefault(require("./Carousel"));

var _CheckoutLogin = _interopRequireDefault(require("./CheckoutLogin"));

var _ContentPage = _interopRequireDefault(require("./ContentPage"));

var _Dropdown = _interopRequireDefault(require("./Dropdown"));

var _Form = _interopRequireDefault(require("./Form"));

var _Loader = _interopRequireDefault(require("./Loader"));

var _LoginForm = _interopRequireDefault(require("./LoginForm"));

var _MenuDropdown = _interopRequireDefault(require("./MenuDropdown"));

var _Message = _interopRequireDefault(require("./Message"));

var _NetworkStatus = _interopRequireDefault(require("./NetworkStatus"));

var _NotFound = _interopRequireDefault(require("./NotFound"));

var _Offline = _interopRequireDefault(require("./Offline"));

var _OfflinePlaceholder = _interopRequireDefault(require("./OfflinePlaceholder"));

var _Online = _interopRequireDefault(require("./Online"));

var _PasswordResetForm = _interopRequireDefault(require("./PasswordResetForm"));

var _PriceRangeFilter = _interopRequireDefault(require("./PriceRangeFilter"));

var _ProductDescription = _interopRequireDefault(require("./ProductDescription"));

var _ProductListItem = _interopRequireDefault(require("./ProductListItem"));

var _SelectField = _interopRequireDefault(require("./SelectField"));

var _SocialMediaIcon = _interopRequireDefault(require("./SocialMediaIcon"));

var _TextField = _interopRequireDefault(require("./TextField"));

var _User = _interopRequireDefault(require("./User"));

var _AddressSummary = _interopRequireDefault(require("./AddressSummary"));

var _CartTable = require("./CartTable");

var _ProductsFeatured = require("./ProductsFeatured");

Object.keys(_ProductsFeatured).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;
  if (key in exports && exports[key] === _ProductsFeatured[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _ProductsFeatured[key];
    }
  });
});

var _ProductFilters = require("./ProductFilters");

var _Debounce = require("./Debounce");

var _Footer = require("./Footer");

Object.keys(_Footer).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;
  if (key in exports && exports[key] === _Footer[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _Footer[key];
    }
  });
});

var _MainMenu = require("./MainMenu");

Object.keys(_MainMenu).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;
  if (key in exports && exports[key] === _MainMenu[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _MainMenu[key];
    }
  });
});

var _MobileNav = require("./MobileNav");

var _NavLink = require("./NavLink");

var _Meta = require("./Meta");

var _OverlayManager = require("./OverlayManager");

var _Overlay = require("./Overlay");

var _Select = _interopRequireDefault(require("./Select"));

var _Modal = _interopRequireDefault(require("./Modal"));

var _Error = _interopRequireDefault(require("./Error"));

var _NotificationTemplate = _interopRequireDefault(require("./NotificationTemplate"));

var _NextQueryParamProvider = require("./NextQueryParamProvider");

Object.keys(_NextQueryParamProvider).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;
  if (key in exports && exports[key] === _NextQueryParamProvider[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _NextQueryParamProvider[key];
    }
  });
});

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _react = _interopRequireDefault(require("react"));

require("./scss/index.module.scss");

var __jsx = _react["default"].createElement;

var Loader = function Loader(_ref) {
  var full = _ref.full;

  var getHeight = function getHeight() {
    var headerHeight = document.getElementById("header") && document.getElementById("header").offsetHeight;
    var footerHeight = document.getElementById("footer") && document.getElementById("footer").offsetHeight;
    return window.innerHeight - headerHeight - footerHeight;
  };

  return __jsx("div", {
    className: "loader",
    style: full && {
      height: getHeight()
    }
  }, __jsx("div", {
    className: "loader__items"
  }, __jsx("span", null), __jsx("span", null), __jsx("span", null)));
};

var _default = Loader;
exports["default"] = _default;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Locale = require("./Locale");

Object.keys(_Locale).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _Locale[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _Locale[key];
    }
  });
});

var _utils = require("./utils");

Object.keys(_utils).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _utils[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _utils[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.LocaleProvider = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactIntl = require("react-intl");

var _utils = require("./utils");

var __jsx = _react["default"].createElement;
var DEFAULT_LOCALE = _utils.Locale.EN;

var LocaleProvider = function LocaleProvider(_ref) {
  var children = _ref.children,
      messages = _ref.messages;
  // For now locale can be set here
  var locale = _utils.Locale.EN;
  return __jsx(_reactIntl.IntlProvider, {
    defaultLocale: DEFAULT_LOCALE,
    locale: locale,
    messages: (0, _utils.getKeyValueJson)(messages),
    key: locale
  }, children);
};

exports.LocaleProvider = LocaleProvider;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getKeyValueJson = getKeyValueJson;
exports.loadMessagesJson = exports.Locale = void 0;

var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _localeData;

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

// @ts-nocheck
var LOCALE_CACHE = {};
var Locale;
exports.Locale = Locale;

(function (Locale) {
  Locale["EN"] = "en";
  Locale["PL"] = "pl";
  Locale["AR"] = "ar";
  Locale["AZ"] = "az";
  Locale["BG"] = "bg";
  Locale["BN"] = "bn";
  Locale["CA"] = "ca";
  Locale["CS"] = "cs";
  Locale["DA"] = "da";
  Locale["DE"] = "de";
  Locale["EL"] = "el";
  Locale["ES"] = "es";
  Locale["ES_CO"] = "es_CO";
  Locale["ET"] = "et";
  Locale["FA"] = "fa";
  Locale["FI"] = "fi";
  Locale["FR"] = "fr";
  Locale["HI"] = "hi";
  Locale["HU"] = "hu";
  Locale["HY"] = "hy";
  Locale["ID"] = "id";
  Locale["IS"] = "is";
  Locale["IT"] = "it";
  Locale["JA"] = "ja";
  Locale["KO"] = "ko";
  Locale["LT"] = "lt";
  Locale["MN"] = "mn";
  Locale["NB"] = "nb";
  Locale["NL"] = "nl";
  Locale["PT"] = "pt";
  Locale["PT_BR"] = "pt_BR";
  Locale["RO"] = "ro";
  Locale["RU"] = "ru";
  Locale["SK"] = "sk";
  Locale["SL"] = "sl";
  Locale["SQ"] = "sq";
  Locale["SR"] = "sr";
  Locale["SV"] = "sv";
  Locale["TH"] = "th";
  Locale["TR"] = "tr";
  Locale["UK"] = "uk";
  Locale["VI"] = "vi";
  Locale["ZH_HANS"] = "zh-Hans";
  Locale["ZH_HANT"] = "zh-Hant";
})(Locale || (exports.Locale = Locale = {}));

var localeData = (_localeData = {}, (0, _defineProperty2["default"])(_localeData, Locale.EN, undefined), (0, _defineProperty2["default"])(_localeData, Locale.PL, "pl"), (0, _defineProperty2["default"])(_localeData, Locale.AR, "ar"), (0, _defineProperty2["default"])(_localeData, Locale.AZ, "az"), (0, _defineProperty2["default"])(_localeData, Locale.BG, "bg"), (0, _defineProperty2["default"])(_localeData, Locale.BN, "bn"), (0, _defineProperty2["default"])(_localeData, Locale.CA, "ca"), (0, _defineProperty2["default"])(_localeData, Locale.CS, "cs"), (0, _defineProperty2["default"])(_localeData, Locale.DA, "da"), (0, _defineProperty2["default"])(_localeData, Locale.DE, "de"), (0, _defineProperty2["default"])(_localeData, Locale.EL, "el"), (0, _defineProperty2["default"])(_localeData, Locale.ES, "es"), (0, _defineProperty2["default"])(_localeData, Locale.ES_CO, "es_CO"), (0, _defineProperty2["default"])(_localeData, Locale.ET, "et"), (0, _defineProperty2["default"])(_localeData, Locale.FA, "fa"), (0, _defineProperty2["default"])(_localeData, Locale.FI, "fi"), (0, _defineProperty2["default"])(_localeData, Locale.FR, "fr"), (0, _defineProperty2["default"])(_localeData, Locale.HI, "hi"), (0, _defineProperty2["default"])(_localeData, Locale.HU, "hu"), (0, _defineProperty2["default"])(_localeData, Locale.HY, "hy"), (0, _defineProperty2["default"])(_localeData, Locale.ID, "id"), (0, _defineProperty2["default"])(_localeData, Locale.IS, "is"), (0, _defineProperty2["default"])(_localeData, Locale.IT, "it"), (0, _defineProperty2["default"])(_localeData, Locale.JA, "ja"), (0, _defineProperty2["default"])(_localeData, Locale.KO, "ko"), (0, _defineProperty2["default"])(_localeData, Locale.LT, "lt"), (0, _defineProperty2["default"])(_localeData, Locale.MN, "mn"), (0, _defineProperty2["default"])(_localeData, Locale.NB, "nb"), (0, _defineProperty2["default"])(_localeData, Locale.NL, "nl"), (0, _defineProperty2["default"])(_localeData, Locale.PT, "pt"), (0, _defineProperty2["default"])(_localeData, Locale.PT_BR, "pt_BR"), (0, _defineProperty2["default"])(_localeData, Locale.RO, "ro"), (0, _defineProperty2["default"])(_localeData, Locale.RU, "ru"), (0, _defineProperty2["default"])(_localeData, Locale.SK, "sk"), (0, _defineProperty2["default"])(_localeData, Locale.SL, "sl"), (0, _defineProperty2["default"])(_localeData, Locale.SQ, "sq"), (0, _defineProperty2["default"])(_localeData, Locale.SR, "sr"), (0, _defineProperty2["default"])(_localeData, Locale.SV, "sv"), (0, _defineProperty2["default"])(_localeData, Locale.TH, "th"), (0, _defineProperty2["default"])(_localeData, Locale.TR, "tr"), (0, _defineProperty2["default"])(_localeData, Locale.UK, "uk"), (0, _defineProperty2["default"])(_localeData, Locale.VI, "vi"), (0, _defineProperty2["default"])(_localeData, Locale.ZH_HANS, "zh-Hans"), (0, _defineProperty2["default"])(_localeData, Locale.ZH_HANT, "zh-Hant"), _localeData);

var loadMessagesJson = /*#__PURE__*/function () {
  var _ref = (0, _asyncToGenerator2["default"])( /*#__PURE__*/_regenerator["default"].mark(function _callee() {
    var locale,
        filename,
        localeJson,
        _args = arguments;
    return _regenerator["default"].wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            locale = _args.length > 0 && _args[0] !== undefined ? _args[0] : Locale.EN;
            filename = localeData[locale];
            localeJson = LOCALE_CACHE[locale];

            if (!(!localeJson && filename !== undefined)) {
              _context.next = 8;
              break;
            }

            _context.next = 6;
            return Promise.resolve("../../../locale/".concat(filename, ".json")).then(function (s) {
              return _interopRequireWildcard(require(s));
            });

          case 6:
            localeJson = _context.sent;
            LOCALE_CACHE[locale] = localeJson;

          case 8:
            return _context.abrupt("return", localeJson);

          case 9:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function loadMessagesJson() {
    return _ref.apply(this, arguments);
  };
}();

exports.loadMessagesJson = loadMessagesJson;
var dotSeparator = "_dot_";
var sepRegExp = new RegExp(dotSeparator, "g");

function getKeyValueJson(messages) {
  if (messages) {
    var keyValueMessages = {};
    return Object.entries(messages).reduce(function (acc, _ref2) {
      var _ref3 = (0, _slicedToArray2["default"])(_ref2, 2),
          id = _ref3[0],
          msg = _ref3[1];

      acc[id.replace(sepRegExp, ".")] = msg.string;
      return acc;
    }, keyValueMessages);
  }
}
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _react = require("@mzawadie/sdk/lib/react");

var _misc = require("@next/utils/misc");

var React = _interopRequireWildcard(require("react"));

var _ = require("..");

require("./scss/index.module.scss");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

var LoginForm = function LoginForm(_ref) {
  var hide = _ref.hide;

  var _useSignIn = (0, _react.useSignIn)(),
      _useSignIn2 = (0, _slicedToArray2["default"])(_useSignIn, 2),
      signIn = _useSignIn2[0],
      _useSignIn2$ = _useSignIn2[1],
      loading = _useSignIn2$.loading,
      error = _useSignIn2$.error;

  var handleOnSubmit = /*#__PURE__*/function () {
    var _ref3 = (0, _asyncToGenerator2["default"])( /*#__PURE__*/_regenerator["default"].mark(function _callee(evt, _ref2) {
      var email, password, authenticated;
      return _regenerator["default"].wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              email = _ref2.email, password = _ref2.password;
              evt.preventDefault();
              _context.next = 4;
              return signIn({
                email: email,
                password: password
              });

            case 4:
              authenticated = _context.sent;

              if (authenticated && hide) {
                hide();
              }

            case 6:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }));

    return function handleOnSubmit(_x, _x2) {
      return _ref3.apply(this, arguments);
    };
  }();

  return __jsx("div", {
    className: "login-form"
  }, __jsx(_.Form, {
    errors: (0, _misc.maybe)(function () {
      return error.extraInfo.userInputErrors;
    }, []),
    onSubmit: handleOnSubmit
  }, __jsx(_.TextField, {
    name: "email",
    autoComplete: "email",
    label: "Email Address",
    type: "email",
    required: true
  }), __jsx(_.TextField, {
    name: "password",
    autoComplete: "password",
    label: "Password",
    type: "password",
    required: true
  }), __jsx("div", {
    className: "login-form__button"
  }, __jsx(_.Button, (0, _extends2["default"])({
    type: "submit"
  }, loading && {
    disabled: true
  }), loading ? "Loading" : "Sign in"))));
};

var _default = LoginForm;
exports["default"] = _default;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _MainMenu = require("./MainMenu");

Object.keys(_MainMenu).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _MainMenu[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _MainMenu[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.MainMenu = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _core = require("@mzawadie/core");

var _atoms = require("@mzawadie/prototype/atoms");

var _sdk = require("@mzawadie/sdk");

var _constants = require("@next/styles/constants");

var _classnames = _interopRequireDefault(require("classnames"));

var _link = _interopRequireDefault(require("next/link"));

var _react = _interopRequireWildcard(require("react"));

var _reactIntl = require("react-intl");

var _reactMedia = _interopRequireDefault(require("react-media"));

var _reactSvg = require("react-svg");

var _ = require("..");

var _cart = _interopRequireDefault(require("../../images/cart.svg"));

var _hamburgerHover = _interopRequireDefault(require("../../images/hamburger-hover.svg"));

var _hamburger = _interopRequireDefault(require("../../images/hamburger.svg"));

var _logo = _interopRequireDefault(require("../../images/logo.svg"));

var _search = _interopRequireDefault(require("../../images/search.svg"));

var _user = _interopRequireDefault(require("../../images/user.svg"));

var _NavDropdown = require("./NavDropdown");

require("./scss/index.module.scss");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

var MainMenu = function MainMenu(_ref) {
  var demoMode = _ref.demoMode,
      menu = _ref.menu,
      loading = _ref.loading;
  var overlayContext = (0, _react.useContext)(_.OverlayContext);

  var _useAuth = (0, _sdk.useAuth)(),
      user = _useAuth.user,
      signOut = _useAuth.signOut;

  var _useCart = (0, _sdk.useCart)(),
      items = _useCart.items;

  var _useState = (0, _react.useState)(undefined),
      activeDropdown = _useState[0],
      setActiveDropdown = _useState[1];

  var menuItems = (menu === null || menu === void 0 ? void 0 : menu.items) || [];
  var cartItemsQuantity = items && items.reduce(function (prevVal, currVal) {
    return prevVal + currVal.quantity;
  }, 0) || 0;

  var handleSignOut = function handleSignOut() {
    return signOut();
  };

  var showDropdownHandler = function showDropdownHandler(itemId, hasSubNavigation) {
    if (hasSubNavigation) {
      setActiveDropdown(itemId);
    }
  };

  var hideDropdownHandler = function hideDropdownHandler() {
    if (activeDropdown) {
      setActiveDropdown(undefined);
    }
  };

  (0, _react.useEffect)(function () {
    if (activeDropdown) {
      overlayContext.show(_.OverlayType.mainMenuNav, _.OverlayTheme.modal);
    } else {
      overlayContext.hide();
    } // eslint-disable-next-line react-hooks/exhaustive-deps

  }, [activeDropdown]);
  return __jsx("header", {
    className: (0, _classnames["default"])({
      "header-with-dropdown": !!activeDropdown
    })
  }, demoMode && __jsx(_atoms.DemoBanner, null), __jsx("nav", {
    className: "main-menu",
    id: "header"
  }, __jsx("div", {
    className: "main-menu__left"
  }, __jsx("ul", null, __jsx(_reactMedia["default"], {
    query: {
      maxWidth: _constants.largeScreen
    },
    render: function render() {
      return __jsx("li", {
        "data-test": "toggleSideMenuLink",
        className: "main-menu__hamburger",
        onClick: function onClick() {
          return overlayContext.show(_.OverlayType.sideNav, _.OverlayTheme.left, {
            data: menuItems
          });
        }
      }, __jsx(_reactSvg.ReactSVG, {
        src: _hamburger["default"],
        className: "main-menu__hamburger--icon"
      }), __jsx(_reactSvg.ReactSVG, {
        src: _hamburgerHover["default"],
        className: "main-menu__hamburger--hover"
      }));
    }
  }), __jsx(_reactMedia["default"], {
    query: {
      minWidth: _constants.largeScreen
    },
    render: function render() {
      return menuItems.map(function (item) {
        var _item$children;

        var hasSubNavigation = !!(item !== null && item !== void 0 && (_item$children = item.children) !== null && _item$children !== void 0 && _item$children.length);
        return __jsx("li", {
          "data-test": "mainMenuItem",
          className: "main-menu__item",
          key: item.id
        }, __jsx(_NavDropdown.NavDropdown, (0, _extends2["default"])({
          overlay: overlayContext,
          showDropdown: activeDropdown === item.id && hasSubNavigation,
          onShowDropdown: function onShowDropdown() {
            return showDropdownHandler(item.id, hasSubNavigation);
          },
          onHideDropdown: hideDropdownHandler
        }, item)));
      });
    }
  }), __jsx(_.Online, null, __jsx(_reactMedia["default"], {
    query: {
      maxWidth: _constants.smallScreen
    },
    render: function render() {
      return !loading && __jsx(_react["default"].Fragment, null, user ? __jsx(_.MenuDropdown, {
        suffixClass: "__rightdown",
        head: __jsx("li", {
          className: "main-menu__icon main-menu__user--active"
        }, __jsx(_reactSvg.ReactSVG, {
          src: _user["default"]
        })),
        content: __jsx("ul", {
          className: "main-menu__dropdown"
        }, __jsx("li", {
          "data-test": "mobileMenuMyAccountLink"
        }, __jsx(_link["default"], {
          href: _core.paths.account
        }, __jsx("a", null, __jsx(_reactIntl.FormattedMessage, _core.commonMessages.myAccount)))), __jsx("li", {
          "data-test": "mobileMenuOrderHistoryLink"
        }, __jsx(_link["default"], {
          href: _core.paths.accountOrderHistory
        }, __jsx("a", null, __jsx(_reactIntl.FormattedMessage, _core.commonMessages.orderHistory)))), __jsx("li", {
          "data-test": "mobileMenuAddressBookLink"
        }, __jsx(_link["default"], {
          href: _core.paths.accountAddressBook
        }, __jsx("a", null, __jsx(_reactIntl.FormattedMessage, _core.commonMessages.addressBook)))), __jsx("li", {
          onClick: handleSignOut,
          "data-test": "mobileMenuLogoutLink"
        }, __jsx(_reactIntl.FormattedMessage, _core.commonMessages.logOut)))
      }) : __jsx("li", {
        "data-test": "mobileMenuLoginLink",
        className: "main-menu__icon",
        onClick: function onClick() {
          return overlayContext.show(_.OverlayType.login, _.OverlayTheme.left);
        }
      }, __jsx(_reactSvg.ReactSVG, {
        src: _user["default"]
      })));
    }
  })))), __jsx("div", {
    className: "main-menu__center"
  }, __jsx(_link["default"], {
    href: _core.paths.home
  }, __jsx("a", null, __jsx(_reactSvg.ReactSVG, {
    src: _logo["default"]
  })))), __jsx("div", {
    className: "main-menu__right"
  }, __jsx("ul", null, __jsx(_.Online, null, __jsx(_reactMedia["default"], {
    query: {
      minWidth: _constants.smallScreen
    },
    render: function render() {
      return !loading && __jsx(_react["default"].Fragment, null, user ? __jsx(_.MenuDropdown, {
        head: __jsx("li", {
          className: "main-menu__icon main-menu__user--active"
        }, __jsx(_reactSvg.ReactSVG, {
          src: _user["default"]
        })),
        content: __jsx("ul", {
          className: "main-menu__dropdown"
        }, __jsx("li", {
          "data-test": "desktopMenuMyAccountLink"
        }, __jsx(_link["default"], {
          href: _core.paths.account
        }, __jsx("a", null, __jsx(_reactIntl.FormattedMessage, _core.commonMessages.myAccount)))), __jsx("li", {
          "data-test": "desktopMenuOrderHistoryLink"
        }, __jsx(_link["default"], {
          href: _core.paths.accountOrderHistory
        }, __jsx("a", null, __jsx(_reactIntl.FormattedMessage, _core.commonMessages.orderHistory)))), __jsx("li", {
          "data-test": "desktopMenuAddressBookLink"
        }, __jsx(_link["default"], {
          href: _core.paths.accountAddressBook
        }, __jsx("a", null, __jsx(_reactIntl.FormattedMessage, _core.commonMessages.addressBook)))), __jsx("li", {
          onClick: handleSignOut,
          "data-test": "desktopMenuLogoutLink"
        }, __jsx(_reactIntl.FormattedMessage, _core.commonMessages.logOut)))
      }) : __jsx("li", {
        "data-test": "desktopMenuLoginOverlayLink",
        className: "main-menu__icon",
        onClick: function onClick() {
          return overlayContext.show(_.OverlayType.login, _.OverlayTheme.right);
        }
      }, __jsx(_reactSvg.ReactSVG, {
        src: _user["default"]
      })));
    }
  }), __jsx("li", {
    "data-test": "menuCartOverlayLink",
    className: "main-menu__icon main-menu__cart",
    onClick: function onClick() {
      overlayContext.show(_.OverlayType.cart, _.OverlayTheme.right);
    }
  }, !loading && __jsx(_react["default"].Fragment, null, __jsx(_reactSvg.ReactSVG, {
    src: _cart["default"]
  }), cartItemsQuantity > 0 ? __jsx("span", {
    className: "main-menu__cart__quantity"
  }, cartItemsQuantity) : null))), __jsx(_.Offline, null, __jsx("li", {
    className: "main-menu__offline"
  }, __jsx(_reactMedia["default"], {
    query: {
      minWidth: _constants.largeScreen
    },
    render: function render() {
      return __jsx("span", null, __jsx(_reactIntl.FormattedMessage, {
        id: "components.MainMenu.MainMenu.4144939532",
        defaultMessage: "Offline"
      }));
    }
  }))), __jsx("li", {
    "data-test": "menuSearchOverlayLink",
    className: "main-menu__search",
    onClick: function onClick() {
      return overlayContext.show(_.OverlayType.search, _.OverlayTheme.right);
    }
  }, __jsx(_reactMedia["default"], {
    query: {
      minWidth: _constants.largeScreen
    },
    render: function render() {
      return __jsx("span", null, __jsx(_reactIntl.FormattedMessage, _core.commonMessages.search));
    }
  }), __jsx(_reactSvg.ReactSVG, {
    src: _search["default"]
  }))))));
};

exports.MainMenu = MainMenu;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.NavDropdown = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _classnames = _interopRequireDefault(require("classnames"));

var _react = _interopRequireDefault(require("react"));

var _ = require("..");

var _NavItem = _interopRequireDefault(require("./NavItem"));

require("./scss/index.module.scss");

var __jsx = _react["default"].createElement;

var NavDropdown = function NavDropdown(props) {
  var onHideDropdown = props.onHideDropdown,
      onShowDropdown = props.onShowDropdown,
      showDropdown = props.showDropdown,
      children = props.children;
  return __jsx("ul", {
    className: (0, _classnames["default"])({
      "main-menu__nav-dropdown": true,
      "main-menu__nav-dropdown--active": showDropdown
    }),
    onMouseOver: onShowDropdown,
    onMouseLeave: onHideDropdown
  }, __jsx("li", null, __jsx(_.NavLink, {
    item: props,
    onClick: onHideDropdown
  })), __jsx("li", {
    className: (0, _classnames["default"])({
      "main-menu__nav-dropdown__body": true,
      "main-menu__nav-dropdown__body--visible": showDropdown
    })
  }, __jsx("ul", null, children === null || children === void 0 ? void 0 : children.map(function (subItem, i) {
    return __jsx(_NavItem["default"], (0, _extends2["default"])({
      key: i,
      hideOverlay: onHideDropdown
    }, subItem));
  }))));
};

exports.NavDropdown = NavDropdown;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _react = _interopRequireDefault(require("react"));

var _ = require("..");

var _excluded = ["hideOverlay", "children"];
var __jsx = _react["default"].createElement;

var NavItem = function NavItem(_ref) {
  var hideOverlay = _ref.hideOverlay,
      children = _ref.children,
      item = (0, _objectWithoutProperties2["default"])(_ref, _excluded);
  var content = children && children.length ? __jsx("ul", null, children.map(function (subItem, i) {
    return __jsx(NavItem, (0, _extends2["default"])({
      key: i
    }, subItem));
  })) : null;
  return __jsx("li", null, __jsx(_.NavLink, {
    item: item,
    onClick: hideOverlay
  }), content);
};

var _default = NavItem;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var React = _interopRequireWildcard(require("react"));

require("./scss/index.module.scss");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2["default"])(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var MenuDropdown = /*#__PURE__*/function (_React$Component) {
  (0, _inherits2["default"])(MenuDropdown, _React$Component);

  var _super = _createSuper(MenuDropdown);

  function MenuDropdown(props) {
    var _this;

    (0, _classCallCheck2["default"])(this, MenuDropdown);
    _this = _super.call(this, props);
    _this.state = {
      active: false
    };
    return _this;
  }

  (0, _createClass2["default"])(MenuDropdown, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      return __jsx("div", {
        "data-test": "userButton",
        className: "menu-dropdown",
        onMouseOver: function onMouseOver() {
          return _this2.setState({
            active: true
          });
        },
        onMouseLeave: function onMouseLeave() {
          return _this2.setState({
            active: false
          });
        }
      }, this.props.head, __jsx("div", {
        className: "menu-dropdown__body".concat(" menu-dropdown__body".concat(this.props.suffixClass), this.state.active ? " menu-dropdown__body--visible" : "")
      }, this.props.content));
    }
  }]);
  return MenuDropdown;
}(React.Component);

(0, _defineProperty2["default"])(MenuDropdown, "defaultProps", {
  suffixClass: ""
});
var _default = MenuDropdown;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactSvg = require("react-svg");

var _x = _interopRequireDefault(require("../../images/x.svg"));

require("./scss/index.module.scss");

var __jsx = _react["default"].createElement;

var Message = function Message(_ref) {
  var title = _ref.title,
      _ref$status = _ref.status,
      status = _ref$status === void 0 ? "neutral" : _ref$status,
      children = _ref.children,
      onClose = _ref.onClose;
  return __jsx("div", {
    className: "message message__status-".concat(status)
  }, __jsx("p", {
    className: "message__title"
  }, title), children ? __jsx("div", {
    className: "message__content"
  }, children) : null, __jsx(_reactSvg.ReactSVG, {
    src: _x["default"],
    className: "message__close-icon",
    onClick: onClose
  }));
};

var _default = Message;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _head = _interopRequireDefault(require("next/head"));

var React = _interopRequireWildcard(require("react"));

var _context = require("./context");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

var Consumer = function Consumer(_ref) {
  var children = _ref.children;
  return __jsx(_context.Consumer, null, function (_ref2) {
    var title = _ref2.title,
        description = _ref2.description,
        image = _ref2.image,
        type = _ref2.type,
        url = _ref2.url,
        custom = _ref2.custom;
    return __jsx(React.Fragment, null, __jsx(_head["default"], null, __jsx("title", null, title), __jsx("meta", {
      name: "description",
      content: description
    }), __jsx("meta", {
      property: "og:url",
      content: url
    }), __jsx("meta", {
      property: "og:title",
      content: title
    }), __jsx("meta", {
      property: "og:description",
      content: description
    }), __jsx("meta", {
      property: "og:type",
      content: type
    }), __jsx("meta", {
      property: "og:image",
      content: image
    }), console.log(custom)), children);
  });
};

var _default = Consumer;
exports["default"] = _default;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Consumer = exports.Provider = void 0;

var React = _interopRequireWildcard(require("react"));

var _config = require("../../core/config");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var _React$createContext = /*#__PURE__*/React.createContext(_config.META_DEFAULTS),
    Provider = _React$createContext.Provider,
    Consumer = _React$createContext.Consumer;

exports.Consumer = Consumer;
exports.Provider = Provider;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
Object.defineProperty(exports, "MetaProvider", {
  enumerable: true,
  get: function get() {
    return _context.Provider;
  }
});
Object.defineProperty(exports, "MetaConsumer", {
  enumerable: true,
  get: function get() {
    return _consumer["default"];
  }
});
Object.defineProperty(exports, "MetaWrapper", {
  enumerable: true,
  get: function get() {
    return _MetaWrapper["default"];
  }
});

var _context = require("./context");

var _consumer = _interopRequireDefault(require("./consumer"));

var _MetaWrapper = _interopRequireDefault(require("./MetaWrapper"));
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var React = _interopRequireWildcard(require("react"));

var _config = require("../../core/config");

var _consumer = _interopRequireDefault(require("./consumer"));

var _context = require("./context");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var removeEmpty = function removeEmpty(obj) {
  var newObj = {};
  Object.keys(obj).forEach(function (prop) {
    if (obj[prop] && obj[prop] !== "") {
      // @ts-ignore
      newObj[prop] = obj[prop];
    }
  });
  return newObj;
};

var MetaWrapper = function MetaWrapper(_ref) {
  var children = _ref.children,
      meta = _ref.meta;
  return __jsx(_context.Provider, {
    value: _objectSpread(_objectSpread({}, _config.META_DEFAULTS), removeEmpty(meta))
  }, __jsx(_consumer["default"], null, children));
};

var _default = MetaWrapper;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
Object.defineProperty(exports, "MobileNavList", {
  enumerable: true,
  get: function get() {
    return _NavList["default"];
  }
});

var _NavList = _interopRequireDefault(require("./NavList"));
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _classnames = _interopRequireDefault(require("classnames"));

var React = _interopRequireWildcard(require("react"));

var _reactSvg = require("react-svg");

var _ = require("..");

var _subcategories = _interopRequireDefault(require("../../images/subcategories.svg"));

var _excluded = ["hideOverlay", "showSubItems"];

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

var NavItem = function NavItem(_ref) {
  var hideOverlay = _ref.hideOverlay,
      showSubItems = _ref.showSubItems,
      item = (0, _objectWithoutProperties2["default"])(_ref, _excluded);
  var hasSubNavigation = item.children && !!item.children.length;
  return __jsx("li", {
    className: (0, _classnames["default"])({
      "side-nav__menu-item": true,
      "side-nav__menu-item--has-subnavigation": hasSubNavigation
    })
  }, __jsx(_.NavLink, {
    item: item,
    className: "side-nav__menu-item-link",
    onClick: hideOverlay
  }), hasSubNavigation && __jsx(_reactSvg.ReactSVG, {
    src: _subcategories["default"],
    className: "side-nav__menu-item-more",
    onClick: function onClick() {
      return showSubItems(item);
    }
  }));
};

var _default = NavItem;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _core = require("@mzawadie/core");

var _link = _interopRequireDefault(require("next/link"));

var React = _interopRequireWildcard(require("react"));

var _reactIntl = require("react-intl");

var _reactSvg = require("react-svg");

var _arrowBack = _interopRequireDefault(require("../../images/arrow-back.svg"));

var _logo = _interopRequireDefault(require("../../images/logo.svg"));

var _NavItem = _interopRequireDefault(require("./NavItem"));

require("./scss/index.module.scss");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2["default"])(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var NavList = /*#__PURE__*/function (_React$PureComponent) {
  (0, _inherits2["default"])(NavList, _React$PureComponent);

  var _super = _createSuper(NavList);

  function NavList() {
    var _this;

    (0, _classCallCheck2["default"])(this, NavList);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "state", {
      displayedItems: _this.props.items,
      parent: null
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "handleShowSubItems", function (item) {
      _this.setState({
        parent: item,
        displayedItems: item.children
      });
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "handleGoBack", function () {
      var grandparent = _this.state.parent.parent;

      if (!grandparent) {
        _this.setState({
          parent: null,
          displayedItems: _this.props.items
        });
      } else {
        var newParent = _this.findItemById(grandparent.id);

        _this.setState({
          displayedItems: newParent.children,
          parent: newParent
        });
      }
    });
    return _this;
  }

  (0, _createClass2["default"])(NavList, [{
    key: "findItemById",
    value: function findItemById(id) {
      var match = null;

      function find(item) {
        if (item.id === id) {
          match = item;
          return true;
        }

        return item.children && item.children.some(find);
      }

      this.props.items.some(find);
      return match;
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var hideOverlay = this.props.hideOverlay;
      var _this$state = this.state,
          displayedItems = _this$state.displayedItems,
          parent = _this$state.parent;
      return __jsx("ul", null, parent ? __jsx("li", {
        className: "side-nav__menu-item side-nav__menu-item-back"
      }, __jsx("span", {
        onClick: this.handleGoBack
      }, __jsx(_reactSvg.ReactSVG, {
        src: _arrowBack["default"]
      }), " ", parent.name)) : __jsx(React.Fragment, null, __jsx("li", {
        className: "side-nav__menu-item side-nav__menu-item--parent"
      }, __jsx(_link["default"], {
        href: _core.paths.home
      }, __jsx("a", {
        className: "side-nav__menu-item-logo"
      }, __jsx(_reactSvg.ReactSVG, {
        src: _logo["default"],
        onClick: hideOverlay
      }))), __jsx("span", {
        className: "side-nav__menu-item-close",
        onClick: hideOverlay
      }, __jsx("span", null))), __jsx("li", {
        className: "side-nav__menu-item"
      }, __jsx(_link["default"], {
        href: _core.paths.home
      }, __jsx("a", {
        className: "side-nav__menu-item-link"
      }, __jsx("span", {
        onClick: hideOverlay
      }, __jsx(_reactIntl.FormattedMessage, _core.commonMessages.home)))))), displayedItems.map(function (item) {
        return __jsx(_NavItem["default"], (0, _extends2["default"])({
          key: item.id,
          hideOverlay: hideOverlay,
          showSubItems: _this2.handleShowSubItems
        }, item));
      }));
    }
  }]);
  return NavList;
}(React.PureComponent);

var _default = NavList;
exports["default"] = _default;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
var _exportNames = {};
Object.defineProperty(exports, "default", {
  enumerable: true,
  get: function get() {
    return _Modal["default"];
  }
});

var _Modal = _interopRequireWildcard(require("./Modal"));

Object.keys(_Modal).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;
  if (key in exports && exports[key] === _Modal[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _Modal[key];
    }
  });
});

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _core = require("@mzawadie/core");

var _modalClose = _interopRequireDefault(require("images/modal-close.svg"));

var React = _interopRequireWildcard(require("react"));

var ReactDOM = _interopRequireWildcard(require("react-dom"));

var _reactSvg = require("react-svg");

var _ = require("..");

require("./scss/index.module.scss");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;
var modalRoot = !_core.ssrMode ? document.getElementById("modal-root") : undefined;

var Modal = function Modal(_ref) {
  var cancelBtnText = _ref.cancelBtnText,
      children = _ref.children,
      hide = _ref.hide,
      loading = _ref.loading,
      _ref$formId = _ref.formId,
      formId = _ref$formId === void 0 ? "modal-submit" : _ref$formId,
      submitBtnText = _ref.submitBtnText,
      _ref$target = _ref.target,
      target = _ref$target === void 0 ? modalRoot : _ref$target,
      show = _ref.show,
      title = _ref.title;
  return target && show ? /*#__PURE__*/ReactDOM.createPortal(__jsx("div", {
    className: "overlay overlay--modal"
  }, __jsx("div", {
    className: "overlay__modal"
  }, __jsx("div", {
    className: "modal"
  }, __jsx("div", {
    className: "modal__title"
  }, __jsx("p", null, title), __jsx(_reactSvg.ReactSVG, {
    src: _modalClose["default"],
    className: "modal__close",
    onClick: hide
  })), __jsx("div", {
    className: "modal__content"
  }, children), __jsx("div", {
    className: "modal__footer"
  }, cancelBtnText && __jsx("button", {
    className: "modal__cancelBtn",
    onClick: hide
  }, cancelBtnText), submitBtnText && __jsx(_.Button, {
    type: "submit",
    form: formId,
    disabled: loading,
    className: "modal__button"
  }, loading ? "Loading" : submitBtnText))))), target) : null;
};

var _default = Modal;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.NavLink = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _core = require("@mzawadie/core");

var _link = _interopRequireDefault(require("next/link"));

var React = _interopRequireWildcard(require("react"));

var _excluded = ["item"];

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

var NavLink = function NavLink(_ref) {
  var item = _ref.item,
      props = (0, _objectWithoutProperties2["default"])(_ref, _excluded);
  var name = item.name,
      url = item.url,
      category = item.category,
      collection = item.collection,
      page = item.page;

  var link = function link(url) {
    return __jsx(_link["default"], {
      passHref: true,
      href: url
    }, __jsx("a", props, name));
  };

  if (url) {
    return __jsx("a", (0, _extends2["default"])({
      href: url
    }, props), name);
  } else if (category) {
    return link((0, _core.generateCategoryUrl)(category.id, category.name));
  } else if (collection) {
    return link((0, _core.generateCollectionUrl)(collection.id, collection.name));
  } else if (page) {
    return link((0, _core.generatePageUrl)(page.slug));
  }

  return __jsx("span", props, name);
};

exports.NavLink = NavLink;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _react = _interopRequireDefault(require("react"));

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2["default"])(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var NetworkStatus = /*#__PURE__*/function (_React$Component) {
  (0, _inherits2["default"])(NetworkStatus, _React$Component);

  var _super = _createSuper(NetworkStatus);

  function NetworkStatus() {
    var _this;

    (0, _classCallCheck2["default"])(this, NetworkStatus);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "state", {
      online: "onLine" in navigator ? navigator.onLine : true
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "updateOnlineStatus", function () {
      if (_this.props.cb) {
        _this.props.cb(navigator.onLine);
      }

      _this.setState({
        online: navigator.onLine
      });
    });
    return _this;
  }

  (0, _createClass2["default"])(NetworkStatus, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      addEventListener("offline", this.updateOnlineStatus);
      addEventListener("online", this.updateOnlineStatus);
      this.updateOnlineStatus();
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      removeEventListener("offline", this.updateOnlineStatus);
      removeEventListener("online", this.updateOnlineStatus);
    }
  }, {
    key: "render",
    value: function render() {
      return this.props.children(this.state.online);
    }
  }]);
  return NetworkStatus;
}(_react["default"].Component);

var _default = NetworkStatus;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.NextQueryParamProvider = exports.NextQueryParamProviderComponent = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _core = require("@mzawadie/core");

var _router = require("next/router");

var _react = _interopRequireWildcard(require("react"));

var _useQueryParams = require("use-query-params");

var _excluded = ["children"];

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

var NextQueryParamProviderComponent = function NextQueryParamProviderComponent(props) {
  var children = props.children,
      rest = (0, _objectWithoutProperties2["default"])(props, _excluded);
  var router = (0, _router.useRouter)();
  var match = router.asPath.match(/[^?]+/);
  var pathname = match ? match[0] : router.asPath;
  var location = (0, _react.useMemo)(function () {
    return _core.ssrMode ? {
      search: router.asPath.replace(/(?:(?!\?)[\s\S])+/, "")
    } : window.location;
  }, [router.asPath]);
  var history = (0, _react.useMemo)(function () {
    return {
      push: function push(_ref) {
        var search = _ref.search;
        return router.push({
          pathname: router.pathname,
          query: router.query
        }, {
          search: search,
          pathname: pathname
        }, {
          shallow: true
        });
      },
      replace: function replace(_ref2) {
        var search = _ref2.search;
        return router.replace({
          pathname: router.pathname,
          query: router.query
        }, {
          search: search,
          pathname: pathname
        }, {
          shallow: true
        });
      }
    };
  }, [pathname, router]);
  return __jsx(_useQueryParams.QueryParamProvider, (0, _extends2["default"])({}, rest, {
    history: history,
    location: location
  }), children);
};

exports.NextQueryParamProviderComponent = NextQueryParamProviderComponent;
var NextQueryParamProvider = /*#__PURE__*/(0, _react.memo)(NextQueryParamProviderComponent);
exports.NextQueryParamProvider = NextQueryParamProvider;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _core = require("@mzawadie/core");

var _link = _interopRequireDefault(require("next/link"));

var _react = _interopRequireDefault(require("react"));

var _reactIntl = require("react-intl");

var _Button = _interopRequireDefault(require("../Button"));

require("./scss/index.module.scss");

var __jsx = _react["default"].createElement;

var NotFound = function NotFound() {
  return __jsx("div", {
    className: "not-found-page"
  }, __jsx("h2", {
    className: "not-found-page__header"
  }, __jsx(_reactIntl.FormattedMessage, {
    id: "components.NotFound.index.3478767873",
    defaultMessage: "404"
  })), __jsx("div", {
    className: "not-found-page__ruler"
  }), __jsx("div", {
    className: "not-found-page__message"
  }, __jsx("p", null, __jsx(_reactIntl.FormattedMessage, {
    id: "components.NotFound.index.680965574",
    defaultMessage: "We can\u2019t seem to find a page you are looking for!"
  }), " "), __jsx("p", null, __jsx(_reactIntl.FormattedMessage, {
    id: "components.NotFound.index.1782529840",
    defaultMessage: "You may have mistyped the address or the page may have moved."
  }), " "), __jsx("p", null, __jsx(_reactIntl.FormattedMessage, {
    id: "components.NotFound.index.3141549744",
    defaultMessage: "We\u2019re sorry for the error and hope you\u2019ll have a good day."
  }))), __jsx("div", {
    className: "not-found-page__button"
  }, __jsx(_link["default"], {
    href: _core.paths.home
  }, __jsx("a", null, __jsx(_Button["default"], {
    testingContext: "404pageGotoHomeButton",
    secondary: true
  }, __jsx(_reactIntl.FormattedMessage, {
    id: "components.NotFound.index.1723676032",
    defaultMessage: "Back to home"
  }))))));
};

var _default = NotFound;
exports["default"] = _default;

"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
Object.defineProperty(exports, "default", {
  enumerable: true,
  get: function get() {
    return _NotificationTemplate["default"];
  }
});

var _NotificationTemplate = _interopRequireDefault(require("./NotificationTemplate"));
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = exports.NotificationTemplate = void 0;

var _react = _interopRequireDefault(require("react"));

var _ = require("..");

require("./scss/index.module.scss");

var __jsx = _react["default"].createElement;

var NotificationTemplate = function NotificationTemplate(_ref) {
  var message = _ref.message,
      options = _ref.options,
      close = _ref.close;
  return __jsx("div", {
    className: "notification"
  }, __jsx(_.Message, {
    title: message.title,
    status: options.type,
    onClose: close
  }, message.content));
};

exports.NotificationTemplate = NotificationTemplate;
var _default = NotificationTemplate;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var React = _interopRequireWildcard(require("react"));

var _ = _interopRequireDefault(require("./"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

var Offline = function Offline(_ref) {
  var children = _ref.children;
  return __jsx(_["default"], null, function (online) {
    return online ? null : children;
  });
};

var _default = Offline;
exports["default"] = _default;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var React = _interopRequireWildcard(require("react"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

var OfflinePlaceholder = function OfflinePlaceholder() {
  return __jsx(React.Fragment, null, "OFFLINE :(");
};

var _default = OfflinePlaceholder;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var React = _interopRequireWildcard(require("react"));

var _NetworkStatus = _interopRequireDefault(require("../NetworkStatus"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

var Online = function Online(_ref) {
  var children = _ref.children;
  return __jsx(_NetworkStatus["default"], null, function (online) {
    return online ? children : null;
  });
};

var _default = Online;
exports["default"] = _default;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.OverlayContext = exports.OverlayTheme = exports.OverlayType = void 0;

var React = _interopRequireWildcard(require("react"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var OverlayType;
exports.OverlayType = OverlayType;

(function (OverlayType) {
  OverlayType["cart"] = "cart";
  OverlayType["checkout"] = "checkout";
  OverlayType["login"] = "login";
  OverlayType["message"] = "message";
  OverlayType["sideNav"] = "side-nav";
  OverlayType["password"] = "password";
  OverlayType["search"] = "search";
  OverlayType["mainMenuNav"] = "main-menu-nav";
  OverlayType["modal"] = "modal";
  OverlayType["register"] = "register";
})(OverlayType || (exports.OverlayType = OverlayType = {}));

var OverlayTheme;
exports.OverlayTheme = OverlayTheme;

(function (OverlayTheme) {
  OverlayTheme["left"] = "left";
  OverlayTheme["right"] = "right";
  OverlayTheme["modal"] = "modal";
})(OverlayTheme || (exports.OverlayTheme = OverlayTheme = {}));

/* tslint:disable:no-empty */
var OverlayContext = /*#__PURE__*/React.createContext({
  context: null,
  hide: function hide() {},
  show: function show(type) {},
  theme: null,
  type: null
});
/* tslint:enable:no-empty */

exports.OverlayContext = OverlayContext;
OverlayContext.displayName = "OverlayContext";
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
Object.defineProperty(exports, "Overlay", {
  enumerable: true,
  get: function get() {
    return _Overlay["default"];
  }
});
Object.defineProperty(exports, "OverlayProvider", {
  enumerable: true,
  get: function get() {
    return _provider["default"];
  }
});
Object.defineProperty(exports, "OverlayContext", {
  enumerable: true,
  get: function get() {
    return _context.OverlayContext;
  }
});
Object.defineProperty(exports, "OverlayTheme", {
  enumerable: true,
  get: function get() {
    return _context.OverlayTheme;
  }
});
Object.defineProperty(exports, "OverlayType", {
  enumerable: true,
  get: function get() {
    return _context.OverlayType;
  }
});

var _Overlay = _interopRequireDefault(require("./Overlay"));

var _provider = _interopRequireDefault(require("./provider"));

var _context = require("./context");
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _classnames = _interopRequireDefault(require("classnames"));

var React = _interopRequireWildcard(require("react"));

require("./scss/index.module.scss");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

var Overlay = function Overlay(_ref) {
  var _classNames;

  var children = _ref.children,
      className = _ref.className,
      _ref$context = _ref.context,
      type = _ref$context.type,
      theme = _ref$context.theme,
      hide = _ref$context.hide,
      testingContext = _ref.testingContext;
  return __jsx("div", {
    className: (0, _classnames["default"])("overlay", (_classNames = {}, (0, _defineProperty2["default"])(_classNames, "overlay--".concat(type), !!type), (0, _defineProperty2["default"])(_classNames, className, !!className), _classNames)),
    "data-test": testingContext,
    onClick: hide
  }, __jsx("div", {
    className: "overlay__".concat(theme),
    onClick: function onClick(e) {
      return e.stopPropagation();
    }
  }, children));
};

var _default = Overlay;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _core = require("@mzawadie/core");

var React = _interopRequireWildcard(require("react"));

var _context = require("./context");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2["default"])(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var Provider = /*#__PURE__*/function (_React$Component) {
  (0, _inherits2["default"])(Provider, _React$Component);

  var _super = _createSuper(Provider);

  function Provider(props) {
    var _this;

    (0, _classCallCheck2["default"])(this, Provider);
    _this = _super.call(this, props);
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "notificationCloseDelay", 2500);
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "show", function (type, theme, context) {
      _this.setState({
        type: type,
        theme: theme,
        context: context
      });

      !_core.ssrMode ? document.body.style.overflow = type !== _context.OverlayType.message ? "hidden" : "" : undefined;

      if (type === _context.OverlayType.message) {
        setTimeout(_this.hide, _this.notificationCloseDelay);
      }
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "hide", function () {
      _this.setState({
        type: null
      });

      !_core.ssrMode ? document.body.style.overflow = "" : undefined;
    });
    _this.state = {
      context: null,
      hide: _this.hide,
      show: _this.show,
      theme: null,
      type: null
    };
    return _this;
  }

  (0, _createClass2["default"])(Provider, [{
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      if (this.props.pathname !== prevProps.pathname && this.state.type !== _context.OverlayType.message) {
        this.hide();
      }
    }
  }, {
    key: "render",
    value: function render() {
      return __jsx(_context.OverlayContext.Provider, {
        value: this.state
      }, this.props.children);
    }
  }]);
  return Provider;
}(React.Component);

var _default = Provider;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _core = require("@mzawadie/core");

var _containers = require("@mzawadie/prototype/containers");

var _sdk = require("@mzawadie/sdk");

var _link = _interopRequireDefault(require("next/link"));

var React = _interopRequireWildcard(require("react"));

var _reactIntl = require("react-intl");

var _reactSvg = require("react-svg");

var _ = require("../..");

var _cart = _interopRequireDefault(require("../../../images/cart.svg"));

var _x = _interopRequireDefault(require("../../../images/x.svg"));

var _Empty = _interopRequireDefault(require("./Empty"));

var _ProductList = _interopRequireDefault(require("./ProductList"));

require("./scss/index.module.scss");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

var Cart = function Cart(_ref) {
  var overlay = _ref.overlay;

  var _useAuth = (0, _sdk.useAuth)(),
      user = _useAuth.user;

  var _useCart = (0, _sdk.useCart)(),
      items = _useCart.items,
      removeItem = _useCart.removeItem,
      subtotalPrice = _useCart.subtotalPrice;

  return __jsx(_.Overlay, {
    testingContext: "cartOverlay",
    context: overlay
  }, __jsx(_.Online, null, __jsx("div", {
    className: "cart"
  }, __jsx("div", {
    className: "overlay__header"
  }, __jsx(_reactSvg.ReactSVG, {
    src: _cart["default"],
    className: "overlay__header__cart-icon"
  }), __jsx("div", {
    className: "overlay__header-text"
  }, "My bag,", " ", __jsx("span", {
    className: "overlay__header-text-items"
  }, (items === null || items === void 0 ? void 0 : items.reduce(function (prevVal, currVal) {
    return prevVal + currVal.quantity;
  }, 0)) || 0, " ", "items")), __jsx(_reactSvg.ReactSVG, {
    src: _x["default"],
    onClick: overlay.hide,
    className: "overlay__header__close-icon"
  })), items !== null && items !== void 0 && items.length ? __jsx(React.Fragment, null, __jsx(_ProductList["default"], {
    lines: items,
    remove: removeItem
  }), __jsx("div", {
    className: "cart__footer"
  }, __jsx("div", {
    className: "cart__footer__subtotoal"
  }, __jsx("span", null, "Subtotal"), __jsx("span", null, __jsx(_containers.TaxedMoney, {
    "data-cy": "cartPageSubtotalPrice",
    taxedMoney: subtotalPrice
  }))), __jsx("div", {
    className: "cart__footer__button"
  }, __jsx(_link["default"], {
    href: _core.paths.cart
  }, __jsx("a", null, __jsx(_.Button, {
    testingContext: "gotoCartViewButton",
    secondary: true
  }, __jsx(_reactIntl.FormattedMessage, {
    id: "components.OverlayManager.Cart.Cart.2426849470",
    defaultMessage: "Go to my bag"
  }))))), __jsx("div", {
    className: "cart__footer__button"
  }, __jsx(_link["default"], {
    href: user ? _core.paths.checkout : _core.paths.login
  }, __jsx("a", null, __jsx(_.Button, {
    testingContext: "gotoCheckoutButton"
  }, __jsx(_reactIntl.FormattedMessage, {
    id: "components.OverlayManager.Cart.Cart.1403763870",
    defaultMessage: "Checkout"
  }))))))) : __jsx(_Empty["default"], {
    overlayHide: overlay.hide
  }))), __jsx(_.Offline, null, __jsx("div", {
    className: "cart"
  }, __jsx(_.OfflinePlaceholder, null))));
};

var _default = Cart;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _react = _interopRequireDefault(require("react"));

var _ = require("../..");

var __jsx = _react["default"].createElement;

var Empty = function Empty(_ref) {
  var overlayHide = _ref.overlayHide;
  return __jsx("div", {
    className: "cart__empty"
  }, __jsx("h4", null, "Your bag is empty"), __jsx("p", null, "You haven\u2019t added anything to your bag. We\u2019re sure you\u2019ll find something in our store"), __jsx("div", {
    className: "cart__empty__action"
  }, __jsx(_.Button, {
    testingContext: "EmptyPageContinueShopping",
    secondary: true,
    onClick: overlayHide
  }, "Continue Shopping")));
};

var _default = Empty;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
Object.defineProperty(exports, "default", {
  enumerable: true,
  get: function get() {
    return _Cart["default"];
  }
});

var _Cart = _interopRequireDefault(require("./Cart"));
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _utils = require("@mzawadie/core/utils");

var _containers = require("@mzawadie/prototype/containers");

var _molecules = require("@mzawadie/prototype/molecules");

var _link = _interopRequireDefault(require("next/link"));

var React = _interopRequireWildcard(require("react"));

var _reactSvg = require("react-svg");

var _garbage = _interopRequireDefault(require("../../../images/garbage.svg"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

var ProductList = function ProductList(_ref) {
  var lines = _ref.lines,
      remove = _ref.remove;
  return __jsx("ul", {
    className: "cart__list"
  }, lines.map(function (line, index) {
    var productUrl = (0, _utils.generateProductUrl)(line.variant.product.id, line.variant.product.name);
    var key = line.id ? "id-".concat(line.id) : "idx-".concat(index);
    return __jsx("li", {
      key: key,
      className: "cart__list__item"
    }, __jsx(_link["default"], {
      href: productUrl
    }, __jsx("a", null, __jsx(_molecules.Thumbnail, {
      source: line.variant.product
    }))), __jsx("div", {
      className: "cart__list__item__details"
    }, __jsx("p", null, __jsx(_containers.TaxedMoney, {
      taxedMoney: line.variant.pricing.price
    })), __jsx(_link["default"], {
      href: productUrl
    }, __jsx("a", null, __jsx("p", null, line.variant.product.name))), __jsx("span", {
      className: "cart__list__item__details__variant"
    }, __jsx("span", null, line.variant.name), __jsx("span", null, "Qty: ".concat(line.quantity))), __jsx(_reactSvg.ReactSVG, {
      src: _garbage["default"],
      className: "cart__list__item__details__delete-icon",
      onClick: function onClick() {
        return remove(line.variant.id);
      }
    })));
  }));
};

var _default = ProductList;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
Object.defineProperty(exports, "OverlayManager", {
  enumerable: true,
  get: function get() {
    return _Manager["default"];
  }
});

var _Manager = _interopRequireDefault(require("./Manager"));
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactIntl = require("react-intl");

var __jsx = _react["default"].createElement;

var ForgottenPassword = function ForgottenPassword(_ref) {
  var onClick = _ref.onClick;
  return __jsx(_react["default"].Fragment, null, __jsx("div", {
    className: "login__content__password-reminder"
  }, __jsx("p", null, __jsx(_reactIntl.FormattedMessage, {
    id: "components.OverlayManager.Login.ForgottenPassword.1214263298",
    defaultMessage: "Have you forgotten your password?"
  }), " ", __jsx("span", {
    className: "u-link",
    onClick: onClick,
    "data-test": "accountOverlayForgottenPasswordLink"
  }, __jsx(_reactIntl.FormattedMessage, {
    id: "components.OverlayManager.Login.ForgottenPassword.1781368875",
    defaultMessage: "Click Here"
  })))));
};

var _default = ForgottenPassword;
exports["default"] = _default;

"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _atoms = require("@mzawadie/prototype/atoms");

var React = _interopRequireWildcard(require("react"));

var _reactIntl = require("react-intl");

var _reactSvg = require("react-svg");

var _ = require("../..");

var _x = _interopRequireDefault(require("../../../images/x.svg"));

var _ForgottenPassword = _interopRequireDefault(require("./ForgottenPassword"));

var _RegisterForm = _interopRequireDefault(require("./RegisterForm"));

require("./scss/index.module.scss");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2["default"])(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var Login = /*#__PURE__*/function (_React$Component) {
  (0, _inherits2["default"])(Login, _React$Component);

  var _super = _createSuper(Login);

  function Login(props) {
    var _this;

    (0, _classCallCheck2["default"])(this, Login);
    _this = _super.call(this, props);
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "changeActiveTab", function (active) {
      _this.setState({
        active: active
      });
    });
    _this.state = {
      active: props.active
    };
    return _this;
  }

  (0, _createClass2["default"])(Login, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      var overlay = this.props.overlay;
      var show = overlay.show,
          hide = overlay.hide;
      return __jsx(_.Overlay, {
        testingContext: "loginOverlay",
        context: overlay
      }, __jsx("div", {
        className: "login"
      }, __jsx(_.Online, null, __jsx("div", {
        className: "overlay__header"
      }, __jsx("p", {
        className: "overlay__header-text"
      }, __jsx(_reactIntl.FormattedMessage, {
        id: "components.OverlayManager.Login.index.1400394283",
        defaultMessage: "Mzawadie account"
      })), __jsx(_reactSvg.ReactSVG, {
        src: _x["default"],
        onClick: hide,
        className: "overlay__header__close-icon"
      })), __jsx("div", {
        className: "login__tabs"
      }, __jsx("span", {
        "data-test": "loginTab",
        onClick: function onClick() {
          return _this2.changeActiveTab("login");
        },
        className: this.state.active === "login" ? "active-tab" : ""
      }, __jsx(_reactIntl.FormattedMessage, {
        id: "components.OverlayManager.Login.index.3293735236",
        defaultMessage: "Sign in to account"
      })), __jsx("span", {
        "data-test": "registerTab",
        onClick: function onClick() {
          return _this2.changeActiveTab("register");
        },
        className: this.state.active === "register" ? "active-tab" : ""
      }, __jsx(_reactIntl.FormattedMessage, {
        id: "components.OverlayManager.Login.index.3254057623",
        defaultMessage: "Register new account"
      }))), __jsx("div", {
        className: "login__content"
      }, this.state.active === "login" ? __jsx(React.Fragment, null, __jsx(_.LoginForm, {
        hide: hide
      }), __jsx(_ForgottenPassword["default"], {
        onClick: function onClick() {
          show(_.OverlayType.password, _.OverlayTheme.right);
        }
      })) : __jsx(_RegisterForm["default"], {
        hide: hide
      }))), __jsx(_.Offline, null, __jsx(_atoms.OfflinePlaceholder, null))));
    }
  }]);
  return Login;
}(React.Component);

(0, _defineProperty2["default"])(Login, "defaultProps", {
  active: "login"
});
var _default = Login;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.TypedAccountRegisterMutation = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _client = require("@apollo/client");

var _mutations = require("@mzawadie/core/mutations");

var _templateObject;

var accountRegisterMutation = (0, _client.gql)(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    mutation RegisterAccount(\n        $email: String!\n        $password: String!\n        $redirectUrl: String\n        $channel: String\n    ) {\n        accountRegister(\n            input: { email: $email, password: $password, redirectUrl: $redirectUrl, channel: $channel }\n        ) {\n            errors {\n                field\n                message\n            }\n            requiresConfirmation\n        }\n    }\n"])));
var TypedAccountRegisterMutation = (0, _mutations.TypedMutation)(accountRegisterMutation);
exports.TypedAccountRegisterMutation = TypedAccountRegisterMutation;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _core = require("@mzawadie/core");

var React = _interopRequireWildcard(require("react"));

var _reactAlert = require("react-alert");

var _reactIntl = require("react-intl");

var _ = require("../..");

var _queries = require("./queries");

require("./scss/index.module.scss");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

var showSuccessNotification = function showSuccessNotification(data, hide, alert, intl) {
  var successful = (0, _core.maybe)(function () {
    return !data.accountRegister.errors.length;
  });

  if (successful) {
    hide();
    alert.show({
      title: data.accountRegister.requiresConfirmation ? intl.formatMessage({
        "id": "components.OverlayManager.Login.RegisterForm.2622394113",
        "defaultMessage": "Please check your e-mail for further instructions"
      }) : intl.formatMessage({
        "id": "components.OverlayManager.Login.RegisterForm.590842025",
        "defaultMessage": "New user has been created"
      })
    }, {
      type: "success",
      timeout: 5000
    });
  }
};

var RegisterForm = function RegisterForm(_ref) {
  var hide = _ref.hide;
  var alert = (0, _reactAlert.useAlert)();
  var intl = (0, _reactIntl.useIntl)();
  return __jsx(_queries.TypedAccountRegisterMutation, {
    onCompleted: function onCompleted(data) {
      return showSuccessNotification(data, hide, alert, intl);
    }
  }, function (registerCustomer, _ref2) {
    var loading = _ref2.loading,
        data = _ref2.data;
    return __jsx(_.Form, {
      errors: (0, _core.maybe)(function () {
        return data.accountRegister.errors;
      }, []),
      onSubmit: function onSubmit(event, _ref3) {
        var email = _ref3.email,
            password = _ref3.password;
        event.preventDefault();
        var redirectUrl = "".concat(location.origin).concat(_core.paths.accountConfirm);
        registerCustomer({
          variables: {
            email: email,
            password: password,
            redirectUrl: redirectUrl,
            channel: _core.channelSlug
          }
        });
      }
    }, __jsx(_.TextField, {
      name: "email",
      autoComplete: "email",
      label: intl.formatMessage(_core.commonMessages.eMail),
      type: "email",
      required: true
    }), __jsx(_.TextField, {
      name: "password",
      autoComplete: "password",
      label: intl.formatMessage(_core.commonMessages.password),
      type: "password",
      required: true
    }), __jsx("div", {
      className: "login__content__button"
    }, __jsx(_.Button, (0, _extends2["default"])({
      testingContext: "submitRegisterFormButton",
      type: "submit"
    }, loading && {
      disabled: true
    }), loading ? intl.formatMessage(_core.commonMessages.loading) : intl.formatMessage({
      "id": "components.OverlayManager.Login.RegisterForm.2556234295",
      "defaultMessage": "Register"
    }))));
  });
};

var _default = RegisterForm;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var React = _interopRequireWildcard(require("react"));

var _ = require("..");

var _Cart = _interopRequireDefault(require("./Cart"));

var _Login = _interopRequireDefault(require("./Login"));

var _MobileNav = _interopRequireDefault(require("./MobileNav"));

var _Modal = _interopRequireDefault(require("./Modal"));

var _Notification = _interopRequireDefault(require("./Notification"));

var _Password = _interopRequireDefault(require("./Password"));

var _Search = _interopRequireDefault(require("./Search"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

var OverlayManager = function OverlayManager() {
  return __jsx(_.OverlayContext.Consumer, null, function (overlay) {
    switch (overlay.type) {
      case _.OverlayType.modal:
        return __jsx(_Modal["default"], {
          testingContext: "modal",
          overlay: overlay
        });

      case _.OverlayType.message:
        return __jsx(_Notification["default"], {
          overlay: overlay
        });

      case _.OverlayType.cart:
        return __jsx(_Cart["default"], {
          overlay: overlay
        });

      case _.OverlayType.search:
        return __jsx(_Search["default"], {
          overlay: overlay
        });

      case _.OverlayType.login:
        return __jsx(_Login["default"], {
          overlay: overlay
        });

      case _.OverlayType.register:
        return __jsx(_Login["default"], {
          overlay: overlay,
          active: "register"
        });

      case _.OverlayType.password:
        return __jsx(_Password["default"], {
          overlay: overlay
        });

      case _.OverlayType.sideNav:
        return __jsx(_MobileNav["default"], {
          overlay: overlay
        });

      case _.OverlayType.mainMenuNav:
        return __jsx(_.Overlay, {
          testingContext: "mainMenuOverlay",
          context: overlay
        });

      default:
        return null;
    }
  });
};

var _default = OverlayManager;
exports["default"] = _default;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var React = _interopRequireWildcard(require("react"));

var _ = require("..");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

var MobileNav = function MobileNav(_ref) {
  var _overlay$context;

  var overlay = _ref.overlay;
  var items = (_overlay$context = overlay.context) === null || _overlay$context === void 0 ? void 0 : _overlay$context.data;
  return __jsx(_.Overlay, {
    testingContext: "mobileNavigationOverlay",
    context: overlay
  }, __jsx("div", {
    className: "side-nav",
    onClick: function onClick(evt) {
      return evt.stopPropagation();
    }
  }, __jsx(_.MobileNavList, {
    items: items,
    hideOverlay: overlay.hide
  })));
};

var _default = MobileNav;
exports["default"] = _default;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var React = _interopRequireWildcard(require("react"));

var _ = require("../..");

require("./scss/index.module.scss");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

var Modal = function Modal(_ref) {
  var _overlay$context;

  var overlay = _ref.overlay,
      testingContext = _ref.testingContext;
  return __jsx(_.Overlay, {
    testingContext: testingContext,
    context: overlay
  }, (_overlay$context = overlay.context) === null || _overlay$context === void 0 ? void 0 : _overlay$context.content);
};

var _default = Modal;
exports["default"] = _default;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = exports.NotificationOverlay = void 0;

var React = _interopRequireWildcard(require("react"));

var _ = require("..");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

var NotificationOverlay = function NotificationOverlay(_ref) {
  var _ref$overlay = _ref.overlay,
      hide = _ref$overlay.hide,
      context = _ref$overlay.context;
  return __jsx(_.Message, {
    title: context === null || context === void 0 ? void 0 : context.title,
    status: context === null || context === void 0 ? void 0 : context.status,
    onClose: hide
  }, context === null || context === void 0 ? void 0 : context.content);
};

exports.NotificationOverlay = NotificationOverlay;
var _default = NotificationOverlay;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _atoms = require("@mzawadie/prototype/atoms");

var React = _interopRequireWildcard(require("react"));

var _reactIntl = require("react-intl");

var _reactSvg = require("react-svg");

var _ = require("../..");

var _x = _interopRequireDefault(require("../../../images/x.svg"));

require("./scss/index.module.scss");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

var Password = function Password(_ref) {
  var overlay = _ref.overlay;
  return __jsx(_.Overlay, {
    testingContext: "passwordOverlay",
    context: overlay
  }, __jsx("div", {
    className: "password-reset"
  }, __jsx(_.Online, null, __jsx("div", {
    className: "overlay__header"
  }, __jsx("p", {
    className: "overlay__header-text"
  }, __jsx(_reactIntl.FormattedMessage, {
    id: "components.OverlayManager.Password.index.4028609483",
    defaultMessage: "Reset your password"
  })), __jsx(_reactSvg.ReactSVG, {
    src: _x["default"],
    onClick: overlay.hide,
    className: "overlay__header__close-icon"
  })), __jsx("div", {
    className: "password-reset__content"
  }, __jsx(_.PasswordResetForm, null))), __jsx(_.Offline, null, __jsx(_atoms.OfflinePlaceholder, null))));
};

var _default = Password;
exports["default"] = _default;

"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
Object.defineProperty(exports, "default", {
  enumerable: true,
  get: function get() {
    return _Search["default"];
  }
});

var _Search = _interopRequireDefault(require("./Search"));
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = exports.NothingFound = void 0;

var React = _interopRequireWildcard(require("react"));

var _reactIntl = require("react-intl");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

var NothingFound = function NothingFound(_ref) {
  var search = _ref.search;
  return __jsx("div", {
    className: "search__products--not-found"
  }, __jsx("p", {
    className: "u-lead u-lead--bold u-uppercase"
  }, __jsx(_reactIntl.FormattedMessage, {
    id: "components.OverlayManager.Search.NothingFound.3166222023",
    defaultMessage: "Sorry, but we couldn\u2019t match any search results for: {search}",
    values: {
      search: search
    }
  })), __jsx("p", null, __jsx(_reactIntl.FormattedMessage, {
    id: "components.OverlayManager.Search.NothingFound.1777769494",
    defaultMessage: "Don\u2019t give up - check the spelling, think of something less specific and then use the search bar above."
  })));
};

exports.NothingFound = NothingFound;
var _default = NothingFound;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _core = require("@mzawadie/core");

var _molecules = require("@mzawadie/prototype/molecules");

var _link = _interopRequireDefault(require("next/link"));

var _react = _interopRequireDefault(require("react"));

var __jsx = _react["default"].createElement;

var ProductItem = function ProductItem(_ref) {
  var _product$category;

  var product = _ref.node;
  return __jsx("li", {
    className: "search__products__item"
  }, __jsx(_link["default"], {
    href: (0, _core.generateProductUrl)(product.id, product.name)
  }, __jsx("a", null, __jsx(_molecules.Thumbnail, {
    source: product
  }), __jsx("span", null, __jsx("h4", null, product.name), __jsx("p", null, ((_product$category = product.category) === null || _product$category === void 0 ? void 0 : _product$category.name) || "-")))));
};

var _default = ProductItem;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.TypedSearchResults = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _graphqlTag = _interopRequireDefault(require("graphql-tag"));

var _queries = require("../../../core/queries");

var _templateObject;

var searchResultsQuery = (0, _graphqlTag["default"])(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    query SearchResults($query: String!, $channel: String) {\n        products(filter: { search: $query }, channel: $channel, first: 20) {\n            edges {\n                node {\n                    id\n                    name\n                    slug\n                    thumbnail {\n                        url\n                        alt\n                    }\n                    thumbnail2x: thumbnail(size: 510) {\n                        url\n                    }\n                    category {\n                        id\n                        name\n                    }\n                }\n            }\n            pageInfo {\n                endCursor\n                hasNextPage\n                hasPreviousPage\n                startCursor\n            }\n        }\n    }\n"])));
var TypedSearchResults = (0, _queries.TypedQuery)(searchResultsQuery);
exports.TypedSearchResults = TypedSearchResults;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _core = require("@mzawadie/core");

var _atoms = require("@mzawadie/prototype/atoms");

var _classnames = _interopRequireDefault(require("classnames"));

var _router = require("next/router");

var _queryString = require("query-string");

var React = _interopRequireWildcard(require("react"));

var _reactIntl = require("react-intl");

var _reactSvg = require("react-svg");

var _ = require("../..");

var _search = _interopRequireDefault(require("../../../images/search.svg"));

var _x = _interopRequireDefault(require("../../../images/x.svg"));

var _Debounce = require("../../Debounce");

var _Error = require("../../Error");

var _NetworkStatus = _interopRequireDefault(require("../../NetworkStatus"));

var _NothingFound = _interopRequireDefault(require("./NothingFound"));

var _ProductItem = _interopRequireDefault(require("./ProductItem"));

var _queries = require("./queries");

require("./scss/index.module.scss");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2["default"])(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var Search = /*#__PURE__*/function (_React$Component) {
  (0, _inherits2["default"])(Search, _React$Component);

  var _super = _createSuper(Search);

  function Search() {
    var _this;

    (0, _classCallCheck2["default"])(this, Search);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "state", {
      search: ""
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "submitBtnRef", /*#__PURE__*/React.createRef());
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "hasResults", function (data) {
      return (0, _core.maybe)(function () {
        return !!data.products.edges.length;
      });
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "handleSubmit", function (evt) {
      if (_this.hasSearchPhrase && _this.submitBtnRef.current) {
        _this.props.overlay.hide();

        _this.props.router.push("".concat(_core.paths.search, "?").concat(_this.searchQs));
      }

      evt.preventDefault();
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "handleInputBlur", function () {
      if (!_this.hasSearchPhrase) {
        _this.props.overlay.hide();
      }
    });
    return _this;
  }

  (0, _createClass2["default"])(Search, [{
    key: "componentDidUpdate",
    value: function componentDidUpdate(_prevProps, prevState) {
      if (!!prevState.search.length && this.props.overlay.type !== _.OverlayType.search) {
        this.setState({
          search: ""
        });
      }
    }
  }, {
    key: "hasSearchPhrase",
    get: function get() {
      return this.state.search.length > 0;
    }
  }, {
    key: "searchQs",
    get: function get() {
      return (0, _queryString.stringify)({
        q: this.state.search
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      return __jsx(_.Overlay, {
        testingContext: "searchOverlay",
        context: this.props.overlay,
        className: "overlay--no-background"
      }, __jsx("form", {
        className: (0, _classnames["default"])("search", {
          "search--has-results": this.hasSearchPhrase
        }),
        onClick: function onClick(e) {
          return e.stopPropagation();
        },
        onSubmit: this.handleSubmit
      }, __jsx("div", {
        className: "search__input"
      }, __jsx(_Debounce.DebouncedTextField, {
        onChange: function onChange(evt) {
          return _this2.setState({
            search: evt.target.value
          });
        },
        value: this.state.search,
        iconLeft: __jsx(_reactSvg.ReactSVG, {
          src: _x["default"],
          onClick: this.props.overlay.hide,
          className: "search__input__close-btn"
        }),
        iconRight: __jsx(_reactSvg.ReactSVG, {
          src: _search["default"]
        }),
        autoFocus: true,
        placeholder: this.props.intl.formatMessage(_core.commonMessages.search),
        onBlur: this.handleInputBlur
      })), __jsx("div", {
        className: (0, _classnames["default"])({
          search__products: true,
          "search__products--expanded": this.hasSearchPhrase
        })
      }, __jsx(_NetworkStatus["default"], null, function (isOnline) {
        if (_this2.hasSearchPhrase) {
          return __jsx(_queries.TypedSearchResults, {
            renderOnError: true,
            displayError: false,
            errorPolicy: "all",
            variables: {
              channel: _core.channelSlug,
              query: _this2.state.search
            }
          }, function (_ref) {
            var data = _ref.data,
                error = _ref.error,
                loading = _ref.loading;

            if (_this2.hasResults(data)) {
              return __jsx(React.Fragment, null, __jsx("ul", null, data.products.edges.map(function (product) {
                return __jsx(_ProductItem["default"], (0, _extends2["default"])({}, product, {
                  key: product.node.id
                }));
              })), __jsx("div", {
                className: "search__products__footer"
              }, loading ? __jsx(_.Loader, null) : __jsx(_.Button, {
                testingContext: "searchProductsButton",
                btnRef: _this2.submitBtnRef,
                type: "submit"
              }, __jsx(_reactIntl.FormattedMessage, {
                id: "components.OverlayManager.Search.Search.4112727608",
                defaultMessage: "Show all results"
              }))));
            }

            if (error) {
              return isOnline ? __jsx(_Error.Error, {
                error: error.message
              }) : __jsx(_atoms.OfflinePlaceholder, null);
            }

            return __jsx(_NothingFound["default"], {
              search: _this2.state.search
            });
          });
        }

        return null;
      }))));
    }
  }]);
  return Search;
}(React.Component); // Workaround ATM for:
// withRouter(Search): Function components do not support contextType


var _default = (0, _reactIntl.injectIntl)((0, _router.withRouter)(Search));

exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _ProductItem = _interopRequireDefault(require("./ProductItem"));

var __jsx = _react2["default"].createElement;
(0, _react.storiesOf)("components/OverlayManager/Search/ProductItem", module).addParameters({
  component: _ProductItem["default"]
}).add("default", function () {
  return __jsx(_ProductItem["default"], {
    __typename: "ProductCountableEdge",
    node: {
      __typename: "Product",
      thumbnail: null,
      thumbnail2x: null,
      id: "UHJvZHVjdDo3Mg==",
      name: "Product Name",
      slug: "product-name",
      category: {
        __typename: "Category",
        id: "categoryId",
        name: "Category Name"
      }
    }
  });
}).add("without category", function () {
  return __jsx(_ProductItem["default"], {
    __typename: "ProductCountableEdge",
    node: {
      __typename: "Product",
      thumbnail: null,
      thumbnail2x: null,
      id: "UHJvZHVjdDo3Mg==",
      name: "Product Name",
      slug: "product-name2",
      category: null
    }
  });
});

"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _core = require("@mzawadie/core");

var React = _interopRequireWildcard(require("react"));

var _ = require("..");

var _queries = require("./queries");

require("./scss/index.module.scss");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

var PasswordResetForm = function PasswordResetForm() {
  return __jsx("div", {
    className: "password-reset-form"
  }, __jsx("p", null, "Please provide us your email address so we can share you a link to reset your password"), __jsx(_queries.TypedPasswordResetMutation, null, function (passwordReset, _ref) {
    var loading = _ref.loading,
        data = _ref.data;
    return __jsx(_.Form, {
      errors: (0, _core.maybe)(function () {
        return data.requestPasswordReset.errors;
      }, []),
      onSubmit: function onSubmit(event, _ref2) {
        var email = _ref2.email;
        event.preventDefault();
        passwordReset({
          variables: {
            email: email,
            redirectUrl: "".concat(window.location.origin).concat(_core.paths.passwordReset)
          }
        });
      }
    }, __jsx(_.TextField, {
      name: "email",
      autoComplete: "email",
      label: "Email Address",
      type: "email",
      required: true
    }), __jsx("div", {
      className: "password-reset-form__button"
    }, __jsx(_.Button, (0, _extends2["default"])({
      type: "submit"
    }, loading && {
      disabled: true
    }), loading ? "Loading" : "Reset password")));
  }));
};

var _default = PasswordResetForm;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.TypedPasswordResetMutation = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _client = require("@apollo/client");

var _mutations = require("../../core/mutations");

var _templateObject;

// fixme: this will be fixed in issue https://github.com/mirumee/saleor-storefront/issues/500
var passwordResetMutation = (0, _client.gql)(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    mutation ResetPassword($email: String!, $redirectUrl: String!) {\n        requestPasswordReset(email: $email, redirectUrl: $redirectUrl) {\n            errors {\n                field\n                message\n            }\n        }\n    }\n"])));
var TypedPasswordResetMutation = (0, _mutations.TypedMutation)(passwordResetMutation);
exports.TypedPasswordResetMutation = TypedPasswordResetMutation;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _core = require("@mzawadie/core");

var React = _interopRequireWildcard(require("react"));

var _reactSelect = require("react-select");

var _ = require("..");

require("./scss/index.module.scss");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2["default"])(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var PriceRangeFilter = /*#__PURE__*/function (_React$Component) {
  (0, _inherits2["default"])(PriceRangeFilter, _React$Component);

  var _super = _createSuper(PriceRangeFilter);

  function PriceRangeFilter() {
    var _this;

    (0, _classCallCheck2["default"])(this, PriceRangeFilter);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "filterRef", /*#__PURE__*/React.createRef());
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "state", {
      active: false
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "handleClick", function (event) {
      _this.setState({
        active: true
      });

      event.stopPropagation();
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "handleClickAway", function (event) {
      if (_this.state.active && !_this.filterRef.current.contains(event.target)) {
        _this.setState({
          active: false
        });
      }
    });
    return _this;
  }

  (0, _createClass2["default"])(PriceRangeFilter, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      document.addEventListener("mousedown", this.handleClickAway);
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      document.removeEventListener("mousedown", this.handleClickAway);
    }
  }, {
    key: "createLabel",
    value: function createLabel() {
      var _this$props = this.props,
          from = _this$props.from,
          to = _this$props.to;

      if (!!from && !!to) {
        return from + " - " + to;
      } else if (!!from) {
        return "from " + from;
      } else if (!!to) {
        return "to " + to;
      } else {
        return undefined;
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var Control = function Control(props) {
        return __jsx(_reactSelect.components.Control, (0, _extends2["default"])({}, props, {
          isFocused: _this2.state.active
        }));
      };

      var _this$props2 = this.props,
          from = _this$props2.from,
          _onChange = _this$props2.onChange,
          to = _this$props2.to;
      return __jsx("div", {
        className: "price-filter",
        ref: this.filterRef,
        onClick: this.handleClick
      }, __jsx(_.SelectField, {
        placeholder: "Price range",
        menuIsOpen: false,
        components: {
          Control: Control
        },
        value: this.createLabel() ? {
          label: this.createLabel(),
          value: ""
        } : undefined
      }), __jsx("div", {
        className: "price-filter__dropdown".concat(this.state.active ? " price-filter__dropdown--visible" : "")
      }, __jsx(_.TextField, {
        type: "number",
        placeholder: "From",
        onChange: function onChange(event) {
          return _onChange("priceGte", event.target.value);
        },
        value: (0, _core.getValueOrEmpty)(from)
      }), __jsx(_.TextField, {
        type: "number",
        placeholder: "To",
        onChange: function onChange(event) {
          return _onChange("priceLte", event.target.value);
        },
        value: (0, _core.getValueOrEmpty)(to)
      })));
    }
  }]);
  return PriceRangeFilter;
}(React.Component);

var _default = PriceRangeFilter;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _utils = require("@mzawadie/core/utils");

var _react = _interopRequireDefault(require("react"));

var _ = require("..");

require("./scss/index.module.scss");

var __jsx = _react["default"].createElement;

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2["default"])(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var ProductDescription = /*#__PURE__*/function (_React$Component) {
  (0, _inherits2["default"])(ProductDescription, _React$Component);

  var _super = _createSuper(ProductDescription);

  function ProductDescription(props) {
    var _this;

    (0, _classCallCheck2["default"])(this, ProductDescription);
    _this = _super.call(this, props);
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "createPickers", function () {
      var primaryPicker = {
        label: _this.props.productVariants[0].attributes[0].attribute.name,
        selected: "",
        values: []
      };
      var secondaryPicker;

      if (_this.props.productVariants[0].attributes.length > 1) {
        secondaryPicker = {
          label: _this.props.productVariants[0].attributes.slice(1).map(function (attribute) {
            return attribute.attribute.name;
          }).join(" / "),
          selected: "",
          values: []
        };
      }

      var variants = {};

      _this.props.productVariants.map(function (variant) {
        if (!primaryPicker.values.includes(variant.attributes[0].value.value)) {
          primaryPicker.values.push(variant.attributes[0].value.value);
        }

        if (secondaryPicker) {
          var combinedValues = variant.attributes.slice(1).map(function (attribute) {
            return attribute.value.value;
          }).join(" / ");

          if (!secondaryPicker.values.includes(combinedValues)) {
            secondaryPicker.values.push(combinedValues);
          }

          if (variants[variant.attributes[0].value.value]) {
            variants[variant.attributes[0].value.value] = [].concat((0, _toConsumableArray2["default"])(variants[variant.attributes[0].value.value]), [combinedValues]);
          } else {
            variants[variant.attributes[0].value.value] = [combinedValues];
          }
        }

        primaryPicker.selected = primaryPicker.values[0];

        if (secondaryPicker) {
          secondaryPicker.selected = secondaryPicker.values[0];
        }
      });

      return {
        primaryPicker: primaryPicker,
        secondaryPicker: secondaryPicker,
        variants: variants
      };
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "onPrimaryPickerChange", function (value) {
      var primaryPicker = _this.state.primaryPicker;
      primaryPicker.selected = value;

      _this.setState({
        primaryPicker: primaryPicker
      });

      if (_this.state.secondaryPicker && !_this.state.variants[value].includes(_this.state.secondaryPicker.selected)) {
        _this.onSecondaryPickerChange("");
      }
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "onSecondaryPickerChange", function (value) {
      var secondaryPicker = _this.state.secondaryPicker;
      secondaryPicker.selected = value;

      _this.setState({
        secondaryPicker: secondaryPicker
      });
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "handleSubmit", function () {
      var variant;

      if (!_this.state.secondaryPicker && _this.state.primaryPicker) {
        variant = _this.props.productVariants.find(function (variant) {
          return variant.name === "".concat(_this.state.primaryPicker.selected);
        }).id;
      } else if (_this.state.secondaryPicker && _this.state.primaryPicker) {
        variant = _this.props.productVariants.find(function (variant) {
          return variant.name === "".concat(_this.state.primaryPicker.selected, " / ").concat(_this.state.secondaryPicker.selected);
        }).id;
      } else {
        variant = _this.props.productVariants[0].id;
      }

      _this.props.addToCart(variant, _this.state.quantity);
    });

    var pickers = _this.props.productVariants[0].attributes.length > 0 && _this.createPickers();

    _this.state = _objectSpread(_objectSpread({}, pickers), {}, {
      quantity: 1
    });
    return _this;
  }

  (0, _createClass2["default"])(ProductDescription, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$props = this.props,
          name = _this$props.name,
          price = _this$props.price,
          locale = _this$props.locale;
      return __jsx("div", {
        className: "product-description"
      }, __jsx("h3", null, name), __jsx("h4", null, (0, _utils.priceToString)(price, locale)), __jsx("div", {
        className: "product-description__variant-picker"
      }, this.state.primaryPicker ? __jsx(_.SelectField, {
        onChange: function onChange(e) {
          return _this2.onPrimaryPickerChange(e.value);
        },
        label: this.state.primaryPicker.label,
        key: this.state.primaryPicker.label,
        value: {
          label: this.state.primaryPicker.selected,
          value: this.state.primaryPicker.selected
        },
        options: this.state.primaryPicker.values.map(function (value) {
          return {
            label: value,
            value: value
          };
        })
      }) : null, this.state.secondaryPicker ? __jsx(_.SelectField, {
        onChange: function onChange(e) {
          return _this2.onSecondaryPickerChange(e.value);
        },
        label: this.state.secondaryPicker.label,
        key: this.state.secondaryPicker.label,
        value: this.state.secondaryPicker.selected && {
          label: this.state.secondaryPicker.selected,
          value: this.state.secondaryPicker.selected
        },
        options: this.state.secondaryPicker.values.map(function (value) {
          return {
            isDisabled: !_this2.state.variants[_this2.state.primaryPicker.selected].includes(value),
            label: value,
            value: value
          };
        })
      }) : null, __jsx(_.TextField, {
        type: "number",
        label: "Quantity",
        value: this.state.quantity || "",
        onChange: function onChange(e) {
          return _this2.setState({
            quantity: Number(e.target.value)
          });
        }
      })), __jsx("div", {
        className: "product-description__about"
      }, __jsx("h4", null, "Description"), this.props.children), __jsx(_.Button, {
        className: "product-description__action",
        onClick: this.handleSubmit,
        disabled: this.state.primaryPicker && this.state.secondaryPicker && this.state.secondaryPicker.selected === "",
        testingContext: "productDescriptionAddToCartButton"
      }, "Add to cart"));
    }
  }]);
  return ProductDescription;
}(_react["default"].Component);

var _default = ProductDescription;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ProductFilters = void 0;

var React = _interopRequireWildcard(require("react"));

var _PriceRangeFilter = _interopRequireDefault(require("../PriceRangeFilter"));

var _SelectField = _interopRequireDefault(require("../SelectField"));

require("./scss/index.module.scss");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

var ProductFilters = function ProductFilters(_ref) {
  var attributes = _ref.attributes,
      filters = _ref.filters,
      onAttributeFiltersChange = _ref.onAttributeFiltersChange,
      onPriceChange = _ref.onPriceChange;
  return __jsx("div", {
    className: "product-filters"
  }, __jsx("div", {
    className: "container"
  }, __jsx("div", {
    className: "product-filters__grid"
  }, attributes.map(function (attribute) {
    return __jsx("div", {
      key: attribute.id,
      className: "product-filters__grid__filter"
    }, __jsx(_SelectField["default"], {
      value: filters.attributes[attribute.slug] ? filters.attributes[attribute.slug].map(function (attributeValueSlug) {
        var attributeValue = attribute.values.find(function (attributeValue) {
          return attributeValue.slug === attributeValueSlug;
        });
        return {
          label: attributeValue.name,
          value: attributeValue.slug
        };
      }) : [],
      placeholder: attribute.name,
      options: attribute.values.map(function (attributeValue) {
        return {
          label: attributeValue.name,
          value: attributeValue.slug
        };
      }),
      isMulti: true,
      onChange: function onChange(values) {
        return onAttributeFiltersChange(attribute.slug, values.map(function (value) {
          return value.value;
        }));
      }
    }));
  }), __jsx("div", {
    className: "product-filters__grid__filter"
  }, __jsx(_PriceRangeFilter["default"], {
    from: filters.priceGte,
    to: filters.priceLte,
    onChange: onPriceChange
  })))));
};

exports.ProductFilters = ProductFilters;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _containers = require("@mzawadie/prototype/containers");

var _molecules = require("@mzawadie/prototype/molecules");

var _isEqual = _interopRequireDefault(require("lodash/isEqual"));

var React = _interopRequireWildcard(require("react"));

require("./scss/index.module.scss");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

var ProductListItem = function ProductListItem(_ref) {
  var _product$pricing, _product$pricing$pric, _product$pricing2, _product$pricing2$pri;

  var product = _ref.product;
  var category = product.category;
  var price = (_product$pricing = product.pricing) === null || _product$pricing === void 0 ? void 0 : (_product$pricing$pric = _product$pricing.priceRange) === null || _product$pricing$pric === void 0 ? void 0 : _product$pricing$pric.start;
  var priceUndiscounted = (_product$pricing2 = product.pricing) === null || _product$pricing2 === void 0 ? void 0 : (_product$pricing2$pri = _product$pricing2.priceRangeUndiscounted) === null || _product$pricing2$pri === void 0 ? void 0 : _product$pricing2$pri.start;

  var getProductPrice = function getProductPrice() {
    if ((0, _isEqual["default"])(price, priceUndiscounted)) {
      return __jsx(_containers.TaxedMoney, {
        taxedMoney: price
      });
    } else {
      return __jsx(React.Fragment, null, __jsx("span", {
        className: "product-list-item__undiscounted_price"
      }, __jsx(_containers.TaxedMoney, {
        taxedMoney: priceUndiscounted
      })), "\xA0\xA0\xA0\xA0", __jsx(_containers.TaxedMoney, {
        taxedMoney: price
      }));
    }
  };

  return __jsx("div", {
    className: "product-list-item"
  }, __jsx("div", {
    className: "product-list-item__image"
  }, __jsx(_molecules.Thumbnail, {
    source: product
  })), __jsx("h4", {
    className: "product-list-item__title"
  }, product.name), __jsx("p", {
    className: "product-list-item__category"
  }, category === null || category === void 0 ? void 0 : category.name), __jsx("p", {
    className: "product-list-item__price"
  }, getProductPrice()));
};

var _default = ProductListItem;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ProductsFeatured = void 0;

var _core = require("@mzawadie/core");

var _link = _interopRequireDefault(require("next/link"));

var _react = _interopRequireDefault(require("react"));

var _ = require("..");

require("./scss/index.module.scss");

var __jsx = _react["default"].createElement;

var ProductsFeatured = function ProductsFeatured(_ref) {
  var title = _ref.title,
      products = _ref.products;
  return products !== null && products !== void 0 && products.length ? __jsx("div", {
    className: "products-featured"
  }, __jsx("div", {
    className: "container"
  }, __jsx("h3", null, title), __jsx(_.Carousel, null, products.map(function (product) {
    return __jsx(_link["default"], {
      href: (0, _core.generateProductUrl)(product.id, product.slug),
      key: product.id
    }, __jsx("a", null, __jsx(_.ProductListItem, {
      product: product
    })));
  })))) : null;
};

exports.ProductsFeatured = ProductsFeatured;

"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
Object.defineProperty(exports, "default", {
  enumerable: true,
  get: function get() {
    return _Select["default"];
  }
});

var _Select = _interopRequireDefault(require("./Select"));
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = exports.Select = void 0;

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _useClickedOutside2 = _interopRequireDefault(require("@next/hooks/useClickedOutside"));

var _classnames = _interopRequireDefault(require("classnames"));

var _react = _interopRequireDefault(require("react"));

var _SelectOptionsList = _interopRequireDefault(require("./SelectOptionsList"));

require("./scss/index.module.scss");

var __jsx = _react["default"].createElement;

var updateOptions = function updateOptions(_ref, onChange) {
  var label = _ref.label,
      value = _ref.value;
  return onChange({
    country: label,
    code: value
  });
};

var filterList = function filterList(_ref2) {
  var searchPhrase = _ref2.searchPhrase,
      options = _ref2.options;
  return options.filter(function (_ref3) {
    var label = _ref3.label;
    return label.toLowerCase().includes(searchPhrase.toLowerCase());
  });
};

var isAutofilled = function isAutofilled(inputValue, newInputValue) {
  return newInputValue.length > 1 && newInputValue.substring(0, newInputValue.length - 1) !== inputValue;
};

var findAutofilledOption = function findAutofilledOption(options, inputValue) {
  return options.find(function (_ref4) {
    var label = _ref4.label;
    return label.toLowerCase() === inputValue.toLowerCase();
  });
};

var Select = function Select(props) {
  var autoComplete = props.autoComplete,
      _props$defaultValue = props.defaultValue,
      defaultValue = _props$defaultValue === void 0 ? {
    label: "",
    value: ""
  } : _props$defaultValue,
      label = props.label,
      _onChange = props.onChange,
      options = props.options,
      name = props.name;

  var _React$useState = _react["default"].useState(false),
      _React$useState2 = (0, _slicedToArray2["default"])(_React$useState, 2),
      open = _React$useState2[0],
      setOpen = _React$useState2[1];

  var _React$useState3 = _react["default"].useState(defaultValue.label),
      _React$useState4 = (0, _slicedToArray2["default"])(_React$useState3, 2),
      searchPhrase = _React$useState4[0],
      setSearchPhrase = _React$useState4[1];

  var _useClickedOutside = (0, _useClickedOutside2["default"])(),
      clickedOutside = _useClickedOutside.clickedOutside,
      setElementRef = _useClickedOutside.setElementRef;

  var inputRef = _react["default"].useRef(null);

  var activeOptionRef = _react["default"].useRef(null);

  var resetInputValueToDefault = function resetInputValueToDefault() {
    return setSearchPhrase(defaultValue.label);
  };

  _react["default"].useEffect(function () {
    resetInputValueToDefault(); // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [clickedOutside, defaultValue]);

  _react["default"].useEffect(function () {
    if (activeOptionRef.current && open) {
      activeOptionRef.current.scrollIntoView();
      activeOptionRef.current.focus();
    }
  }, [open]);

  var shouldOpen = clickedOutside ? false : open;
  var shouldSearch = defaultValue.label !== searchPhrase;

  var renderLabel = function renderLabel(label) {
    return label && __jsx("label", {
      className: "input__label"
    }, label);
  };

  var changeSelectionRange = function changeSelectionRange(e) {
    return inputRef.current.setSelectionRange(0, e.target.value.length);
  };

  return __jsx("div", {
    ref: setElementRef(),
    className: (0, _classnames["default"])("react-select select", {
      "select--open": shouldOpen
    })
  }, __jsx("input", {
    className: "select__hidden",
    autoComplete: autoComplete,
    name: name,
    defaultValue: defaultValue.value
  }), __jsx("div", {
    className: "select__container"
  }, __jsx("div", {
    className: "select__title"
  }, __jsx("input", {
    ref: inputRef,
    className: "input__field",
    value: searchPhrase,
    onChange: function onChange(e) {
      var value = e.target.value;
      setSearchPhrase(value);

      if (isAutofilled(searchPhrase, value)) {
        var country = findAutofilledOption(options, value);
        return country && updateOptions(country, _onChange);
      }
    },
    onClick: function onClick(e) {
      changeSelectionRange(e);

      if (open) {
        resetInputValueToDefault();
      }

      setOpen(!open);
    }
  }), renderLabel(label)), __jsx("div", {
    className: (0, _classnames["default"])("select__options", {
      "select__options--open": shouldOpen
    })
  }, __jsx(_SelectOptionsList["default"], {
    ref: activeOptionRef,
    activeOption: defaultValue,
    options: shouldSearch ? filterList({
      searchPhrase: searchPhrase,
      options: options
    }) : options,
    onChange: _onChange,
    setOpen: setOpen,
    updateOptions: updateOptions
  }))));
};

exports.Select = Select;
var _default = Select;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _classnames = _interopRequireDefault(require("classnames"));

var _react = _interopRequireDefault(require("react"));

var _reactIntl = require("react-intl");

var __jsx = _react["default"].createElement;

var renderNoOptions = function renderNoOptions() {
  return __jsx("p", {
    className: "select__option select__option--disabled",
    key: "no-option"
  }, __jsx(_reactIntl.FormattedMessage, {
    id: "components.Select.SelectOptionsList.1394135378",
    defaultMessage: "No Options"
  }));
};

var getRef = function getRef(isSelected, ref) {
  return isSelected && {
    ref: ref
  };
}; // eslint-disable-next-line react/display-name


var SelectOptionsList = /*#__PURE__*/_react["default"].forwardRef(function (_ref, ref) {
  var activeOption = _ref.activeOption,
      options = _ref.options,
      onChange = _ref.onChange,
      setOpen = _ref.setOpen,
      updateOptions = _ref.updateOptions;
  return __jsx(_react["default"].Fragment, null, options.length ? options.map(function (_ref2) {
    var label = _ref2.label,
        value = _ref2.value;
    var isSelected = activeOption.value === value;
    return __jsx("p", (0, _extends2["default"])({}, getRef(isSelected, ref), {
      className: (0, _classnames["default"])("select__option", {
        "select__option--selected": isSelected
      }),
      key: value,
      onClick: function onClick() {
        updateOptions({
          label: label,
          value: value
        }, onChange);
        setOpen(false);
      }
    }), label);
  }) : renderNoOptions());
});

var _default = SelectOptionsList;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _classnames = _interopRequireDefault(require("classnames"));

var React = _interopRequireWildcard(require("react"));

var _reactSelect = _interopRequireDefault(require("react-select"));

require("./scss/index.module.scss");

var _excluded = ["label", "styleType"];

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

var SelectField = function SelectField(_ref) {
  var _ref$label = _ref.label,
      label = _ref$label === void 0 ? "" : _ref$label,
      _ref$styleType = _ref.styleType,
      styleType = _ref$styleType === void 0 ? "white" : _ref$styleType,
      rest = (0, _objectWithoutProperties2["default"])(_ref, _excluded);
  return __jsx("div", {
    className: (0, _classnames["default"])("react-select-wrapper", {
      "react-select-wrapper--grey": styleType === "grey"
    })
  }, label ? __jsx("span", {
    className: "input__label"
  }, label) : null, __jsx(_reactSelect["default"], (0, _extends2["default"])({
    classNamePrefix: "react-select"
  }, rest)));
};

var _default = SelectField;
exports["default"] = _default;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ShopContext = exports.defaultContext = exports.defaultCountry = void 0;

var _react = require("react");

var defaultCountry = {
  __typename: "CountryDisplay",
  code: "US",
  country: "United States of America"
};
exports.defaultCountry = defaultCountry;
var defaultContext = {
  __typename: "Shop",
  countries: [],
  defaultCountry: defaultCountry,
  displayGrossPrices: true
};
exports.defaultContext = defaultContext;
var ShopContext = /*#__PURE__*/(0, _react.createContext)(defaultContext);
exports.ShopContext = ShopContext;
ShopContext.displayName = "ShopContext";
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _react = _interopRequireWildcard(require("react"));

var _context = require("./context");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var ShopProvider = function ShopProvider(_ref) {
  var shopConfig = _ref.shopConfig,
      children = _ref.children;

  var _useState = (0, _react.useState)(_objectSpread(_objectSpread({}, _context.defaultContext), shopConfig)),
      context = _useState[0];

  return __jsx(_context.ShopContext.Provider, {
    value: context
  }, children);
};

var _default = ShopProvider;
exports["default"] = _default;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var React = _interopRequireWildcard(require("react"));

var _reactSvg = require("react-svg");

require("./scss/index.module.scss");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

var SocialMediaIcon = function SocialMediaIcon(_ref) {
  var medium = _ref.medium,
      target = _ref.target;
  return __jsx("a", {
    href: medium.href,
    target: target || "_blank",
    "aria-label": medium.ariaLabel
  }, __jsx(_reactSvg.ReactSVG, {
    src: medium.path,
    className: "social-icon"
  }));
};

var _default = SocialMediaIcon;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var React = _interopRequireWildcard(require("react"));

require("./scss/index.module.scss");

var _excluded = ["label", "iconLeft", "iconRight", "errors", "helpText", "styleType"];

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

var generateClassName = function generateClassName(_ref) {
  var errors = _ref.errors,
      iconLeft = _ref.iconLeft,
      styleType = _ref.styleType;
  var baseClass = "input__field";
  var errorsClass = errors && errors.length ? " input__field--error" : "";
  var iconLeftClass = iconLeft ? " input__field--left-icon" : "";
  var styleTypeClass = styleType === "grey" ? " input__field--grey" : "";
  return baseClass.concat(errorsClass, iconLeftClass, styleTypeClass);
};

var TextField = function TextField(_ref2) {
  var _ref2$label = _ref2.label,
      label = _ref2$label === void 0 ? "" : _ref2$label,
      iconLeft = _ref2.iconLeft,
      iconRight = _ref2.iconRight,
      errors = _ref2.errors,
      helpText = _ref2.helpText,
      _ref2$styleType = _ref2.styleType,
      styleType = _ref2$styleType === void 0 ? "white" : _ref2$styleType,
      rest = (0, _objectWithoutProperties2["default"])(_ref2, _excluded);
  return __jsx("div", {
    className: "input"
  }, iconLeft ? __jsx("span", {
    className: "input__icon-left"
  }, iconLeft) : null, iconRight ? __jsx("span", {
    className: "input__icon-right"
  }, iconRight) : null, __jsx("div", {
    className: "input__content"
  }, __jsx("input", (0, _extends2["default"])({}, rest, {
    className: generateClassName({
      errors: errors,
      iconLeft: iconLeft,
      styleType: styleType
    })
  })), label ? __jsx("span", {
    className: "input__label"
  }, label) : null), errors && __jsx("span", {
    className: "input__error"
  }, errors.map(function (error) {
    return error.message;
  }).join(" ")), helpText && __jsx("span", {
    className: "input__help-text"
  }, helpText));
};

var _default = TextField;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.UserContext = void 0;

var _react = _interopRequireDefault(require("react"));

/* tslint:disable:no-empty */
var UserContext = /*#__PURE__*/_react["default"].createContext({
  authenticate: function authenticate(token) {},
  errors: null,
  loading: false,
  login: function login(email, password) {},
  logout: function logout() {},
  token: null,
  user: null
});
/* tslint:enable:no-empty */


exports.UserContext = UserContext;



"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));

var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _react = _interopRequireDefault(require("react"));

var _auth = require("../../core/auth");

var _context3 = require("./context");

var _queries = require("./queries");

var __jsx = _react["default"].createElement;

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2["default"])(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var UserProvider = /*#__PURE__*/function (_React$Component) {
  (0, _inherits2["default"])(UserProvider, _React$Component);

  var _super = _createSuper(UserProvider);

  function UserProvider(props) {
    var _this;

    (0, _classCallCheck2["default"])(this, UserProvider);
    _this = _super.call(this, props);
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "componentDidMount", function () {
      var token = _this.state.token;

      if (_this.props.refreshUser && token) {
        _this.authenticate(token);
      }
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "login", /*#__PURE__*/function () {
      var _ref = (0, _asyncToGenerator2["default"])( /*#__PURE__*/_regenerator["default"].mark(function _callee(email, password) {
        var apolloClient, response, data;
        return _regenerator["default"].wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                apolloClient = _this.props.apolloClient;

                _this.setState({
                  loading: true
                });

                _context.next = 4;
                return apolloClient.mutate({
                  mutation: _queries.TOKEN_AUTH_MUTATION,
                  variables: {
                    email: email,
                    password: password
                  }
                });

              case 4:
                response = _context.sent;
                data = response.data.tokenCreate;

                if (data.errors) {
                  _this.setState({
                    errors: data.errors,
                    loading: false,
                    user: null
                  });
                } else {
                  _this.setState({
                    errors: null,
                    loading: false,
                    token: data.token,
                    user: data.user
                  });
                }

              case 7:
              case "end":
                return _context.stop();
            }
          }
        }, _callee);
      }));

      return function (_x, _x2) {
        return _ref.apply(this, arguments);
      };
    }());
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "logout", function () {
      _this.setState({
        token: null,
        user: null
      });
    });
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "authenticate", /*#__PURE__*/function () {
      var _ref2 = (0, _asyncToGenerator2["default"])( /*#__PURE__*/_regenerator["default"].mark(function _callee2(token) {
        var apolloClient, response, data;
        return _regenerator["default"].wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                apolloClient = _this.props.apolloClient;

                _this.setState({
                  loading: true
                });

                _context2.next = 4;
                return apolloClient.mutate({
                  mutation: _queries.TOKEN_VERIFICATION_MUTATION,
                  variables: {
                    token: token
                  }
                });

              case 4:
                response = _context2.sent;
                data = response.data.tokenVerify;

                if (data.errors) {
                  _this.setState({
                    errors: data.errors,
                    loading: false,
                    token: null,
                    user: null
                  });
                } else {
                  _this.setState({
                    loading: false,
                    user: data.user,
                    token: token,
                    errors: null
                  });
                }

              case 7:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2);
      }));

      return function (_x3) {
        return _ref2.apply(this, arguments);
      };
    }());
    (0, _defineProperty2["default"])((0, _assertThisInitialized2["default"])(_this), "componentDidUpdate", function (prevProps, prevState) {
      if (_this.state.token) {
        (0, _auth.setAuthToken)(_this.state.token);
      } else {
        (0, _auth.removeAuthToken)();
      }
    });

    if (props.tokenExpirationHandler) {
      props.tokenExpirationHandler(_this.logout);
    }

    var _token = (0, _auth.getAuthToken)();

    _this.state = {
      authenticate: _this.authenticate,
      errors: null,
      loading: false,
      login: _this.login,
      logout: _this.logout,
      token: _token,
      user: null
    };
    return _this;
  }

  (0, _createClass2["default"])(UserProvider, [{
    key: "render",
    value: function render() {
      var children = this.props.children;
      return __jsx(_context3.UserContext.Provider, {
        value: this.state
      }, children);
    }
  }]);
  return UserProvider;
}(_react["default"].Component);

exports["default"] = UserProvider;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.TOKEN_VERIFICATION_MUTATION = exports.TOKEN_AUTH_MUTATION = exports.USER_FRAGMENT = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _client = require("@apollo/client");

var _templateObject, _templateObject2, _templateObject3;

var USER_FRAGMENT = (0, _client.gql)(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    fragment User on User {\n        id\n        email\n        isStaff\n        note\n    }\n"])));
exports.USER_FRAGMENT = USER_FRAGMENT;
var TOKEN_AUTH_MUTATION = (0, _client.gql)(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n    ", "\n    mutation TokenAuth($email: String!, $password: String!) {\n        tokenCreate(email: $email, password: $password) {\n            token\n            errors {\n                field\n                message\n            }\n            user {\n                ...User\n            }\n        }\n    }\n"])), USER_FRAGMENT);
exports.TOKEN_AUTH_MUTATION = TOKEN_AUTH_MUTATION;
var TOKEN_VERIFICATION_MUTATION = (0, _client.gql)(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["\n    ", "\n    mutation VerifyToken($token: String!) {\n        tokenVerify(token: $token) {\n            payload\n            user {\n                ...User\n            }\n        }\n    }\n"])), USER_FRAGMENT);
exports.TOKEN_VERIFICATION_MUTATION = TOKEN_VERIFICATION_MUTATION;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getAuthToken = getAuthToken;
exports.setAuthToken = setAuthToken;
exports.removeAuthToken = removeAuthToken;
exports.authLink = exports.invalidTokenLinkWithTokenHandlerComponent = void 0;

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _context = require("@apollo/client/link/context");

var _error = require("@apollo/client/link/error");

var _react = _interopRequireDefault(require("react"));

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function getAuthToken() {
  try {
    return localStorage.getItem("token");
  } catch (_unused) {
    return null;
  }
}

function setAuthToken(token) {
  localStorage.setItem("token", token);
}

function removeAuthToken() {
  localStorage.removeItem("token");
}

var invalidTokenLinkWithTokenHandlerComponent = function invalidTokenLinkWithTokenHandlerComponent(component) {
  // tslint:disable-next-line:no-empty
  var tokenExpirationCallback = function tokenExpirationCallback() {};

  var tokenExpirationHandler = function tokenExpirationHandler(callback) {
    tokenExpirationCallback = callback;
  };

  var extendedComponent = function extendedComponent(props) {
    return /*#__PURE__*/_react["default"].createElement(component, _objectSpread(_objectSpread({}, props), {}, {
      tokenExpirationHandler: tokenExpirationHandler
    }));
  };

  var link = (0, _error.onError)(function (error) {
    if (error.networkError && error.networkError.statusCode === 401) {
      tokenExpirationCallback();
    }
  });
  return {
    component: extendedComponent,
    link: link
  };
};

exports.invalidTokenLinkWithTokenHandlerComponent = invalidTokenLinkWithTokenHandlerComponent;
var authLink = (0, _context.setContext)(function (_, context) {
  var authToken = getAuthToken();

  if (authToken) {
    return _objectSpread(_objectSpread({}, context), {}, {
      headers: _objectSpread(_objectSpread({}, context.headers), {}, {
        Authorization: authToken ? "JWT ".concat(authToken) : null
      })
    });
  } else {
    return context;
  }
});
exports.authLink = authLink;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CHECKOUT_STEPS = exports.CheckoutStep = exports.SOCIAL_MEDIA = exports.SUPPORT_EMAIL = exports.PRODUCTS_PER_PAGE = exports.BASE_URL = exports.META_DEFAULTS = void 0;

var _constants = require("./constants");

var META_DEFAULTS = {
  custom: [],
  description: "Open-source PWA storefront built with Mzawadie's e-commerce GraphQL API. Written with React and TypeScript.",
  image: "".concat(!_constants.ssrMode ? window.location.origin : "").concat(require("../images/logo.svg")),
  title: "Demo PWA Storefront  Mzawadie Commerce",
  type: "website",
  url: !_constants.ssrMode ? window.location.origin : ""
};
exports.META_DEFAULTS = META_DEFAULTS;
var BASE_URL = "/";
exports.BASE_URL = BASE_URL;
var PRODUCTS_PER_PAGE = 8;
exports.PRODUCTS_PER_PAGE = PRODUCTS_PER_PAGE;
var SUPPORT_EMAIL = "support@example.com";
exports.SUPPORT_EMAIL = SUPPORT_EMAIL;
var SOCIAL_MEDIA = [{
  ariaLabel: "facebook",
  href: "https://www.facebook.com/mirumeelabs/",
  path: require("../images/facebook-icon.svg")
}, {
  ariaLabel: "instagram",
  href: "https://www.instagram.com/mirumeelabs/",
  path: require("../images/instagram-icon.svg")
}, {
  ariaLabel: "twitter",
  href: "https://twitter.com/getsaleor",
  path: require("../images/twitter-icon.svg")
}, {
  ariaLabel: "youtube",
  href: "https://www.youtube.com/channel/UCg_ptb-U75e7BprLCGS4s1g/videos",
  path: require("../images/youtube-icon.svg")
}];
exports.SOCIAL_MEDIA = SOCIAL_MEDIA;
var CheckoutStep;
exports.CheckoutStep = CheckoutStep;

(function (CheckoutStep) {
  CheckoutStep[CheckoutStep["Address"] = 1] = "Address";
  CheckoutStep[CheckoutStep["Shipping"] = 2] = "Shipping";
  CheckoutStep[CheckoutStep["Payment"] = 3] = "Payment";
  CheckoutStep[CheckoutStep["Review"] = 4] = "Review";
})(CheckoutStep || (exports.CheckoutStep = CheckoutStep = {}));

var CHECKOUT_STEPS = [{
  link: "/checkout/address",
  name: "Address",
  nextActionName: "Continue to Shipping",
  nextStepLink: "/checkout/shipping",
  step: CheckoutStep.Address
}, {
  link: "/checkout/shipping",
  name: "Shipping",
  nextActionName: "Continue to Payment",
  nextStepLink: "/checkout/payment",
  step: CheckoutStep.Shipping
}, {
  link: "/checkout/payment",
  name: "Payment",
  nextActionName: "Continue to Review",
  nextStepLink: "/checkout/review",
  step: CheckoutStep.Payment
}, {
  link: "/checkout/review",
  name: "Review",
  nextActionName: "Place order",
  nextStepLink: "/order-finalized",
  step: CheckoutStep.Review
}];
exports.CHECKOUT_STEPS = CHECKOUT_STEPS;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.staticPathsFallback = exports.staticPathsFetchBatch = exports.incrementalStaticRegenerationRevalidate = exports.ssrMode = exports.exportMode = exports.demoMode = exports.channelSlug = exports.apiUrl = void 0;
var apiUrl = process.env.NEXT_PUBLIC_API_URI;
exports.apiUrl = apiUrl;
var channelSlug = process.env.NEXT_PUBLIC_MZAWADIE_CHANNEL_SLUG;
exports.channelSlug = channelSlug;
var demoMode = process.env.NEXT_PUBLIC_DEMO_MODE === "true";
exports.demoMode = demoMode;
var exportMode = process.env.NEXT_PUBLIC_EXPORT === "true";
exports.exportMode = exportMode;
var ssrMode = typeof window === "undefined";
exports.ssrMode = ssrMode;
var incrementalStaticRegenerationRevalidate = parseInt(process.env.NEXT_PUBLIC_INCREMENTAL_STATIC_REGENERATION_REVALIDATE, 10);
exports.incrementalStaticRegenerationRevalidate = incrementalStaticRegenerationRevalidate;
var staticPathsFetchBatch = 10;
exports.staticPathsFetchBatch = staticPathsFetchBatch;
var staticPathsFallback = exportMode ? false : process.env.NEXT_PUBLIC_STATIC_PATHS_FALLBACK;
exports.staticPathsFallback = staticPathsFallback;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.history = void 0;

var _constants = require("@mzawadie/core/constants");

var _history = require("history");

// @ts-nocheck
var history = function () {
  if (_constants.ssrMode) {
    return {};
  }

  var history = (0, _history.createBrowserHistory)();
  history.listen(function (_location, action) {
    if (["PUSH"].includes(action)) {
      window.scroll({
        behavior: "smooth",
        top: 0
      });
    }
  });
  return history;
}();

exports.history = history;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _auth = require("./auth");

Object.keys(_auth).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _auth[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _auth[key];
    }
  });
});

var _config = require("./config");

Object.keys(_config).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _config[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _config[key];
    }
  });
});

var _constants = require("./constants");

Object.keys(_constants).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _constants[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _constants[key];
    }
  });
});

var _paths = require("./paths");

Object.keys(_paths).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _paths[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _paths[key];
    }
  });
});

var _utils = require("./utils");

Object.keys(_utils).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _utils[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _utils[key];
    }
  });
});

var _types = require("./types");

Object.keys(_types).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _types[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _types[key];
    }
  });
});

var _intl = require("./intl");

Object.keys(_intl).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _intl[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _intl[key];
    }
  });
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.translatePaymentStatus = translatePaymentStatus;
exports.translateOrderStatus = translateOrderStatus;
exports.orderStatusMessages = exports.paymentErrorMessages = exports.paymentStatusMessages = exports.prodListHeaderCommonMsg = exports.checkoutMessages = exports.commonMessages = void 0;

var _reactIntl = require("react-intl");

var commonMessages = (0, _reactIntl.defineMessages)({
  search: {
    "id": "core.intl.commonMessages.search",
    "defaultMessage": "search"
  },
  outOfStock: {
    "id": "core.intl.commonMessages.outOfStock",
    "defaultMessage": "Out of stock"
  },
  lowStock: {
    "id": "core.intl.commonMessages.lowStock",
    "defaultMessage": "Low stock"
  },
  noItemsAvailable: {
    "id": "core.intl.commonMessages.noItemsAvailable",
    "defaultMessage": "No items available"
  },
  noPurchaseAvailable: {
    "id": "core.intl.commonMessages.noPurchaseAvailable",
    "defaultMessage": "Not available for purchase"
  },
  purchaseAvailableOn: {
    "id": "core.intl.commonMessages.purchaseAvailableOn",
    "defaultMessage": "Will become available for purchase on {date} at {time}"
  },
  youMightLike: {
    "id": "core.intl.commonMessages.youMightLike",
    "defaultMessage": "You might like"
  },
  choosePaymentMethod: {
    "id": "core.intl.commonMessages.choosePaymentMethod",
    "defaultMessage": "Please choose payment method."
  },
  provideEmailAddress: {
    "id": "core.intl.commonMessages.provideEmailAddress",
    "defaultMessage": "Please provide email address."
  },
  account: {
    "id": "core.intl.commonMessages.account",
    "defaultMessage": "Account"
  },
  myAccount: {
    "id": "core.intl.commonMessages.myAccount",
    "defaultMessage": "My Account"
  },
  orderHistory: {
    "id": "core.intl.commonMessages.orderHistory",
    "defaultMessage": "Order history"
  },
  addressBook: {
    "id": "core.intl.commonMessages.addressBook",
    "defaultMessage": "Address book"
  },
  logOut: {
    "id": "core.intl.commonMessages.logOut",
    "defaultMessage": "Log Out"
  },
  firstName: {
    "id": "core.intl.commonMessages.firstName",
    "defaultMessage": "First Name"
  },
  lastName: {
    "id": "core.intl.commonMessages.lastName",
    "defaultMessage": "Last Name"
  },
  password: {
    "id": "core.intl.commonMessages.password",
    "defaultMessage": "Password"
  },
  quantity: {
    "id": "core.intl.commonMessages.quantity",
    "defaultMessage": "Quantity"
  },
  sku: {
    "id": "core.intl.commonMessages.sku",
    "defaultMessage": "SKU"
  },
  maxQtyIs: {
    "id": "core.intl.commonMessages.maxQtyIs",
    "defaultMessage": "Maximum quantity is {maxQuantity}"
  },
  qty: {
    "id": "core.intl.commonMessages.qty",
    "defaultMessage": "Quantity"
  },
  subtotal: {
    "id": "core.intl.commonMessages.subtotal",
    "defaultMessage": "Subtotal"
  },
  shipping: {
    "id": "core.intl.commonMessages.shipping",
    "defaultMessage": "Shipping"
  },
  promoCode: {
    "id": "core.intl.commonMessages.promoCode",
    "defaultMessage": "Promo code"
  },
  total: {
    "id": "core.intl.commonMessages.total",
    "defaultMessage": "Total"
  },
  totalPrice: {
    "id": "core.intl.commonMessages.totalPrice",
    "defaultMessage": "Total Price"
  },
  checkout: {
    "id": "core.intl.commonMessages.checkout",
    "defaultMessage": "Checkout"
  },
  eMail: {
    "id": "core.intl.commonMessages.eMail",
    "defaultMessage": "Email Address"
  },
  shortEmail: {
    "id": "core.intl.commonMessages.shortEmail",
    "defaultMessage": "Email"
  },
  loading: {
    "id": "core.intl.commonMessages.loading",
    "defaultMessage": "Loading"
  },
  products: {
    "id": "core.intl.commonMessages.products",
    "defaultMessage": "Products"
  },
  price: {
    "id": "core.intl.commonMessages.price",
    "defaultMessage": "Price"
  },
  variant: {
    "id": "core.intl.commonMessages.variant",
    "defaultMessage": "Variant"
  },
  phone: {
    "id": "core.intl.commonMessages.phone",
    "defaultMessage": "Phone"
  },
  phoneNumber: {
    "id": "core.intl.commonMessages.phoneNumber",
    "defaultMessage": "Phone number: {phone}"
  },
  showEmail: {
    "id": "core.intl.commonMessages.showEmail",
    "defaultMessage": "Email: {email}"
  },
  save: {
    "id": "core.intl.commonMessages.save",
    "defaultMessage": "Save"
  },
  add: {
    "id": "core.intl.commonMessages.add",
    "defaultMessage": "Add"
  },
  filterHeader: {
    "id": "core.intl.commonMessages.filterHeader",
    "defaultMessage": "FILTERS"
  },
  clearFilterHeader: {
    "id": "core.intl.commonMessages.clearFilterHeader",
    "defaultMessage": "CLEAR FILTERS"
  },
  status: {
    "id": "core.intl.commonMessages.status",
    "defaultMessage": "Status"
  },
  cancel: {
    "id": "core.intl.commonMessages.cancel",
    "defaultMessage": "Cancel"
  },
  home: {
    "id": "core.intl.commonMessages.home",
    "defaultMessage": "Home"
  }
});
exports.commonMessages = commonMessages;
var checkoutMessages = (0, _reactIntl.defineMessages)({
  stepNameAddress: {
    "id": "core.intl.checkoutMessages.stepNameAddress",
    "defaultMessage": "Address"
  },
  stepNameShipping: {
    "id": "core.intl.checkoutMessages.stepNameShipping",
    "defaultMessage": "Shipping"
  },
  stepNamePayment: {
    "id": "core.intl.checkoutMessages.stepNamePayment",
    "defaultMessage": "Payment"
  },
  stepNameReview: {
    "id": "core.intl.checkoutMessages.stepNameReview",
    "defaultMessage": "Review"
  },
  addressNextActionName: {
    "id": "core.intl.checkoutMessages.addressNextActionName",
    "defaultMessage": "Continue to Shipping"
  },
  shippingNextActionName: {
    "id": "core.intl.checkoutMessages.shippingNextActionName",
    "defaultMessage": "Continue to Payment"
  },
  paymentNextActionName: {
    "id": "core.intl.checkoutMessages.paymentNextActionName",
    "defaultMessage": "Continue to Review"
  },
  reviewNextActionName: {
    "id": "core.intl.checkoutMessages.reviewNextActionName",
    "defaultMessage": "Place order"
  },
  addNewAddress: {
    "id": "core.intl.checkoutMessages.addNewAddress",
    "defaultMessage": "Add new address"
  },
  shippingMethod: {
    "id": "core.intl.checkoutMessages.shippingMethod",
    "defaultMessage": "SHIPPING METHOD"
  },
  billingAddress: {
    "id": "core.intl.checkoutMessages.billingAddress",
    "defaultMessage": "BILLING ADDRESS"
  },
  paymentMethod: {
    "id": "core.intl.checkoutMessages.paymentMethod",
    "defaultMessage": "PAYMENT METHOD"
  },
  reviewOrder: {
    "id": "core.intl.checkoutMessages.reviewOrder",
    "defaultMessage": "REVIEW ORDER"
  },
  shippingAddress: {
    "id": "core.intl.checkoutMessages.shippingAddress",
    "defaultMessage": "Shipping Address"
  },
  continueShopping: {
    "id": "core.intl.checkoutMessages.continueShopping",
    "defaultMessage": "CONTINUE SHOPPING"
  }
});
exports.checkoutMessages = checkoutMessages;
var prodListHeaderCommonMsg = (0, _reactIntl.defineMessages)({
  sortOptionsClear: {
    "id": "core.intl.prodListHeaderCommonMsg.sortOptionsClear",
    "defaultMessage": "Clear..."
  },
  sortOptionsPrice: {
    "id": "core.intl.prodListHeaderCommonMsg.sortOptionsPrice",
    "defaultMessage": "Price Low-High"
  },
  sortOptionsPriceDsc: {
    "id": "core.intl.prodListHeaderCommonMsg.sortOptionsPriceDsc",
    "defaultMessage": "Price High-Low"
  },
  sortOptionsName: {
    "id": "core.intl.prodListHeaderCommonMsg.sortOptionsName",
    "defaultMessage": "Name Increasing"
  },
  sortOptionsNameDsc: {
    "id": "core.intl.prodListHeaderCommonMsg.sortOptionsNameDsc",
    "defaultMessage": "Name Decreasing"
  },
  sortOptionsUpdatedAt: {
    "id": "core.intl.prodListHeaderCommonMsg.sortOptionsUpdatedAt",
    "defaultMessage": "Last updated Ascending"
  },
  sortOptionsUpdatedAtDsc: {
    "id": "core.intl.prodListHeaderCommonMsg.sortOptionsUpdatedAtDsc",
    "defaultMessage": "Last updated Descending"
  }
});
exports.prodListHeaderCommonMsg = prodListHeaderCommonMsg;
var paymentStatusMessages = (0, _reactIntl.defineMessages)({
  notCharged: {
    "id": "core.intl.paymentStatusMessages.notCharged",
    "defaultMessage": "Not charged"
  },
  partiallyCharged: {
    "id": "core.intl.paymentStatusMessages.partiallyCharged",
    "defaultMessage": "Partially charged"
  },
  fullyCharged: {
    "id": "core.intl.paymentStatusMessages.fullyCharged",
    "defaultMessage": "Fully charged"
  },
  partiallyRefunded: {
    "id": "core.intl.paymentStatusMessages.partiallyRefunded",
    "defaultMessage": "Partially refunded"
  },
  fullyRefunded: {
    "id": "core.intl.paymentStatusMessages.fullyRefunded",
    "defaultMessage": "Fully refunded"
  }
});
exports.paymentStatusMessages = paymentStatusMessages;
var paymentErrorMessages = (0, _reactIntl.defineMessages)({
  paymentNoConfirmationData: {
    "id": "core.intl.paymentErrorMessages.paymentNoConfirmationData",
    "defaultMessage": "Payment needs confirmation but data required for confirmation not received from the server."
  },
  paymentMalformedConfirmationData: {
    "id": "core.intl.paymentErrorMessages.paymentMalformedConfirmationData",
    "defaultMessage": "Payment needs confirmation but data required for confirmation received from the server is malformed."
  },
  cannotHandlePaymentConfirmation: {
    "id": "core.intl.paymentErrorMessages.cannotHandlePaymentConfirmation",
    "defaultMessage": "Payment gateway did not provide payment confirmation handler."
  }
});
exports.paymentErrorMessages = paymentErrorMessages;
var orderStatusMessages = (0, _reactIntl.defineMessages)({
  draft: {
    "id": "core.intl.orderStatusMessages.draft",
    "defaultMessage": "Draft"
  },
  unfulfilled: {
    "id": "core.intl.orderStatusMessages.unfulfilled",
    "defaultMessage": "Unfulfilled"
  },
  partiallyFulfilled: {
    "id": "core.intl.orderStatusMessages.partiallyFulfilled",
    "defaultMessage": "Partially fulfilled"
  },
  fulfilled: {
    "id": "core.intl.orderStatusMessages.fulfilled",
    "defaultMessage": "Fulfilled"
  },
  canceled: {
    "id": "core.intl.orderStatusMessages.canceled",
    "defaultMessage": "Canceled"
  }
});
exports.orderStatusMessages = orderStatusMessages;

function translatePaymentStatus(status, intl) {
  switch (status) {
    case "Not charged":
      return intl.formatMessage(paymentStatusMessages.notCharged);

    case "Partially charged":
      return intl.formatMessage(paymentStatusMessages.partiallyCharged);

    case "Fully charged":
      return intl.formatMessage(paymentStatusMessages.fullyCharged);

    case "Partially refunded":
      return intl.formatMessage(paymentStatusMessages.partiallyRefunded);

    case "Fully refunded":
      return intl.formatMessage(paymentStatusMessages.fullyRefunded);

    default:
      return status;
  }
}

function translateOrderStatus(status, intl) {
  switch (status) {
    case "Draft":
      return intl.formatMessage(orderStatusMessages.draft);

    case "Unfulfilled":
      return intl.formatMessage(orderStatusMessages.unfulfilled);

    case "Partially fulfilled":
      return intl.formatMessage(orderStatusMessages.partiallyFulfilled);

    case "Fulfilled":
      return intl.formatMessage(orderStatusMessages.fulfilled);

    case "Canceled":
      return intl.formatMessage(orderStatusMessages.canceled);

    default:
      return status;
  }
}
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.TypedMutation = TypedMutation;

var _components = require("@apollo/client/react/components");

var _react = _interopRequireDefault(require("react"));

var __jsx = _react["default"].createElement;

function TypedMutation(mutation, update) {
  // eslint-disable-next-line react/display-name
  return function (props) {
    var _ref = props,
        children = _ref.children,
        onCompleted = _ref.onCompleted,
        onError = _ref.onError,
        variables = _ref.variables;
    return __jsx(_components.Mutation, {
      mutation: mutation,
      onCompleted: onCompleted,
      onError: onError,
      variables: variables,
      update: update
    }, children);
  };
}
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.DYNAMIC_REDIRECT_PATHS = exports.paths = void 0;
var baseUrl = "/";
var slugUrl = ":slug";
var accountBaseUrl = "".concat(baseUrl, "account/");
var checkoutBaseUrl = "".concat(baseUrl, "checkout/");
var paths = {
  notFound: "".concat(baseUrl, "404"),
  accountConfirm: "".concat(baseUrl, "account-confirm"),
  cart: "".concat(baseUrl, "cart"),
  category: "".concat(baseUrl, "category/").concat(slugUrl),
  collection: "".concat(baseUrl, "collection/").concat(slugUrl),
  guestOrderDetail: "".concat(baseUrl, "order-history/:token"),
  home: baseUrl,
  login: "".concat(baseUrl, "login"),
  orderFinalized: "".concat(baseUrl, "order-finalized"),
  page: "".concat(baseUrl, "page/:slug"),
  passwordReset: "".concat(baseUrl, "reset-password"),
  product: "".concat(baseUrl, "product/").concat(slugUrl),
  search: "".concat(baseUrl, "search"),
  wishlist: "".concat(baseUrl, "wishlist"),

  /**
   * Account section
   */
  account: accountBaseUrl,
  accountAddressBook: "".concat(accountBaseUrl, "address-book"),
  // FIXME: User order should be accessible via order id
  accountOrderDetail: "".concat(accountBaseUrl, "order-history/:token"),
  accountOrderHistory: "".concat(accountBaseUrl, "order-history"),

  /**
   * Checkout
   */
  checkout: checkoutBaseUrl,
  checkoutAddress: "".concat(checkoutBaseUrl, "address"),
  checkoutPayment: "".concat(checkoutBaseUrl, "payment"),
  checkoutPaymentConfirm: "".concat(checkoutBaseUrl, "payment-confirm"),
  checkoutReview: "".concat(checkoutBaseUrl, "review"),
  checkoutShipping: "".concat(checkoutBaseUrl, "shipping")
};
/**
 * Paths which should not be generated at build time.
 */

exports.paths = paths;
var DYNAMIC_REDIRECT_PATHS = [paths.accountOrderDetail, paths.guestOrderDetail];
exports.DYNAMIC_REDIRECT_PATHS = DYNAMIC_REDIRECT_PATHS;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.TypedQuery = TypedQuery;

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _components = require("@apollo/client/react/components");

var _Error = require("@mzawadie/components/Error");

var _Loader = _interopRequireDefault(require("@mzawadie/components/Loader"));

var _react = _interopRequireDefault(require("react"));

var _utils = require("./utils");

var __jsx = _react["default"].createElement;

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function TypedQuery(query) {
  // eslint-disable-next-line react/display-name
  return function (props) {
    var _ref = props,
        children = _ref.children,
        _ref$displayError = _ref.displayError,
        displayError = _ref$displayError === void 0 ? true : _ref$displayError,
        _ref$displayLoader = _ref.displayLoader,
        displayLoader = _ref$displayLoader === void 0 ? true : _ref$displayLoader,
        _ref$renderOnError = _ref.renderOnError,
        renderOnError = _ref$renderOnError === void 0 ? false : _ref$renderOnError,
        _ref$alwaysRender = _ref.alwaysRender,
        alwaysRender = _ref$alwaysRender === void 0 ? false : _ref$alwaysRender,
        _ref$fetchPolicy = _ref.fetchPolicy,
        fetchPolicy = _ref$fetchPolicy === void 0 ? "cache-and-network" : _ref$fetchPolicy,
        errorPolicy = _ref.errorPolicy,
        loaderFull = _ref.loaderFull,
        skip = _ref.skip,
        variables = _ref.variables,
        onCompleted = _ref.onCompleted;
    return __jsx(_components.Query, {
      query: query,
      variables: variables,
      skip: skip,
      fetchPolicy: fetchPolicy,
      errorPolicy: errorPolicy,
      onCompleted: onCompleted
    }, function (queryData) {
      var error = queryData.error,
          loading = queryData.loading,
          data = queryData.data,
          fetchMore = queryData.fetchMore;
      var hasData = (0, _utils.maybe)(function () {
        return !!Object.keys(data).length;
      }, false);

      var loadMore = function loadMore(mergeFunc, extraVariables) {
        return fetchMore({
          query: query,
          updateQuery: function updateQuery(previousResults, _ref2) {
            var fetchMoreResult = _ref2.fetchMoreResult;

            if (!fetchMoreResult) {
              return previousResults;
            }

            return mergeFunc(previousResults, fetchMoreResult);
          },
          variables: _objectSpread(_objectSpread({}, variables), extraVariables)
        });
      };

      if (displayError && error && !hasData) {
        return __jsx(_Error.Error, {
          error: error.message
        });
      }

      if (displayLoader && loading && !hasData) {
        return __jsx(_Loader["default"], {
          full: loaderFull
        });
      }

      if (hasData || renderOnError && error || alwaysRender) {
        return children(_objectSpread(_objectSpread({}, queryData), {}, {
          loadMore: loadMore
        }));
      }

      return null;
    });
  };
}

"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});



"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.matchPath = matchPath;
exports.convertSortByFromString = exports.convertToAttributeScalar = exports.getValueOrEmpty = exports.generatePageUrl = exports.generateCollectionUrl = exports.generateCategoryUrl = exports.generateProductUrl = exports.updateQueryString = exports.parseQueryString = exports.maybe = exports.priceToString = exports.getGraphqlIdFromDBId = exports.getDBIdFromGraphqlId = exports.slugify = void 0;

var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _jsBase = require("js-base64");

var _lodash = require("lodash");

var _queryString = require("query-string");

var _globalTypes = require("../../gqlTypes/globalTypes");

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var slugify = function slugify(text) {
  return text.toString().toLowerCase().trim().replace(/\s+/g, "-") // Replace spaces with -
  .replace(/&/g, "-and-") // Replace & with 'and'
  .replace(/[^\w\-]+/g, "") // Remove all non-word chars
  .replace(/\-\-+/g, "-");
}; // Replace multiple - with single -


exports.slugify = slugify;

var getDBIdFromGraphqlId = function getDBIdFromGraphqlId(graphqlId, schema) {
  // This is temporary solution, we will use slugs in the future
  var rawId = _jsBase.Base64.decode(graphqlId);

  var regexp = /(\w+):(\d+)/; // @ts-ignore

  var _regexp$exec = regexp.exec(rawId),
      _regexp$exec2 = (0, _slicedToArray2["default"])(_regexp$exec, 3),
      expectedSchema = _regexp$exec2[1],
      id = _regexp$exec2[2];

  if (schema && schema !== expectedSchema) {
    throw new Error("Schema is not correct");
  }

  return parseInt(id, 10);
};

exports.getDBIdFromGraphqlId = getDBIdFromGraphqlId;

var getGraphqlIdFromDBId = function getGraphqlIdFromDBId(id, schema) {
  return (// This is temporary solution, we will use slugs in the future
    _jsBase.Base64.encode("".concat(schema, ":").concat(id))
  );
};

exports.getGraphqlIdFromDBId = getGraphqlIdFromDBId;

var priceToString = function priceToString(price, locale) {
  var amount = price.amount;

  if (locale) {
    return amount.toLocaleString(locale, {
      currency: price.currency,
      style: "currency"
    });
  } else {
    return "".concat(price.currency, " ").concat(amount.toFixed(2));
  }
};

exports.priceToString = priceToString;

var maybe = function maybe(exp, d) {
  try {
    var result = exp();
    return result === undefined ? d : result;
  } catch (_unused) {
    return d;
  }
};

exports.maybe = maybe;

var parseQueryString = function parseQueryString(location) {
  var query = _objectSpread({}, (0, _queryString.parse)(location.search.substr(1)));

  (0, _lodash.each)(query, function (value, key) {
    if (Array.isArray(value)) {
      query[key] = value[0];
    }
  });
  return query;
};

exports.parseQueryString = parseQueryString;

var updateQueryString = function updateQueryString(location, history) {
  var querystring = parseQueryString(location);
  return function (key, value) {
    if (value === "") {
      delete querystring[key];
    } else {
      querystring[key] = value || key;
    }

    history.replace("?" + (0, _queryString.stringify)(querystring));
  };
};

exports.updateQueryString = updateQueryString;

var generateProductUrl = function generateProductUrl(id, name) {
  return "/product/".concat(slugify(name), "/").concat(getDBIdFromGraphqlId(id, "Product"), "/");
};

exports.generateProductUrl = generateProductUrl;

var generateCategoryUrl = function generateCategoryUrl(id, name) {
  return "/category/".concat(slugify(name), "/").concat(getDBIdFromGraphqlId(id, "Category"), "/");
};

exports.generateCategoryUrl = generateCategoryUrl;

var generateCollectionUrl = function generateCollectionUrl(id, name) {
  return "/collection/".concat(slugify(name), "/").concat(getDBIdFromGraphqlId(id, "Collection"), "/");
};

exports.generateCollectionUrl = generateCollectionUrl;

var generatePageUrl = function generatePageUrl(slug) {
  return "/page/".concat(slug, "/");
};

exports.generatePageUrl = generatePageUrl;

var getValueOrEmpty = function getValueOrEmpty(value) {
  return value === undefined || value === null ? "" : value;
};

exports.getValueOrEmpty = getValueOrEmpty;

var convertToAttributeScalar = function convertToAttributeScalar(attributes) {
  return Object.entries(attributes).map(function (_ref) {
    var _ref2 = (0, _slicedToArray2["default"])(_ref, 2),
        key = _ref2[0],
        value = _ref2[1];

    return value.map(function (attribute) {
      return {
        slug: key,
        values: [attribute]
      };
    });
  }).reduce(function (prev, curr) {
    return [].concat((0, _toConsumableArray2["default"])(prev), (0, _toConsumableArray2["default"])(curr));
  }, []);
};

exports.convertToAttributeScalar = convertToAttributeScalar;

var convertSortByFromString = function convertSortByFromString(sortBy) {
  if (!sortBy) {
    return null;
  }

  var direction = sortBy.startsWith("-") ? _globalTypes.OrderDirection.DESC : _globalTypes.OrderDirection.ASC;
  var field;

  switch (sortBy.replace(/^-/, "")) {
    case "name":
      field = _globalTypes.ProductOrderField.NAME;
      break;

    case "price":
      field = _globalTypes.ProductOrderField.MINIMAL_PRICE;
      break;

    case "updated_at":
      field = _globalTypes.ProductOrderField.DATE;
      break;

    default:
      return null;
  }

  return {
    field: field,
    direction: direction
  };
};

exports.convertSortByFromString = convertSortByFromString;

/**
 * Performs pattern matching on a URL pathname and returns information about
 * the match.
 *
 * @see https://reactrouter.com/docs/en/v6/api#matchpath
 */
function matchPath(pattern, pathname) {
  if (typeof pattern === "string") {
    pattern = {
      path: pattern,
      caseSensitive: false,
      end: true
    };
  }

  var _compilePath = compilePath(pattern.path, pattern.caseSensitive, pattern.end),
      _compilePath2 = (0, _slicedToArray2["default"])(_compilePath, 2),
      matcher = _compilePath2[0],
      paramNames = _compilePath2[1];

  var match = pathname.match(matcher);
  if (!match) return null;
  var matchedPathname = match[0];
  var pathnameBase = matchedPathname.replace(/(.)\/+$/, "$1");
  var captureGroups = match.slice(1);
  var params = paramNames.reduce(function (memo, paramName, index) {
    // We need to compute the pathnameBase here using the raw splat value
    // instead of using params["*"] later because it will be decoded then
    if (paramName === "*") {
      var splatValue = captureGroups[index] || "";
      pathnameBase = matchedPathname.slice(0, matchedPathname.length - splatValue.length).replace(/(.)\/+$/, "$1");
    }

    memo[paramName] = safelyDecodeURIComponent(captureGroups[index] || "", paramName);
    return memo;
  }, {});
  return {
    params: params,
    pathname: matchedPathname,
    pathnameBase: pathnameBase,
    pattern: pattern
  };
}

var compilePath = function compilePath(path) {
  var caseSensitive = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  var end = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;
  warning(path === "*" || !path.endsWith("*") || path.endsWith("/*"), "Route path \"".concat(path, "\" will be treated as if it were ") + "\"".concat(path.replace(/\*$/, "/*"), "\" because the `*` character must ") + "always follow a `/` in the pattern. To get rid of this warning, " + "please change the route path to \"".concat(path.replace(/\*$/, "/*"), "\"."));
  var paramNames = [];
  var regexpSource = "^" + path.replace(/\/*\*?$/, "") // Ignore trailing / and /*, we'll handle it below
  .replace(/^\/*/, "/") // Make sure it has a leading /
  .replace(/[\\.*+^$?{}|()[\]]/g, "\\$&") // Escape special regex chars
  .replace(/:(\w+)/g, function (_, paramName) {
    paramNames.push(paramName);
    return "([^\\/]+)";
  });

  if (path.endsWith("*")) {
    paramNames.push("*");
    regexpSource += path === "*" || path === "/*" ? "(.*)$" // Already matched the initial /, just match the rest
    : "(?:\\/(.+)|\\/*)$"; // Don't include the / in params["*"]
  } else {
    regexpSource += end ? "\\/*$" // When matching to the end, ignore trailing slashes
    : // Otherwise, at least match a word boundary. This restricts parent
    // routes to matching only their own words and nothing more, e.g. parent
    // route "/home" should not match "/home2".
    "(?:\\b|$)";
  }

  var matcher = new RegExp(regexpSource, caseSensitive ? undefined : "i");
  return [matcher, paramNames];
};

var safelyDecodeURIComponent = function safelyDecodeURIComponent(value, paramName) {
  try {
    return decodeURIComponent(value);
  } catch (error) {
    warning(false, "The value for the URL param \"".concat(paramName, "\" will not be decoded because") + " the string \"".concat(value, "\" is a malformed URL segment. This is probably") + " due to a bad percent encoding (".concat(error, ")."));
    return value;
  }
};
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.smallScreen = exports.mediumScreen = exports.largeScreen = exports.xLargeScreen = exports.xxLargeScreen = exports.xxxLargeScreen = exports.fieldSpacer = exports.spacer = exports.ultraBigFont = exports.smallFontSize = exports.labelFontSize = exports.h4FontSize = exports.h3FontSize = exports.h1LineHeight = exports.h2FontSize = exports.h1FontSize = exports.extraBoldFontWeight = exports.boldFontWeight = exports.baseLineHeight = exports.baseFontSize = exports.baseFontFamily = exports.theme = exports.secondaryBlue = exports.secondaryGreyDark = exports.secondaryGrey = exports.darkGreen = exports.tabelGray = exports.white = exports.turquoiseTransparent = exports.turquoiseLight = exports.turquoiseDark = exports.turquoise = exports.rose = exports.overlayColor = exports.green = exports.grayLight = exports.grayDark = exports.grayMedium = exports.gray = exports.blueOverlayDark = exports.blueOverlay = exports.blueLight = exports.blueDark = exports.blue = exports.black = exports.baseFontColorTransparent = exports.baseFontColorSemiTransparent = exports.baseFontColor = exports.autofillColorSelected = exports.autofillColor = void 0;
// colors
var autofillColor = "rgb(250, 255, 189)";
exports.autofillColor = autofillColor;
var autofillColorSelected = "rgb(232, 240, 254)";
exports.autofillColorSelected = autofillColorSelected;
var baseFontColor = "#323232";
exports.baseFontColor = baseFontColor;
var baseFontColorSemiTransparent = "rgba(50,50,50,0.6)";
exports.baseFontColorSemiTransparent = baseFontColorSemiTransparent;
var baseFontColorTransparent = "rgba(50,50,50,0.1)";
exports.baseFontColorTransparent = baseFontColorTransparent;
var black = "#323232";
exports.black = black;
var blue = "rgb(33,18,94)";
exports.blue = blue;
var blueDark = "#190c4e";
exports.blueDark = blueDark;
var blueLight = "#513CA3";
exports.blueLight = blueLight;
var blueOverlay = "rgba(33,18,94,0.1)";
exports.blueOverlay = blueOverlay;
var blueOverlayDark = "rgba(33,18,94,0.2)";
exports.blueOverlayDark = blueOverlayDark;
var gray = "#7d7d7d";
exports.gray = gray;
var grayMedium = "#c4c4c4";
exports.grayMedium = grayMedium;
var grayDark = "#323232";
exports.grayDark = grayDark;
var grayLight = "#f1f5f5";
exports.grayLight = grayLight;
var green = "#3ed256";
exports.green = green;
var overlayColor = "rgba(199, 207, 207, 0.8)";
exports.overlayColor = overlayColor;
var rose = "#c22d74";
exports.rose = rose;
var turquoise = "#13bebb";
exports.turquoise = turquoise;
var turquoiseDark = "#06a09e";
exports.turquoiseDark = turquoiseDark;
var turquoiseLight = "rgba(6, 132, 123, 0.25)";
exports.turquoiseLight = turquoiseLight;
var turquoiseTransparent = "rgba(6, 132, 123, 0.1)";
exports.turquoiseTransparent = turquoiseTransparent;
var white = "#fff";
exports.white = white;
var tabelGray = "#eaeaea";
exports.tabelGray = tabelGray;
var darkGreen = "#06847B";
exports.darkGreen = darkGreen;
var secondaryGrey = "#EBF1F6";
exports.secondaryGrey = secondaryGrey;
var secondaryGreyDark = "#9D9FB1";
exports.secondaryGreyDark = secondaryGreyDark;
var secondaryBlue = "#036DFF"; // theme colors

exports.secondaryBlue = secondaryBlue;
var theme = {
  activeMenuOption: darkGreen,
  autofill: autofillColor,
  autofillSelected: autofillColorSelected,
  bannerBackground: secondaryGrey,
  bannerEdge: secondaryGreyDark,
  bannerLink: secondaryBlue,
  baseFont: baseFontColor,
  baseFontColorSemiTransparent: baseFontColorSemiTransparent,
  baseFontColorTransparent: baseFontColorTransparent,
  dark: black,
  disabled: gray,
  divider: grayLight,
  dividerDark: grayMedium,
  error: rose,
  hoverLightBackground: turquoiseLight,
  light: grayLight,
  lightFont: gray,
  listAttributeName: baseFontColorSemiTransparent,
  listBullet: darkGreen,
  overlay: overlayColor,
  primary: turquoise,
  primaryDark: turquoiseDark,
  primaryLight: turquoiseLight,
  primaryTransparent: turquoiseTransparent,
  secondary: blue,
  secondaryDark: blueDark,
  secondaryLight: blueLight,
  secondaryOverlay: blueOverlay,
  secondaryOverlayDark: blueOverlayDark,
  success: green,
  tabTitle: darkGreen,
  tableDivider: tabelGray,
  tabsBorder: baseFontColorTransparent,
  thumbnailBorder: darkGreen,
  white: white
}; // typography

exports.theme = theme;
var baseFontFamily = "'Inter', sans-serif";
exports.baseFontFamily = baseFontFamily;
var baseFontSize = "1rem"; // 16px

exports.baseFontSize = baseFontSize;
var baseLineHeight = "1.25rem"; // 20px

exports.baseLineHeight = baseLineHeight;
var boldFontWeight = 600;
exports.boldFontWeight = boldFontWeight;
var extraBoldFontWeight = 800;
exports.extraBoldFontWeight = extraBoldFontWeight;
var h1FontSize = "4rem"; // 64px

exports.h1FontSize = h1FontSize;
var h2FontSize = "3rem"; // 48px

exports.h2FontSize = h2FontSize;
var h1LineHeight = 1;
exports.h1LineHeight = h1LineHeight;
var h3FontSize = "1.5rem"; // 24px

exports.h3FontSize = h3FontSize;
var h4FontSize = "1.125rem"; // 18px

exports.h4FontSize = h4FontSize;
var labelFontSize = "0.75rem"; // 12px

exports.labelFontSize = labelFontSize;
var smallFontSize = "0.875rem"; // 14px

exports.smallFontSize = smallFontSize;
var ultraBigFont = "6rem"; // 96px
// spacing

exports.ultraBigFont = ultraBigFont;
var spacer = 1; // rem

exports.spacer = spacer;
var fieldSpacer = "1.875rem"; // breakpoints

exports.fieldSpacer = fieldSpacer;
var xxxLargeScreen = 1920;
exports.xxxLargeScreen = xxxLargeScreen;
var xxLargeScreen = 1600;
exports.xxLargeScreen = xxLargeScreen;
var xLargeScreen = 1280;
exports.xLargeScreen = xLargeScreen;
var largeScreen = 992;
exports.largeScreen = largeScreen;
var mediumScreen = 720;
exports.mediumScreen = mediumScreen;
var smallScreen = 540;
exports.smallScreen = smallScreen;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.GlobalStyle = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styledComponents = require("styled-components");

var _ = require(".");

var _templateObject;

var GlobalStyle = (0, _styledComponents.createGlobalStyle)(["html{box-sizing:border-box;}*,*:before,*:after{box-sizing:inherit;}body{margin:0;min-width:320px;font-family:", ";font-size:", ";line-height:", ";color:", ";}input,textarea,button{font-family:inherit;}h1{font-size:", ";line-height:", ";", "}h3{font-size:", ";line-height:1.7rem;}h4{font-size:", ";}a{text-decoration:none;font-weight:normal;color:inherit;}p{line-height:1.5rem;}button{border:none;background-color:transparent;cursor:pointer;outline:none;padding:0;}ul{list-style:none;}#root,#__next{display:flex;min-height:100vh;flex-direction:column;& > div:first-of-type{flex:1;}}"], function (props) {
  return props.theme.typography.baseFontFamily;
}, function (props) {
  return props.theme.typography.baseFontSize;
}, function (props) {
  return props.theme.typography.baseLineHeight;
}, function (props) {
  return props.theme.colors.baseFont;
}, function (props) {
  return props.theme.typography.h1FontSize;
}, function (props) {
  return props.theme.typography.h1LineHeight;
}, function (props) {
  return _.media.smallScreen(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n      font-size: ", ";\n    "])), props.theme.typography.h2FontSize);
}, function (props) {
  return props.theme.typography.h3FontSize;
}, function (props) {
  return props.theme.typography.h4FontSize;
});
exports.GlobalStyle = GlobalStyle;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _themes = require("./themes");

Object.keys(_themes).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _themes[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _themes[key];
    }
  });
});

var _media = require("./media");

Object.keys(_media).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _media[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _media[key];
    }
  });
});

var _global = require("./global");

Object.keys(_global).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _global[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _global[key];
    }
  });
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.media = void 0;

var _styledComponents = require("styled-components");

var _constants = require("./constants");

var breakpoints = {
  largeScreen: _constants.largeScreen,
  mediumScreen: _constants.mediumScreen,
  smallScreen: _constants.smallScreen,
  xLargeScreen: _constants.xLargeScreen,
  xxLargeScreen: _constants.xxLargeScreen,
  xxxLargeScreen: _constants.xxxLargeScreen
};
var media = Object.keys(breakpoints).reduce(function (acc, label) {
  acc[label] = function (literals) {
    for (var _len = arguments.length, placeholders = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      placeholders[_key - 1] = arguments[_key];
    }

    return (0, _styledComponents.css)(["@media (max-width:", "px){", "}"], breakpoints[label], _styledComponents.css.apply(void 0, [literals].concat(placeholders)));
  };

  return acc;
}, // tslint:disable-next-line:no-object-literal-type-assertion
{});
exports.media = media;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.styled = exports.defaultTheme = void 0;

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _styledComponents = _interopRequireDefault(require("styled-components"));

var C = _interopRequireWildcard(require("./constants"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var defaultTheme = {
  breakpoints: {
    largeScreen: "992px",
    mediumScreen: "720px",
    smallScreen: "540px",
    xLargeScreen: "1280px",
    xxLargeScreen: "1600px",
    xxxLargeScreen: "1920px"
  },
  button: {
    animation: {
      transition: "0.3s"
    },
    colors: {
      primary: {
        activeBackground: C.theme.primaryDark,
        background: C.theme.primary,
        color: C.white,
        hoverBackground: C.theme.primaryDark,
        hoverColor: C.white
      },
      secondary: {
        activeBackground: C.theme.secondaryDark,
        background: C.white,
        color: C.theme.secondary,
        hoverBackground: C.theme.secondary,
        hoverColor: C.white
      }
    },
    padding: {
      main: "0.9rem 3.7rem",
      small: "0.9rem 1rem"
    },
    typography: {
      fontSize: "1.125rem",
      fontWeight: "600",
      lineHeight: "1.25rem",
      smallFontSize: "1rem",
      textTransform: "uppercase"
    }
  },
  carousel: {
    carouselControlPadding: "0.2rem 0.5rem",
    carouselControlShadow: "0px 0px 10px 0px rgba(0, 0, 0, 0.25)"
  },
  chip: {
    colors: {
      primary: {
        activeBackground: C.theme.primaryTransparent,
        background: C.theme.primaryLight,
        color: C.theme.primaryDark,
        hoverBackground: "none",
        hoverColor: C.theme.primaryDark
      },
      secondary: {
        activeBackground: C.theme.primaryTransparent,
        background: C.theme.secondaryLight,
        color: C.theme.secondaryDark,
        hoverBackground: "none",
        hoverColor: C.theme.secondaryDark
      }
    },
    typography: {
      fontSize: "1rem",
      smallFontSize: "0.75rem"
    }
  },
  colors: _objectSpread({}, C.theme),
  container: {
    width: 1140
  },
  demoBanner: {
    height: "60px"
  },
  dropdown: {
    backgroundColor: C.theme.white,
    boxShadow: "0px 6px 10px 0px rgba(0, 0, 0, 0.15)"
  },
  grid: {
    containerWidth: 1140
  },
  iconButton: {
    backgroundColor: C.theme.white,
    hoverBackgroundColor: C.theme.secondary,
    hoverForegroundColor: C.theme.white,
    size: 36
  },
  input: {
    border: C.grayDark,
    labelColor: C.grayDark,

    /**
     * 12px in default theme
     */
    labelFontSize: "0.75rem",
    selectMenuShadow: "0px 6px 10px 0px rgba(0, 0, 0, 0.15)"
  },
  link: {
    base: {
      color: C.gray,
      hoverColor: C.grayMedium
    },
    secondary: {
      color: C.blue,
      hoverColor: C.blueLight
    }
  },
  message: {
    backgroundColor: C.white,
    contentMargin: "".concat(C.spacer, "rem 0 0"),
    letterSpacing: "0.5px",
    padding: "1rem 1.5rem",
    titleMargin: "0 ".concat(C.spacer * 1.5, "rem 0 0"),
    titleTransform: "uppercase",
    titleWeight: C.extraBoldFontWeight,
    width: "25rem"
  },
  modal: {
    modalMinHeight: 455,
    modalWidth: 555
  },
  productItem: {
    productItemCategoryColor: C.gray,
    productItemPriceFontWeight: C.boldFontWeight,
    productItemPriceMargin: "".concat(C.spacer, "rem 0 0"),
    productItemTitleFontWeight: C.boldFontWeight,
    productItemTitleHeight: "2.5rem",
    productItemTitleMargin: "".concat(C.spacer / 2, "rem 0 0"),
    productItemTitleTextTransform: "uppercase"
  },
  spacing: {
    /**
     * 30px in default theme
     */
    fieldSpacer: C.fieldSpacer,

    /**
     * 30px in default theme
     */
    gutter: "1.875rem",

    /**
     * 16px in default theme
     */
    spacer: "".concat(C.spacer, "rem")
  },
  tile: {
    backgroundColor: C.grayLight,
    divisionLine: C.grayMedium,
    hoverBorder: C.blueDark
  },
  typography: {
    baseFontFamily: C.baseFontFamily,

    /**
     * 16px in default theme
     */
    baseFontSize: C.baseFontSize,

    /**
     * 20px in default theme
     */
    baseLineHeight: C.baseLineHeight,
    boldFontWeight: C.boldFontWeight,
    extraBoldFontWeight: C.extraBoldFontWeight,

    /**
     * 64px in default theme
     */
    h1FontSize: C.h1FontSize,
    h1LineHeight: C.h1LineHeight,

    /**
     * 48px in default theme
     */
    h2FontSize: C.h2FontSize,

    /**
     * 24px in default theme
     */
    h3FontSize: C.h3FontSize,

    /**
     * 18px in default theme
     */
    h4FontSize: C.h4FontSize,

    /**
     * 14px in default theme
     */
    smallFontSize: C.smallFontSize,

    /**
     * 96px in default theme
     */
    ultraBigFontSize: C.ultraBigFont
  }
};
exports.defaultTheme = defaultTheme;
var styled = _styledComponents["default"];
exports.styled = styled;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.menuItemFragment = exports.attributeFragment = exports.featuredProductsFragment = exports.featuredProductFragment = exports.productPricingFragment = exports.basicProductFragment = exports.taxedPriceFragment = exports.priceFragment = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _client = require("@apollo/client");

var _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7, _templateObject8;

var priceFragment = (0, _client.gql)(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    fragment Price on Money {\n        amount\n        currency\n    }\n"])));
exports.priceFragment = priceFragment;
var taxedPriceFragment = (0, _client.gql)(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n    ", "\n    fragment TaxedPrice on TaxedMoney {\n        gross {\n            ...Price\n        }\n        net {\n            ...Price\n        }\n    }\n"])), priceFragment);
exports.taxedPriceFragment = taxedPriceFragment;
var basicProductFragment = (0, _client.gql)(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["\n    fragment BasicProductFields on Product {\n        id\n        slug\n        name\n        thumbnail {\n            url\n            alt\n        }\n        thumbnail2x: thumbnail(size: 510) {\n            url\n        }\n    }\n"])));
exports.basicProductFragment = basicProductFragment;
var productPricingFragment = (0, _client.gql)(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2["default"])(["\n    ", "\n    fragment ProductPricingField on Product {\n        pricing {\n            onSale\n            priceRangeUndiscounted {\n                start {\n                    ...TaxedPrice\n                }\n                stop {\n                    ...TaxedPrice\n                }\n            }\n            priceRange {\n                start {\n                    ...TaxedPrice\n                }\n                stop {\n                    ...TaxedPrice\n                }\n            }\n        }\n    }\n"])), taxedPriceFragment);
exports.productPricingFragment = productPricingFragment;
var featuredProductFragment = (0, _client.gql)(_templateObject5 || (_templateObject5 = (0, _taggedTemplateLiteral2["default"])(["\n    ", "\n    ", "\n    fragment FeaturedProduct on Product {\n        ...BasicProductFields\n        ...ProductPricingField\n        category {\n            id\n            name\n        }\n    }\n"])), basicProductFragment, productPricingFragment);
exports.featuredProductFragment = featuredProductFragment;
var featuredProductsFragment = (0, _client.gql)(_templateObject6 || (_templateObject6 = (0, _taggedTemplateLiteral2["default"])(["\n    ", "\n    fragment FeaturedProducts on Query {\n        collection(slug: \"featured-products\", channel: $channel) {\n            id\n            name\n            backgroundImage {\n                url\n            }\n            products(first: 20) {\n                edges {\n                    node {\n                        ...FeaturedProduct\n                    }\n                }\n            }\n        }\n    }\n"])), featuredProductFragment);
exports.featuredProductsFragment = featuredProductsFragment;
var attributeFragment = (0, _client.gql)(_templateObject7 || (_templateObject7 = (0, _taggedTemplateLiteral2["default"])(["\n    fragment Attribute on Attribute {\n        id\n        name\n        slug\n        choices(first: 100) {\n            edges {\n                node {\n                    id\n                    name\n                    slug\n                }\n            }\n        }\n    }\n"])));
exports.attributeFragment = attributeFragment;
var menuItemFragment = (0, _client.gql)(_templateObject8 || (_templateObject8 = (0, _taggedTemplateLiteral2["default"])(["\n    fragment MenuItem on MenuItem {\n        id\n        name\n        category {\n            id\n            name\n            slug\n        }\n        url\n        collection {\n            id\n            name\n            slug\n        }\n        page {\n            slug\n        }\n        parent {\n            id\n        }\n    }\n"])));
exports.menuItemFragment = menuItemFragment;











"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _fragments = require("./fragments");

Object.keys(_fragments).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _fragments[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _fragments[key];
    }
  });
});

var _queries = require("./queries");

Object.keys(_queries).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _queries[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _queries[key];
    }
  });
});

var _utils = require("./utils");

Object.keys(_utils).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _utils[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _utils[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.shopMenusQuery = exports.shopAttributesQuery = exports.featuredProductsQuery = exports.useTypedQuery = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _client = require("@apollo/client");

var _fragments = require("@next/graphql/fragments");

var _templateObject, _templateObject2, _templateObject3;

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var useTypedQuery = function useTypedQuery(query, options) {
  var queryResult = (0, _client.useQuery)(query, options);

  var loadMore = function loadMore(mergeFn, endCursor) {
    return queryResult.fetchMore({
      query: query,
      updateQuery: function updateQuery(previousResults, _ref) {
        var fetchMoreResult = _ref.fetchMoreResult;

        if (!fetchMoreResult) {
          return previousResults;
        }

        return mergeFn(previousResults, fetchMoreResult);
      },
      variables: _objectSpread(_objectSpread({}, options === null || options === void 0 ? void 0 : options.variables), {}, {
        after: endCursor
      })
    });
  };

  return _objectSpread({
    loadMore: loadMore
  }, queryResult);
};

exports.useTypedQuery = useTypedQuery;
var featuredProductsQuery = (0, _client.gql)(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    ", "\n    query FeaturedProductsQuery($channel: String!) {\n        ...FeaturedProducts\n    }\n"])), _fragments.featuredProductsFragment);
exports.featuredProductsQuery = featuredProductsQuery;
var shopAttributesQuery = (0, _client.gql)(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n    ", "\n    query ShopAttributesQuery($channel: String!, $collectionId: ID, $categoryId: ID) {\n        attributes(\n            channel: $channel\n            filter: {\n                inCollection: $collectionId\n                inCategory: $categoryId\n                filterableInStorefront: true\n            }\n            first: 100\n        ) {\n            edges {\n                node {\n                    ...Attribute\n                }\n            }\n        }\n    }\n"])), _fragments.attributeFragment);
exports.shopAttributesQuery = shopAttributesQuery;
var shopMenusQuery = (0, _client.gql)(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["\n    ", "\n    query ShopMenusQuery($channel: String!, $footerSlug: String!, $mainMenuSlug: String!) {\n        footer: menu(channel: $channel, slug: $footerSlug) {\n            id\n            items {\n                ...MenuItem\n                children {\n                    ...MenuItem\n                }\n            }\n        }\n        mainMenu: menu(channel: $channel, slug: $mainMenuSlug) {\n            items {\n                ...MenuItem\n                children {\n                    ...MenuItem\n                    children {\n                        ...MenuItem\n                    }\n                }\n            }\n        }\n    }\n"])), _fragments.menuItemFragment);
exports.shopMenusQuery = shopMenusQuery;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.handleQueryLoadMore = void 0;

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var handleQueryLoadMore = function handleQueryLoadMore(query) {
  return function (fetchMore, variables) {
    return function (mergeFunc, endCursor) {
      return fetchMore({
        query: query,
        updateQuery: function updateQuery(previousResults, _ref) {
          var fetchMoreResult = _ref.fetchMoreResult;

          if (!fetchMoreResult) {
            return previousResults;
          }

          return mergeFunc(previousResults, fetchMoreResult);
        },
        variables: _objectSpread(_objectSpread({}, variables), {}, {
          endCursor: endCursor
        })
      });
    };
  };
};

exports.handleQueryLoadMore = handleQueryLoadMore;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _useNetworkStatus = require("./useNetworkStatus");

Object.keys(_useNetworkStatus).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _useNetworkStatus[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _useNetworkStatus[key];
    }
  });
});

var _useLocalStorage = require("./useLocalStorage");

Object.keys(_useLocalStorage).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _useLocalStorage[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _useLocalStorage[key];
    }
  });
});

var _useClickedOutside = require("./useClickedOutside");

Object.keys(_useClickedOutside).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _useClickedOutside[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _useClickedOutside[key];
    }
  });
});

var _useHandlerWhenClickedOutside = require("./useHandlerWhenClickedOutside");

Object.keys(_useHandlerWhenClickedOutside).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _useHandlerWhenClickedOutside[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _useHandlerWhenClickedOutside[key];
    }
  });
});

var _useDynamicRouteRedirect = require("./useDynamicRouteRedirect");

Object.keys(_useDynamicRouteRedirect).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _useDynamicRouteRedirect[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _useDynamicRouteRedirect[key];
    }
  });
});

var _useProductVariantsAttributes = require("./useProductVariantsAttributes");

Object.keys(_useProductVariantsAttributes).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _useProductVariantsAttributes[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _useProductVariantsAttributes[key];
    }
  });
});

var _useProductVariantsAttributesValuesSelection = require("./useProductVariantsAttributesValuesSelection");

Object.keys(_useProductVariantsAttributesValuesSelection).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _useProductVariantsAttributesValuesSelection[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _useProductVariantsAttributesValuesSelection[key];
    }
  });
});

var _useSelectableProductVariantsAttributeValues = require("./useSelectableProductVariantsAttributeValues");

Object.keys(_useSelectableProductVariantsAttributeValues).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _useSelectableProductVariantsAttributeValues[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _useSelectableProductVariantsAttributeValues[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _core = require("@mzawadie/core");

var React = _interopRequireWildcard(require("react"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

// @ts-nocheck
var useClickedOutside = function useClickedOutside() {
  var _React$useState = React.useState(false),
      _React$useState2 = (0, _slicedToArray2["default"])(_React$useState, 2),
      clickedOutside = _React$useState2[0],
      setClickedOutside = _React$useState2[1];

  var elementRef = React.useRef(null);

  var handleClickOutside = function handleClickOutside(e) {
    if ((0, _core.maybe)(function () {
      return elementRef.current && e.target;
    }, null)) {
      setClickedOutside(!elementRef.current.contains(e.target));
    }
  };

  var setElementRef = function setElementRef() {
    return elementRef;
  };

  React.useEffect(function () {
    document.addEventListener("mousedown", handleClickOutside);
    return function () {
      return document.removeEventListener("mousedown", handleClickOutside);
    };
  }, []);
  return {
    clickedOutside: clickedOutside,
    setElementRef: setElementRef
  };
};

var _default = useClickedOutside;
exports["default"] = _default;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useDynamicRouteRedirect = void 0;

var _core = require("@mzawadie/core");

var _router = require("next/router");

var _react = require("react");

// @ts-nocheck

/**
 * `DYNAMIC_REDIRECT_PATHS` are path which won't be generated at build time, thus with normal SPA
 * setup, after refresh user will be redirected to `index.html`. Match such redirect and redirect
 * user to proper path via client routing.
 */
var useDynamicRouteRedirect = function useDynamicRouteRedirect() {
  var _useRouter = (0, _router.useRouter)(),
      asPath = _useRouter.asPath,
      pathname = _useRouter.pathname,
      replace = _useRouter.replace;

  var shouldRedirect = (0, _react.useMemo)(function () {
    return _core.exportMode && pathname === _core.paths.home && _core.DYNAMIC_REDIRECT_PATHS.some(function (path) {
      return (0, _core.matchPath)(asPath, {
        path: path
      });
    });
  }, [asPath, pathname]);
  (0, _react.useEffect)(function () {
    if (shouldRedirect) {
      replace(asPath);
    }
  }, []);
  return shouldRedirect;
};

exports.useDynamicRouteRedirect = useDynamicRouteRedirect;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useHandlerWhenClickedOutside = void 0;

var _tsUtils = require("@next/utils/tsUtils");

var _react = _interopRequireDefault(require("react"));

var useHandlerWhenClickedOutside = function useHandlerWhenClickedOutside(callback) {
  var elementRef = _react["default"].useRef(null);

  var handleClickOutside = function handleClickOutside(e) {
    if ((0, _tsUtils.maybe)(function () {
      return elementRef.current && e.target;
    }, null)) {
      if (elementRef.current.contains(e.target)) {
        return;
      }

      callback();
    }
  };

  var setElementRef = function setElementRef() {
    return elementRef;
  };

  _react["default"].useEffect(function () {
    document.addEventListener("mousedown", handleClickOutside);
    return function () {
      return document.removeEventListener("mousedown", handleClickOutside);
    };
  }, []);

  return {
    setElementRef: setElementRef
  };
};

exports.useHandlerWhenClickedOutside = useHandlerWhenClickedOutside;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useLocalStorage = void 0;

var _react = require("react");

var useLocalStorage = function useLocalStorage(key, initialValue) {
  var _useState = (0, _react.useState)(function () {
    try {
      var item = window.localStorage.getItem(key);
      return item ? JSON.parse(item) : initialValue;
    } catch (error) {
      console.error(error);
      return initialValue;
    }
  }),
      storedValue = _useState[0],
      setStoredValue = _useState[1];

  var setValue = function setValue(value) {
    try {
      var valueToStore = value instanceof Function ? value(storedValue) : value;
      setStoredValue(valueToStore);
      window.localStorage.setItem(key, JSON.stringify(valueToStore));
    } catch (error) {
      console.error(error);
    }
  };

  return {
    storedValue: storedValue,
    setValue: setValue
  };
};

exports.useLocalStorage = useLocalStorage;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useNetworkStatus = void 0;

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _react = _interopRequireDefault(require("react"));

var useNetworkStatus = function useNetworkStatus(callBack) {
  var _React$useState = _react["default"].useState("onLine" in navigator ? navigator.onLine : true),
      _React$useState2 = (0, _slicedToArray2["default"])(_React$useState, 2),
      online = _React$useState2[0],
      setOnline = _React$useState2[1];

  var updateOnlineStatus = function updateOnlineStatus() {
    var status = navigator.onLine;

    if (callBack) {
      callBack(status);
    }

    setOnline(navigator.onLine);
  };

  _react["default"].useEffect(function () {
    addEventListener("offline", updateOnlineStatus);
    addEventListener("online", updateOnlineStatus);
    return function () {
      removeEventListener("offline", updateOnlineStatus);
      removeEventListener("online", updateOnlineStatus);
    };
  }, []);

  return {
    online: online
  };
};

exports.useNetworkStatus = useNetworkStatus;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useProductVariantsAttributes = void 0;

var _react = require("react");

var useProductVariantsAttributes = function useProductVariantsAttributes(productVariants) {
  var _useState = (0, _react.useState)({}),
      productVariantsAttributes = _useState[0],
      setProductVariantsAttributes = _useState[1];

  (0, _react.useEffect)(function () {
    var variantsAttributes = {};
    productVariants.forEach(function (productVariant) {
      productVariant.attributes.forEach(function (productVariantAttribute) {
        var productVariantAttributeId = productVariantAttribute.attribute.id;
        var variantsAttributeExists = variantsAttributes.hasOwnProperty(productVariantAttributeId);

        if (variantsAttributeExists) {
          var variantsAttributeValueExists = variantsAttributes[productVariantAttributeId].values.includes(productVariantAttribute.values[0]);

          if (!variantsAttributeValueExists) {
            variantsAttributes[productVariantAttributeId].values.push(productVariantAttribute.values[0]);
          }
        } else {
          variantsAttributes[productVariantAttributeId] = {
            attribute: productVariantAttribute.attribute,
            values: [productVariantAttribute.values[0]]
          };
        }
      });
    });
    setProductVariantsAttributes(variantsAttributes);
  }, [productVariants]);
  return productVariantsAttributes;
};

exports.useProductVariantsAttributes = useProductVariantsAttributes;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useProductVariantsAttributesValuesSelection = void 0;

var _react = require("react");

var useProductVariantsAttributesValuesSelection = function useProductVariantsAttributesValuesSelection(productVariantsAttributes) {
  var _useState = (0, _react.useState)({}),
      productVariantsAttributesSelectedValues = _useState[0],
      setProductVariantsAttributesSelectedValues = _useState[1];

  (0, _react.useEffect)(function () {
    var variableAttributesSelectedValue = {};
    Object.keys(productVariantsAttributes).forEach(function (productVariantsAttributeId) {
      variableAttributesSelectedValue[productVariantsAttributeId] = null;
    });
  }, []);

  var selectProductVariantsAttributesValue = function selectProductVariantsAttributesValue(selectedProductVariantsAttributeId, selectedProductVariantsAttributeValue) {
    setProductVariantsAttributesSelectedValues(function (prevVariantsAttributesSelectedValue) {
      var newVariantsAttributesSelectedValue = {};
      Object.keys(productVariantsAttributes).forEach(function (productVariantsAttributeId) {
        if (productVariantsAttributeId === selectedProductVariantsAttributeId) {
          var selectedValue = null;

          if (selectedProductVariantsAttributeValue) {
            selectedValue = productVariantsAttributes[productVariantsAttributeId].values.find(function (value) {
              return value.value === selectedProductVariantsAttributeValue;
            }) || null;
          }

          newVariantsAttributesSelectedValue[productVariantsAttributeId] = selectedValue;
        } else {
          newVariantsAttributesSelectedValue[productVariantsAttributeId] = prevVariantsAttributesSelectedValue[productVariantsAttributeId];
        }
      });
      return newVariantsAttributesSelectedValue;
    });
  };

  return [productVariantsAttributesSelectedValues, selectProductVariantsAttributesValue];
};

exports.useProductVariantsAttributesValuesSelection = useProductVariantsAttributesValuesSelection;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useSelectableProductVariantsAttributeValues = void 0;

var _react = require("react");

var _useProductVariantsAttributes = require("./useProductVariantsAttributes");

var useSelectableProductVariantsAttributeValues = function useSelectableProductVariantsAttributeValues(consideredProductVariantsAttributeId, productVariants, productVariantsAttributesSelectedValues) {
  var _useState = (0, _react.useState)([]),
      productPossibleVariants = _useState[0],
      setProductPossibleVariants = _useState[1];

  var productPossibleVariantsAttributes = (0, _useProductVariantsAttributes.useProductVariantsAttributes)(productPossibleVariants);
  (0, _react.useEffect)(function () {
    var possibleVariants = productVariants.filter(function (productVariant) {
      return Object.keys(productVariantsAttributesSelectedValues).every(function (selectedValueAttributeId) {
        if (selectedValueAttributeId === consideredProductVariantsAttributeId) {
          return true;
        }

        if (!productVariantsAttributesSelectedValues[selectedValueAttributeId]) {
          return true;
        }

        return productVariant.attributes.some(function (productVariantAttribute) {
          return productVariantAttribute.attribute.id === selectedValueAttributeId && productVariantAttribute.values[0] === productVariantsAttributesSelectedValues[selectedValueAttributeId];
        });
      });
    });
    setProductPossibleVariants(possibleVariants);
  }, [consideredProductVariantsAttributeId, productVariants, productVariantsAttributesSelectedValues]);
  return productPossibleVariantsAttributes;
};

exports.useSelectableProductVariantsAttributeValues = useSelectableProductVariantsAttributeValues;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Button = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _react = _interopRequireDefault(require("react"));

var S = _interopRequireWildcard(require("./styles"));

var _excluded = ["color", "btnRef", "children", "testingContext", "testingContextId", "fullWidth", "size"];

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

/**
 * The basic button
 */
var Button = function Button(_ref) {
  var _ref$color = _ref.color,
      color = _ref$color === void 0 ? "primary" : _ref$color,
      btnRef = _ref.btnRef,
      children = _ref.children,
      testingContext = _ref.testingContext,
      testingContextId = _ref.testingContextId,
      _ref$fullWidth = _ref.fullWidth,
      fullWidth = _ref$fullWidth === void 0 ? false : _ref$fullWidth,
      _ref$size = _ref.size,
      size = _ref$size === void 0 ? "md" : _ref$size,
      props = (0, _objectWithoutProperties2["default"])(_ref, _excluded);
  var ButtonWithTheme = color === "primary" ? S.Primary : S.Secondary;
  return __jsx(ButtonWithTheme, (0, _extends2["default"])({
    "data-test": testingContext,
    "data-test-id": testingContextId,
    color: color,
    fullWidth: fullWidth,
    size: size,
    ref: btnRef
  }, props), __jsx(S.Text, {
    size: size
  }, children));
};

exports.Button = Button;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Button = require("./Button");

Object.keys(_Button).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _Button[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _Button[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _index = require("./index");

var __jsx = _react2["default"].createElement;
(0, _react.storiesOf)("@mzawadie/prototype/atoms/Button", module).addParameters({
  component: _index.Button
}).add("Primary", function () {
  return __jsx(_index.Button, {
    fullWidth: false,
    testingContext: "testButton"
  }, "Primary Button");
}).add("Secondary", function () {
  return __jsx(_index.Button, {
    color: "secondary",
    fullWidth: false,
    testingContext: "testButton"
  }, "Secondary Button");
}).add("Size sm", function () {
  return __jsx(_index.Button, {
    size: "sm",
    fullWidth: false,
    testingContext: "testButton"
  }, "Small Button");
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Text = exports.Secondary = exports.Primary = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styles = require("@next/styles");

var _templateObject, _templateObject2, _templateObject3, _templateObject4;

var padding = {
  md: "0.9rem 3.7rem",
  sm: "0.1rem 2rem"
};

var fontSize = function fontSize(_fontSize, smallFontSize) {
  return {
    md: _fontSize,
    sm: smallFontSize
  };
};

var Primary = _styles.styled.button(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n  background-color: ", ";\n  padding: ", ";\n  border: none;\n  transition: 0.3s;\n  outline: none;\n  cursor: pointer;\n  color: ", ";\n  width: ", "\n\n  &:hover {\n    background-color: ", ";\n    color: ", ";\n  }\n\n  &:active {\n    background-color: ", ";\n    box-shadow: -3px 3px 14px 0px rgba(129, 67, 67, 0.2);\n  }\n\n  &:disabled {\n    background-color: ", ";\n\n    &,\n    &:hover {\n      cursor: default;\n    }\n  }\n\n  ", "\n"])), function (props) {
  return props.theme.button.colors[props.color].background;
}, function (props) {
  return padding[props.size];
}, function (props) {
  return props.theme.button.colors[props.color].color;
}, function (props) {
  return props.fullWidth ? "100%" : "auto";
}, function (props) {
  return props.theme.button.colors[props.color].hoverBackground;
}, function (props) {
  return props.theme.button.colors[props.color].hoverColor;
}, function (props) {
  return props.theme.button.colors[props.color].activeBackground;
}, function (props) {
  return props.theme.colors.disabled;
}, _styles.media.smallScreen(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n    padding:  0.9rem 1rem;\n    width: ", ";\n  "])), function (props) {
  return props.fullWidth ? "100%" : "88%";
}));

exports.Primary = Primary;
var Secondary = (0, _styles.styled)(Primary)(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["\n    box-shadow: inset 0px 0px 0px 3px ", ";\n    border-left: 1px solid ", ";\n    border-right: 1px solid ", ";\n"])), function (props) {
  return props.theme.button.colors.secondary.color;
}, function (props) {
  return props.theme.button.colors.secondary.color;
}, function (props) {
  return props.theme.button.colors.secondary.color;
});
exports.Secondary = Secondary;

var Text = _styles.styled.span(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2["default"])(["\n    display: inline-block;\n    font-size: ", ";\n    text-transform: uppercase;\n    font-weight: ", ";\n    line-height: ", ";\n"])), function (_ref) {
  var size = _ref.size,
      typography = _ref.theme.button.typography;
  return fontSize(typography.fontSize, typography.smallFontSize)[size];
}, function (props) {
  return props.theme.typography.boldFontWeight;
}, function (props) {
  return props.theme.typography.baseLineHeight;
});

exports.Text = Text;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ButtonLink = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _react = _interopRequireDefault(require("react"));

var S = _interopRequireWildcard(require("./styles"));

var _excluded = ["children", "color", "testingContext", "testingContextId", "size"];

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

var ButtonLink = function ButtonLink(_ref) {
  var children = _ref.children,
      _ref$color = _ref.color,
      color = _ref$color === void 0 ? "base" : _ref$color,
      testingContext = _ref.testingContext,
      testingContextId = _ref.testingContextId,
      _ref$size = _ref.size,
      size = _ref$size === void 0 ? "md" : _ref$size,
      props = (0, _objectWithoutProperties2["default"])(_ref, _excluded);
  return __jsx(S.ButtonLink, (0, _extends2["default"])({
    "data-test": testingContext,
    "data-test-id": testingContextId,
    color: color,
    size: size
  }, props), children);
};

exports.ButtonLink = ButtonLink;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ButtonLink = require("./ButtonLink");

Object.keys(_ButtonLink).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _ButtonLink[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _ButtonLink[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _index = require("./index");

var __jsx = _react2["default"].createElement;
var TEXT = "Text";
(0, _react.storiesOf)("@mzawadie/prototype/atoms/ButtonLink", module).addParameters({
  component: _index.ButtonLink
}).add("Base", function () {
  return __jsx(_index.ButtonLink, {
    testingContext: "test"
  }, TEXT);
}).add("Secondary", function () {
  return __jsx(_index.ButtonLink, {
    color: "secondary",
    testingContext: "test"
  }, TEXT);
}).add("Size sm", function () {
  return __jsx(_index.ButtonLink, {
    size: "sm",
    testingContext: "test"
  }, TEXT);
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ButtonLink = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styles = require("@next/styles");

var _templateObject;

var ButtonLink = _styles.styled.button(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    font-size: ", ";\n    font-weight: ", ";\n    color: ", ";\n    background: transparent;\n    outline: none;\n    border: none;\n    box-shadow: none;\n    transform: none;\n    text-decoration: none;\n    text-transform: uppercase;\n    padding: 0;\n    transition: color 0.3s ease;\n    &:hover {\n        color: ", ";\n    }\n"])), function (_ref) {
  var size = _ref.size,
      typography = _ref.theme.typography;
  return size === "md" ? typography.baseFontSize : typography.smallFontSize;
}, function (props) {
  return props.theme.typography.boldFontWeight;
}, function (_ref2) {
  var color = _ref2.color,
      link = _ref2.theme.link;
  return color === "secondary" ? link.secondary.color : link.base.color;
}, function (_ref3) {
  var color = _ref3.color,
      link = _ref3.theme.link;
  return color === "secondary" ? link.secondary.hoverColor : link.base.hoverColor;
});

exports.ButtonLink = ButtonLink;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Checkbox = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _react = _interopRequireDefault(require("react"));

var S = _interopRequireWildcard(require("./styles"));

var _excluded = ["name", "checked", "onChange", "children"];

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;
var ENTER_KEY = 13;
var SPACE_KEY = 32;

var Checkbox = function Checkbox(_ref) {
  var name = _ref.name,
      checked = _ref.checked,
      _ref$onChange = _ref.onChange,
      onChange = _ref$onChange === void 0 ? function () {
    return null;
  } : _ref$onChange,
      children = _ref.children,
      props = (0, _objectWithoutProperties2["default"])(_ref, _excluded);

  var ref = _react["default"].useRef(null);

  return __jsx(S.Checkbox, {
    ref: ref,
    onClick: function onClick(evt) {
      evt.preventDefault();
      onChange(evt);

      if (ref.current) {
        ref.current.blur();
      }
    }
  }, __jsx(S.Label, null, __jsx("input", (0, _extends2["default"])({}, props, {
    tabIndex: -1,
    type: "checkbox",
    name: name,
    checked: checked,
    readOnly: true
  })), __jsx("div", {
    ref: ref,
    tabIndex: 0,
    onKeyDown: function onKeyDown(evt) {
      if (evt.which === SPACE_KEY || evt.which === ENTER_KEY) {
        evt.preventDefault();
        onChange(evt);
      }
    }
  }, __jsx("span", null))), children);
};

exports.Checkbox = Checkbox;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Checkbox = require("./Checkbox");

Object.keys(_Checkbox).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _Checkbox[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _Checkbox[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _index = require("./index");

var __jsx = _react2["default"].createElement;
(0, _react.storiesOf)("@mzawadie/prototype/atoms/Checkbox", module).addParameters({
  component: _index.Checkbox
}).add("default", function () {
  return __jsx(_index.Checkbox, {
    name: "default-checkbox"
  }, "Checkbox with label");
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Label = exports.Checkbox = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styles = require("@next/styles");

var _templateObject, _templateObject2;

var Checkbox = _styles.styled.div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    width: 100%;\n    margin-bottom: 1.25rem;\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    cursor: pointer;\n    position: relative;\n    margin-left: -4px;\n"])));

exports.Checkbox = Checkbox;

var Label = _styles.styled.label(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n    display: flex;\n    cursor: pointer;\n    justify-content: flex-start;\n    align-items: center;\n    padding-right: 1.25rem;\n    input[type=\"checkbox\"] {\n        display: none;\n        position: relative;\n        right: -999em;\n    }\n    div {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        height: 26px;\n        width: 26px;\n\n        span {\n            border: 1px solid ", ";\n            width: 14px;\n            height: 14px;\n            display: inline-block;\n        }\n\n        ", ":hover & {\n            border-radius: 50%;\n            border: 1px solid;\n            border-color: ", ";\n            background-color: ", ";\n        }\n\n        :focus {\n            border-radius: 50%;\n            border: 1px solid;\n            outline: none;\n            border-color: ", ";\n            background-color: ", ";\n        }\n    }\n\n    input:checked + div {\n        span {\n            background-clip: content-box;\n            padding: 2px;\n            background-color: ", ";\n        }\n    }\n"])), function (props) {
  return props.theme.colors.secondary;
}, Checkbox, function (props) {
  return props.theme.colors.secondaryOverlay;
}, function (props) {
  return props.theme.colors.secondaryOverlay;
}, function (props) {
  return props.theme.colors.secondaryOverlayDark;
}, function (props) {
  return props.theme.colors.secondaryOverlayDark;
}, function (props) {
  return props.theme.colors.secondary;
});

exports.Label = Label;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Chip = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _react = _interopRequireDefault(require("react"));

var _Icon = require("../Icon");

var S = _interopRequireWildcard(require("./styles"));

var _excluded = ["color", "closeBtnRef", "children", "fullWidth", "size", "onClose"];

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

var Chip = function Chip(_ref) {
  var _ref$color = _ref.color,
      color = _ref$color === void 0 ? "primary" : _ref$color,
      closeBtnRef = _ref.closeBtnRef,
      children = _ref.children,
      _ref$fullWidth = _ref.fullWidth,
      fullWidth = _ref$fullWidth === void 0 ? false : _ref$fullWidth,
      _ref$size = _ref.size,
      size = _ref$size === void 0 ? "md" : _ref$size,
      _ref$onClose = _ref.onClose,
      onClose = _ref$onClose === void 0 ? function () {
    return null;
  } : _ref$onClose,
      props = (0, _objectWithoutProperties2["default"])(_ref, _excluded);
  var ChipWithTheme = color === "primary" ? S.Primary : S.Secondary;
  return __jsx(ChipWithTheme, (0, _extends2["default"])({
    color: color,
    fullWidth: fullWidth,
    size: size
  }, props), __jsx(S.Text, {
    size: size
  }, children), __jsx(S.CloseButton, {
    size: size,
    color: color,
    ref: closeBtnRef,
    onClick: onClose
  }, __jsx(_Icon.Icon, {
    name: "x_light",
    size: 16
  })));
};

exports.Chip = Chip;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Chip = require("./Chip");

Object.keys(_Chip).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _Chip[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _Chip[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _index = require("./index");

var __jsx = _react2["default"].createElement;
(0, _react.storiesOf)("@mzawadie/prototype/atoms/Chip", module).addParameters({
  component: _index.Chip
}).add("default", function () {
  return __jsx(_index.Chip, null, "Some thing");
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CloseButton = exports.Text = exports.Secondary = exports.Primary = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styles = require("@next/styles");

var _templateObject, _templateObject2, _templateObject3, _templateObject4;

var padding = {
  md: "0.4rem 0.4rem 0.4rem 0.8rem",
  sm: "0.1rem"
};
var paddingCloseButton = {
  md: "0.4rem 0.4rem 0.3rem 0.4rem",
  sm: "0.1rem"
};

var fontSize = function fontSize(_fontSize, smallFontSize) {
  return {
    md: _fontSize,
    sm: smallFontSize
  };
};

var Primary = _styles.styled.div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    background-color: ", ";\n    padding: ", ";\n    border: none;\n    transition: 0.3s;\n    outline: none;\n    border-radius: 2rem;\n    color: ", ";\n    width: ", "\n    display: inline-block;\n    cursor: default;\n"])), function (props) {
  return props.theme.chip.colors[props.color].background;
}, function (props) {
  return padding[props.size];
}, function (props) {
  return props.theme.chip.colors[props.color].color;
}, function (props) {
  return props.fullWidth ? "100%" : "auto";
});

exports.Primary = Primary;
var Secondary = (0, _styles.styled)(Primary)(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n    box-shadow: inset 0px 0px 0px 3px ", ";\n    border-left: 1px solid ", ";\n    border-right: 1px solid ", ";\n"])), function (props) {
  return props.theme.chip.colors.secondary.color;
}, function (props) {
  return props.theme.chip.colors.secondary.color;
}, function (props) {
  return props.theme.chip.colors.secondary.color;
});
exports.Secondary = Secondary;

var Text = _styles.styled.span(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["\n    display: inline-block;\n    font-size: ", ";\n    font-weight: ", ";\n    line-height: ", ";\n    margin-right: ", ";\n    vertical-align: middle;\n"])), function (_ref) {
  var size = _ref.size,
      typography = _ref.theme.chip.typography;
  return fontSize(typography.fontSize, typography.smallFontSize)[size];
}, function (props) {
  return props.theme.typography.boldFontWeight;
}, function (props) {
  return props.theme.typography.baseLineHeight;
}, function (props) {
  return paddingCloseButton[props.size];
});

exports.Text = Text;

var CloseButton = _styles.styled.button(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2["default"])(["\n    padding: ", ";\n    vertical-align: middle;\n    cursor: pointer;\n    border-radius: 1rem;\n\n    > svg > path {\n        fill: ", ";\n    }\n\n    &:hover {\n        background-color: ", ";\n        > svg > path {\n            fill: ", ";\n        }\n    }\n\n    &:active {\n        background-color: ", ";\n    }\n\n    &:disabled {\n        background-color: ", ";\n\n        &,\n        &:hover {\n            cursor: default;\n        }\n    }\n"])), function (props) {
  return paddingCloseButton[props.size];
}, function (props) {
  return props.theme.chip.colors[props.color].color;
}, function (props) {
  return props.theme.chip.colors[props.color].hoverBackground;
}, function (props) {
  return props.theme.chip.colors[props.color].hoverColor;
}, function (props) {
  return props.theme.chip.colors[props.color].activeBackground;
}, function (props) {
  return props.theme.colors.disabled;
});

exports.CloseButton = CloseButton;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.DemoBanner = void 0;

var _constants = require("@next/styles/constants");

var _react = _interopRequireDefault(require("react"));

var _reactIntl = require("react-intl");

var _reactResponsive = _interopRequireDefault(require("react-responsive"));

var _logoSmall = _interopRequireDefault(require("../../../../images/logo-small.svg"));

var S = _interopRequireWildcard(require("./styles"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

var DemoBanner = function DemoBanner() {
  return __jsx(S.Wrapper, null, __jsx(S.BorderedWrapper, null, __jsx("a", {
    target: "_blank",
    href: "https://saleor.io/"
  }, __jsx(S.LogoWrapper, {
    path: _logoSmall["default"]
  })), __jsx(S.LinkList, null, __jsx(_reactResponsive["default"], {
    maxWidth: _constants.mediumScreen
  }, __jsx(S.Link, {
    target: "_blank",
    href: "https://demo.saleor.io/graphql/"
  }, __jsx(S.TextEmphasis, null, __jsx(_reactIntl.FormattedMessage, {
    id: "next.prototype.atoms.DemoBanner.DemoBanner.2367386033",
    defaultMessage: "API"
  }))), __jsx(S.Divider, null), __jsx(S.Link, {
    target: "_blank",
    href: "https://demo.saleor.io/dashboard/"
  }, __jsx(S.TextEmphasis, null, __jsx(_reactIntl.FormattedMessage, {
    id: "next.prototype.atoms.DemoBanner.DemoBanner.3662390044",
    defaultMessage: "Dashboard"
  })))), __jsx(_reactResponsive["default"], {
    minWidth: _constants.mediumScreen
  }, __jsx(S.Link, {
    target: "_blank",
    href: "https://demo.saleor.io/dashboard/"
  }, __jsx(_reactIntl.FormattedMessage, {
    id: "next.prototype.atoms.DemoBanner.DemoBanner.2844777114",
    defaultMessage: "Explore <emphasis>Store\u2019s dashboard</emphasis>",
    values: {
      emphasis: function emphasis(children) {
        return __jsx(S.TextEmphasis, null, children);
      }
    }
  })), __jsx(S.Divider, null), __jsx(S.Link, {
    target: "_blank",
    href: "https://demo.saleor.io/graphql/"
  }, __jsx(_reactIntl.FormattedMessage, {
    id: "next.prototype.atoms.DemoBanner.DemoBanner.214739616",
    defaultMessage: "Play with <emphasis>GraphQL API</emphasis>",
    values: {
      emphasis: function emphasis(children) {
        return __jsx(S.TextEmphasis, null, children);
      }
    }
  }))))));
};

exports.DemoBanner = DemoBanner;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _DemoBanner = require("./DemoBanner");

Object.keys(_DemoBanner).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _DemoBanner[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _DemoBanner[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _index = require("./index");

var __jsx = _react2["default"].createElement;
(0, _react.storiesOf)("@mzawadie/prototype/atoms/DemoBanner", module).add("default", function () {
  return __jsx(_index.DemoBanner, null);
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Divider = exports.TextEmphasis = exports.Link = exports.LinkList = exports.LogoWrapper = exports.BorderedWrapper = exports.Wrapper = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styles = require("@next/styles");

var _reactSvg = require("react-svg");

var _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7;

var Wrapper = _styles.styled.section(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    width: 100%;\n    background-color: ", ";\n    padding: 0 1.3rem;\n    font-size: 12;\n"])), function (props) {
  return props.theme.colors.bannerBackground;
});

exports.Wrapper = Wrapper;

var BorderedWrapper = _styles.styled.div(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    max-height: ", ";\n    padding: 1.5em 0;\n    background-image: ", ";\n    background-position: bottom;\n    background-size: 12px 1px;\n    background-repeat: repeat-x;\n"])), function (props) {
  return props.theme.demoBanner.height;
}, function (props) {
  return "linear-gradient(\n        to right,\n        ".concat(props.theme.colors.bannerEdge, " 13%,\n        rgba(255, 255, 255, 0) 0%\n    );");
});

exports.BorderedWrapper = BorderedWrapper;
var LogoWrapper = (0, _styles.styled)(_reactSvg.ReactSVG)(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["\n    line-height: 0;\n"])));
exports.LogoWrapper = LogoWrapper;

var LinkList = _styles.styled.div(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2["default"])(["\n    display: flex;\n    align-items: center;\n"])));

exports.LinkList = LinkList;

var Link = _styles.styled.a(_templateObject5 || (_templateObject5 = (0, _taggedTemplateLiteral2["default"])(["\n    padding: 1rem;\n"])));

exports.Link = Link;

var TextEmphasis = _styles.styled.span(_templateObject6 || (_templateObject6 = (0, _taggedTemplateLiteral2["default"])(["\n    color: ", ";\n    text-transform: uppercase;\n    font-weight: 600;\n"])), function (props) {
  return props.theme.colors.bannerLink;
});

exports.TextEmphasis = TextEmphasis;

var Divider = _styles.styled.div(_templateObject7 || (_templateObject7 = (0, _taggedTemplateLiteral2["default"])(["\n    border-right: 1px solid ", ";\n    height: 2rem;\n"])), function (props) {
  return props.theme.colors.bannerEdge;
});

exports.Divider = Divider;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.DropdownMenu = void 0;

var _hooks = require("@next/hooks");

var _react = _interopRequireWildcard(require("react"));

var S = _interopRequireWildcard(require("./styles"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

var DropdownMenu = function DropdownMenu(_ref) {
  var header = _ref.header,
      items = _ref.items,
      type = _ref.type;

  var _useState = (0, _react.useState)(false),
      visible = _useState[0],
      setVisible = _useState[1];

  var _useHandlerWhenClicke = (0, _hooks.useHandlerWhenClickedOutside)(function () {
    setVisible(false);
  }),
      setElementRef = _useHandlerWhenClicke.setElementRef;

  return __jsx(S.Wrapper, {
    ref: setElementRef(),
    onMouseEnter: function onMouseEnter() {
      return type === "hoverable" && setVisible(true);
    },
    onMouseLeave: function onMouseLeave() {
      return type === "hoverable" && setVisible(false);
    },
    onClick: function onClick() {
      return type === "clickable" && setVisible(!visible);
    }
  }, header, visible && __jsx(S.Content, null, __jsx("ul", null, items.map(function (element, id) {
    return __jsx("li", {
      key: id,
      onClick: function onClick() {
        setVisible(false);
        element.onClick();
      },
      "data-test": element.testingContext
    }, element.content);
  }))));
};

exports.DropdownMenu = DropdownMenu;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _DropdownMenu = require("./DropdownMenu");

Object.keys(_DropdownMenu).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _DropdownMenu[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _DropdownMenu[key];
    }
  });
});

"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Content = exports.Wrapper = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styles = require("@next/styles");

var _templateObject, _templateObject2;

var Wrapper = _styles.styled.div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    position: relative;\n    display: inline-block;\n"])));

exports.Wrapper = Wrapper;

var Content = _styles.styled.div(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n    box-shadow: ", ";\n    background-color: ", ";\n\n    position: absolute;\n    left: auto;\n    right: 0;\n\n    ul {\n        margin: 0;\n        list-style-type: none;\n        padding: 1rem;\n        display: flex;\n        flex-direction: column;\n        font-style: normal;\n        font-weight: normal;\n\n        line-height: ", ";\n        align-items: flex-start;\n\n        li {\n            cursor: pointer;\n            padding-bottom: 1.25rem;\n            white-space: nowrap;\n        }\n\n        :last-child {\n            padding-bottom: 0;\n        }\n    }\n"])), function (props) {
  return props.theme.dropdown.boxShadow;
}, function (props) {
  return props.theme.dropdown.backgroundColor;
}, function (props) {
  return props.theme.typography.baseLineHeight;
});

exports.Content = Content;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.DropdownSelect = void 0;

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _hooks = require("@next/hooks");

var _react = _interopRequireDefault(require("react"));

var _reactIntl = require("react-intl");

var _reactSelect = require("react-select");

var _styledComponents = require("styled-components");

var _Icon = require("../Icon");

var _Label = require("../Label");

var _Select = require("../Select");

var S = _interopRequireWildcard(require("./styles"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var DropdownSelect = function DropdownSelect(_ref) {
  var options = _ref.options,
      name = _ref.name,
      value = _ref.value,
      _onChange = _ref.onChange;

  var _React$useState = _react["default"].useState(false),
      _React$useState2 = (0, _slicedToArray2["default"])(_React$useState, 2),
      menuIsOpen = _React$useState2[0],
      setMenuIsOpen = _React$useState2[1];

  var _useHandlerWhenClicke = (0, _hooks.useHandlerWhenClickedOutside)(function () {
    setMenuIsOpen(false);
  }),
      setElementRef = _useHandlerWhenClicke.setElementRef;

  var customComponents = {
    Control: function Control() {
      return __jsx(S.SortLine, {
        onClick: function onClick() {
          return setMenuIsOpen(!menuIsOpen);
        }
      }, __jsx(_Label.Label, null, __jsx(_reactIntl.FormattedMessage, {
        id: "next.prototype.atoms.DropdownSelect.DropdownSelect.3280510613",
        defaultMessage: "Sort by:"
      }), " "), __jsx(S.Value, null, (value === null || value === void 0 ? void 0 : value.label) || ""), __jsx(S.Indicator, {
        rotate: String(menuIsOpen)
      }, __jsx(_Icon.Icon, {
        name: "select_arrow",
        size: 10
      })));
    },
    IndicatorSeparator: function IndicatorSeparator() {
      return null;
    },
    IndicatorsContainer: function IndicatorsContainer() {
      return null;
    },
    Option: function Option(props) {
      var customTheme = _react["default"].useContext(_styledComponents.ThemeContext);

      return __jsx(_reactSelect.components.Option, _objectSpread({
        customTheme: customTheme
      }, props));
    }
  };
  return __jsx(S.Wrapper, {
    "data-test": "sortingDropdown",
    ref: setElementRef()
  }, __jsx(_Select.Select, {
    options: options,
    value: value,
    onChange: function onChange(value) {
      setMenuIsOpen(false);

      _onChange(value);
    },
    name: name,
    menuIsOpen: menuIsOpen,
    customComponents: customComponents
  }));
};

exports.DropdownSelect = DropdownSelect;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _DropdownSelect = require("./DropdownSelect");

Object.keys(_DropdownSelect).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _DropdownSelect[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _DropdownSelect[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _index = require("./index");

var __jsx = _react2["default"].createElement;
var options = [{
  label: "Alphabetically",
  value: {
    field: "NAME",
    direction: "ASC"
  }
}, {
  label: "Price - High to Low",
  value: {
    field: "PRICE",
    direction: "DESC"
  }
}, {
  label: "Price - Low to High",
  value: {
    field: "PRICE",
    direction: "ASC"
  }
}];

var Container = function Container() {
  var _React$useState = _react2["default"].useState(),
      _React$useState2 = (0, _slicedToArray2["default"])(_React$useState, 2),
      value = _React$useState2[0],
      setValue = _React$useState2[1];

  return __jsx(_index.DropdownSelect, {
    options: options,
    value: value,
    onChange: setValue
  });
};

(0, _react.storiesOf)("@mzawadie/prototype/atoms/DropdownSelect", module).addParameters({
  component: _index.DropdownSelect
}).add("default", function () {
  return __jsx(Container, null);
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Indicator = exports.Value = exports.SortLine = exports.Wrapper = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styles = require("@next/styles");

var _templateObject, _templateObject2, _templateObject3, _templateObject4;

var Wrapper = _styles.styled.div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    width: auto;\n    display: flex;\n    flex-direction: column;\n    font-size: ", ";\n"])), function (props) {
  return props.theme.typography.smallFontSize;
});

exports.Wrapper = Wrapper;

var SortLine = _styles.styled.div(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n    position: relative;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n    padding-bottom: 0.5rem;\n"])));

exports.SortLine = SortLine;

var Value = _styles.styled.div(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n"])));

exports.Value = Value;

var Indicator = _styles.styled.div(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2["default"])(["\n    right: 1rem;\n    transition-duration: 0.3s;\n    transform: ", ";\n"])), function (props) {
  return props.rotate === "true" ? "rotate(180deg)" : "rotate(0deg)";
});

exports.Indicator = Indicator;

"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ErrorMessage = void 0;

var _react = _interopRequireDefault(require("react"));

var S = _interopRequireWildcard(require("./styles"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

var ErrorMessage = function ErrorMessage(_ref) {
  var errors = _ref.errors;
  return errors && errors.length ? __jsx(S.ErrorMessage, {
    "data-test": "errorMessage"
  }, errors.map(function (error, index) {
    return __jsx(S.ErrorParagraph, {
      key: index,
      "data-test-id": index
    }, error.message);
  })) : null;
};

exports.ErrorMessage = ErrorMessage;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ErrorMessage = require("./ErrorMessage");

Object.keys(_ErrorMessage).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _ErrorMessage[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _ErrorMessage[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _index = require("./index");

var __jsx = _react2["default"].createElement;
var ERRORS = [{
  field: "Field",
  message: "Error Message"
}];
(0, _react.storiesOf)("@components/atoms/ErrorMessage", module).addParameters({
  component: _index.ErrorMessage
}).add("default", function () {
  return __jsx(_index.ErrorMessage, {
    errors: ERRORS
  });
}).add("with multiple errors", function () {
  return __jsx(_index.ErrorMessage, {
    errors: [].concat(ERRORS, ERRORS)
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ErrorParagraph = exports.ErrorMessage = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styles = require("@next/styles");

var _templateObject, _templateObject2;

var ErrorMessage = _styles.styled.div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    color: ", ";\n    font-size: ", ";\n"])), function (props) {
  return props.theme.colors.error;
}, function (props) {
  return props.theme.input.labelFontSize;
});

exports.ErrorMessage = ErrorMessage;

var ErrorParagraph = _styles.styled.p(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n    margin: 0;\n"])));

exports.ErrorParagraph = ErrorParagraph;
ErrorMessage.displayName = "S.ErrorMessage";
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.icons = void 0;
var icons = {
  arrow_back: [{
    d: "M4.965 17.333h25.684c0.353 0 0.689-0.14 0.939-0.39s0.393-0.59 0.393-0.943-0.143-0.693-0.393-0.943c-0.25-0.25-0.586-0.39-0.939-0.39h-25.691l6.613-5.653c0.266-0.23 0.433-0.557 0.463-0.91 0.027-0.35-0.087-0.7-0.316-0.97-0.23-0.267-0.556-0.433-0.909-0.463-0.35-0.027-0.699 0.087-0.969 0.317l-9.354 8c-0.27 0.23-0.436 0.557-0.463 0.91-0.027 0.35 0.087 0.7 0.313 0.97 0.076 0.088 0.162 0.165 0.257 0.23l9.247 7.917c0.27 0.23 0.616 0.343 0.969 0.317s0.679-0.193 0.909-0.463c0.23-0.27 0.343-0.617 0.316-0.97s-0.193-0.68-0.463-0.91l-6.606-5.653z",
    fill: "#7D7D7D"
  }],
  arrow_up: [{
    d: "M16.4951 8.31701L13.5055 11.6804L8.2503 7.00908L2.99512 11.6803L0.00547949 8.31701L8.2503 0.988281L16.4951 8.31701Z",
    fill: "#323232"
  }],
  cart: [{
    d: "M23 9h1.992c0.125 0 0.248 0.015 0.368 0.043 0.172 0.037 0.34 0.090 0.502 0.155 0.393 0.158 0.758 0.373 1.090 0.633 0.31 0.238 0.583 0.52 0.808 0.84 0.077 0.113 0.142 0.232 0.195 0.357 0.025 0.060 0.043 0.12 0.055 0.182l0.995 16.907c0 0.033 0.005 0.067 0.007 0.103 0.003 0.015 0.003 0.033 0.003 0.050-0.003 0.163-0.045 0.323-0.123 0.467-0.122 0.243-0.287 0.457-0.487 0.64-0.215 0.2-0.46 0.363-0.727 0.48-0.197 0.090-0.41 0.137-0.627 0.143h-22.035c-0.223-0.005-0.442-0.055-0.645-0.145-0.28-0.117-0.535-0.28-0.76-0.482-0.205-0.18-0.375-0.395-0.502-0.635-0.078-0.143-0.12-0.297-0.123-0.457 0-0.017 0-0.035 0.002-0.053 0.005-0.037 0.007-0.073 0.010-0.11l0.995-16.92c0.040-0.26 0.123-0.512 0.243-0.748 0.147-0.29 0.338-0.557 0.565-0.79 0.2-0.21 0.435-0.383 0.692-0.512 0.17-0.088 0.357-0.137 0.548-0.148h2.96c0 0.274 0 0.697 0 1.268-0.598 0.346-1 0.992-1 1.732 0 1.104 0.896 2 2 2s2-0.896 2-2c0-0.74-0.402-1.386-1-1.732v-1.268h10v1.268c-0.598 0.346-1 0.992-1 1.732 0 1.104 0.896 2 2 2s2-0.896 2-2c0-0.74-0.403-1.386-1-1.732 0-0.254 0-0.677 0-1.268zM23 7c0-0.602 0-1.602 0-3 0-2.593-1.132-4-3.449-4s-4.728 0-7.086 0c-2.358 0-3.465 1.576-3.465 4.128 0 0.62 0 1.578 0 2.872h-2.999c-1.945 0.042-3.759 2.014-4 4l-1 17c-0.233 2.027 2.009 4 4 4h22c2.046 0.037 4.221-2.006 4-4l-1-17c-0.25-2-2.945-4-5-4h-2zM11 7v-2.872c0-0.003 0-0.005 0-0.005 0-0.225 0.012-0.447 0.037-0.67 0.023-0.18 0.057-0.357 0.105-0.532 0.053-0.208 0.145-0.402 0.275-0.572 0.080-0.098 0.182-0.172 0.297-0.223 0.090-0.038 0.185-0.067 0.283-0.085 0.152-0.027 0.305-0.040 0.457-0.040 0.002 0 0.005 0 0.010 0h7.085c0.005 0 0.007 0 0.010 0 0.16 0 0.317 0.013 0.475 0.038 0.103 0.018 0.203 0.045 0.3 0.085 0.105 0.040 0.2 0.105 0.277 0.19 0.115 0.147 0.198 0.315 0.245 0.498 0.047 0.167 0.083 0.337 0.103 0.51 0.027 0.225 0.040 0.447 0.040 0.672 0 0.002 0 0.005 0 0.007v3h-10z",
    fill: "#323232"
  }],
  edit: [{
    d: "M15.001 9.478l-3.1 3.104c-1.142 1.144-2.291 2.287-3.426 3.444-0.268 0.274-0.47 0.64-0.548 1-0.411 1.889-0.809 3.777-1.207 5.666l-0.222 1.046c-0.104 0.51 0.033 1.020 0.378 1.366 0.268 0.268 0.64 0.418 1.031 0.418 0.111 0 0.222-0.013 0.333-0.033l1.149-0.242c1.827-0.386 3.661-0.778 5.488-1.157 0.424-0.092 0.783-0.281 1.090-0.588 5.13-5.143 10.259-10.28 15.388-15.411 0.378-0.379 0.587-0.83 0.64-1.386 0.006-0.091 0-0.183-0.020-0.268-0.033-0.131-0.059-0.268-0.091-0.399-0.072-0.333-0.15-0.712-0.307-1.078-0.959-2.196-2.552-3.764-4.731-4.647-0.437-0.176-0.9-0.235-1.305-0.288l-0.111-0.013c-0.587-0.072-1.122 0.124-1.586 0.595-2.937 2.954-5.893 5.915-8.843 8.869zM25.214 1.59c0.013 0 0.020 0 0.033 0l0.111 0.013c0.339 0.039 0.653 0.078 0.901 0.183 1.775 0.719 3.080 2 3.87 3.804 0.091 0.209 0.15 0.477 0.209 0.758 0.020 0.105 0.046 0.209 0.065 0.314-0.026 0.118-0.072 0.196-0.163 0.281-5.136 5.13-10.265 10.274-15.395 15.411-0.085 0.085-0.163 0.124-0.281 0.15-1.834 0.386-3.661 0.771-5.495 1.157l-0.966 0.203 0.183-0.856c0.398-1.882 0.796-3.771 1.201-5.653 0.013-0.059 0.065-0.15 0.124-0.216 1.136-1.15 2.271-2.294 3.413-3.431l3.1-3.104c2.956-2.961 5.913-5.921 8.862-8.888 0.124-0.105 0.183-0.124 0.228-0.124z M2.539 7.126h11.394c0.444 0 0.803-0.359 0.803-0.804s-0.359-0.804-0.803-0.804h-11.394c-1.403 0-2.539 1.144-2.539 2.542v21.398c0 1.405 1.142 2.542 2.539 2.542h21.36c1.403 0 2.539-1.144 2.539-2.542v-10.947c0-0.444-0.359-0.804-0.803-0.804s-0.803 0.359-0.803 0.804v10.947c0 0.516-0.424 0.941-0.94 0.941h-21.353c-0.516 0-0.94-0.425-0.94-0.941v-21.391c0-0.516 0.424-0.941 0.94-0.941z",
    fill: "#323232"
  }],
  expand: [{
    d: "M15.667 11.333c1.283 0 2.333-1.050 2.333-2.333s-1.050-2.333-2.333-2.333c-1.283 0-2.333 1.050-2.333 2.333s1.050 2.333 2.333 2.333zM15.667 13.667c-1.283 0-2.333 1.050-2.333 2.333s1.050 2.333 2.333 2.333c1.283 0 2.333-1.050 2.333-2.333s-1.050-2.333-2.333-2.333zM15.667 20.667c-1.283 0-2.333 1.050-2.333 2.333s1.050 2.333 2.333 2.333c1.283 0 2.333-1.050 2.333-2.333s-1.050-2.333-2.333-2.333z",
    fill: "#323232"
  }],
  filter: [{
    d: "M 14.25 18.679688 L 4.054688 2.261719 L 27.945312 2.261719 L 17.75 18.679688 L 17.75 24.902344 L 14.25 27.507812 Z M 12 19.324219 L 12 31.996094 L 20 26.039062 L 20 19.324219 L 31.996094 0.00390625 L 0.00390625 0.00390625 Z M 12 19.324219 ",
    fill: "#323232"
  }],
  hamburger: [{
    d: "M2 5h28c1.104 0 2 0.896 2 2s-0.896 2-2 2h-28c-1.104 0-2-0.896-2-2s0.896-2 2-2z",
    fill: "#323232"
  }, {
    d: "M2 14h28c1.104 0 2 0.896 2 2s-0.896 2-2 2h-28c-1.104 0-2-0.896-2-2s0.896-2 2-2z",
    fill: "#323232"
  }, {
    d: "M2 23h28c1.104 0 2 0.896 2 2s-0.896 2-2 2h-28c-1.104 0-2-0.896-2-2s0.896-2 2-2z",
    fill: "#323232"
  }],
  heart: [{
    d: "M2.05597 5.8182L7.15994 10.8023L12.2639 5.81819L12.2898 5.79614C12.8859 5.28839 13.2533 4.55408 13.2533 3.74089C13.2533 2.24945 12.0084 1 10.4222 1C9.70694 1 9.05975 1.25663 8.56419 1.67743C8.34581 1.86287 8.15742 2.07981 8.00622 2.32L7.15989 3.66441L6.31363 2.31995C6.1625 2.07984 5.97414 1.86295 5.75574 1.67752C5.26005 1.25667 4.61258 1 3.89728 1C2.31127 1 1.06665 2.24928 1.06665 3.74089C1.06665 4.55411 1.43403 5.28842 2.03009 5.79615L2.05597 5.8182ZM6.81034 11.8586L1.38164 6.55741C0.577115 5.8721 0.0666504 4.86575 0.0666504 3.74089C0.0666504 1.67482 1.78142 0 3.89728 0C4.85667 0 5.73192 0.345498 6.40295 0.915207C6.43274 0.940499 6.46212 0.96623 6.49109 0.992395C6.74933 1.22559 6.97476 1.49305 7.15994 1.78725C7.34515 1.49304 7.57057 1.22557 7.82878 0.992367C7.85775 0.9662 7.88713 0.940466 7.91692 0.915172C8.58782 0.345484 9.46281 0 10.4222 0C12.5381 0 14.2533 1.67482 14.2533 3.74089C14.2533 4.86575 13.7428 5.8721 12.9382 6.55741L7.50954 11.8586C7.41683 11.9491 7.29109 12 7.15994 12C7.02879 12 6.90305 11.9491 6.81034 11.8586Z",
    fill: "#323232"
  }],
  heart_filled: [{
    d: "M8.03947 1.68919C7.18808 0.94893 6.07756 0.5 4.86029 0.5C2.1757 0.5 0 2.67621 0 5.3608C0 6.82241 0.647676 8.13003 1.66845 9.0205L8.55637 15.9087C8.67401 16.0263 8.83354 16.0924 8.99994 16.0924C9.16635 16.0924 9.32588 16.0263 9.44352 15.9087L16.3314 9.0205C17.3523 8.13003 18 6.82241 18 5.3608C18 2.67621 15.8237 0.5 13.1391 0.5C11.9218 0.5 10.8116 0.948911 9.96039 1.68915C9.58577 2.01492 9.26131 2.39711 8.99994 2.8223C8.73863 2.39713 8.41414 2.01495 8.03947 1.68919Z",
    fill: "#323232"
  }],
  horizontal_line: [{
    d: "M0 13.818h32v4.364h-32v-4.364z",
    fill: "#323232"
  }],
  plus: [{
    d: "M18 14v-12c0-1.104-0.896-2-2-2s-2 0.896-2 2v12h-12c-1.104 0-2 0.896-2 2s0.896 2 2 2h12v12c0 1.104 0.896 2 2 2s2-0.896 2-2v-12h12c1.104 0 2-0.896 2-2s-0.896-2-2-2h-12z",
    fill: "#21125E"
  }],
  profile: [{
    d: "M29.643 26.969c0-2.906-3.326-6.953-7.349-7.969-0.998-0.3-1.822-1.53-1-2 2.012-1.047 3-5.817 3-9 0-5.108-3.909-8-7.857-8-3.95 0-8.143 2.891-8.143 8 0 3.336 1.016 7.997 2.955 9 0.758 0.437 0.113 1.727-1 2-3.954 1.010-7.894 5-7.894 7.969 0 0.726-0.356 3.023 0.644 4.031-0.031 0 2.996 1 13 1 10 0 13.003-0.999 13-1 1.004-0.996 0.644-3.305 0.644-4.031zM27.655 29.263c-0.545 0.103-1.093 0.187-1.645 0.252-1.285 0.155-2.575 0.265-3.867 0.333-2.045 0.107-4.095 0.157-6.143 0.153-2.045 0.005-4.087-0.045-6.127-0.153-1.295-0.065-2.585-0.175-3.87-0.33-0.555-0.065-1.107-0.15-1.655-0.253-0.015-0.085-0.025-0.172-0.032-0.257-0.015-0.17-0.022-0.34-0.020-0.512 0.003-0.298 0.013-0.595 0.032-0.893 0.015-0.203 0.025-0.405 0.027-0.61 0.003-0.203 0.032-0.405 0.093-0.6 0.085-0.287 0.2-0.565 0.345-0.828 0.178-0.33 0.38-0.645 0.607-0.942 0.26-0.34 0.54-0.663 0.84-0.965 0.645-0.65 1.365-1.22 2.147-1.695 0.383-0.235 0.78-0.44 1.19-0.62 0.377-0.165 0.768-0.3 1.165-0.405 0.758-0.19 1.438-0.603 1.955-1.185 0.248-0.275 0.45-0.585 0.603-0.923 0.175-0.385 0.27-0.803 0.277-1.225 0.008-0.46-0.105-0.915-0.325-1.32-0.245-0.44-0.607-0.802-1.050-1.042-0.057-0.030-0.11-0.070-0.152-0.12-0.133-0.145-0.248-0.305-0.345-0.475-0.148-0.257-0.277-0.522-0.385-0.797-0.135-0.337-0.252-0.678-0.352-1.025-0.227-0.795-0.395-1.602-0.502-2.42-0.113-0.8-0.168-1.605-0.17-2.41-0.002-0.468 0.045-0.933 0.143-1.388 0.088-0.405 0.217-0.8 0.39-1.178 0.325-0.702 0.795-1.333 1.377-1.843 0.582-0.513 1.258-0.913 1.988-1.18 0.717-0.268 1.48-0.405 2.247-0.407 0.745 0 1.485 0.135 2.18 0.403 0.693 0.26 1.325 0.65 1.867 1.15 0.555 0.515 0.998 1.14 1.298 1.835 0.165 0.383 0.29 0.782 0.372 1.192 0.093 0.465 0.138 0.94 0.138 1.413-0.005 0.783-0.060 1.565-0.168 2.34-0.107 0.818-0.275 1.627-0.502 2.42-0.1 0.352-0.22 0.697-0.355 1.040-0.113 0.28-0.243 0.552-0.395 0.815-0.1 0.177-0.223 0.345-0.36 0.497-0.050 0.055-0.108 0.1-0.173 0.135-0.425 0.23-0.78 0.573-1.027 0.985-0.24 0.412-0.365 0.885-0.358 1.362 0.010 0.447 0.12 0.887 0.323 1.287 0.157 0.32 0.363 0.615 0.605 0.878 0.505 0.557 1.155 0.963 1.875 1.175 0.407 0.103 0.803 0.237 1.183 0.41 0.385 0.173 0.755 0.375 1.11 0.605 0.715 0.465 1.365 1.022 1.93 1.663 0.267 0.297 0.513 0.615 0.737 0.95 0.2 0.297 0.377 0.612 0.533 0.937 0.127 0.272 0.23 0.555 0.305 0.845 0.055 0.213 0.085 0.433 0.085 0.653 0.005 0.21 0.013 0.417 0.030 0.625 0.020 0.292 0.030 0.592 0.033 0.892 0.002 0.17-0.005 0.34-0.020 0.51-0.008 0.083-0.018 0.163-0.030 0.245z",
    fill: "#323232"
  }],
  search: [{
    d: "M25.992 24.578l5.712 5.712c0.187 0.187 0.293 0.443 0.293 0.707s-0.105 0.517-0.293 0.705c-0.187 0.187-0.443 0.295-0.707 0.295s-0.52-0.107-0.707-0.295l-5.712-5.71c-2.607 2.279-6.019 3.66-9.75 3.66-8.183 0-14.827-6.643-14.827-14.826s6.644-14.827 14.827-14.827c8.183 0 14.826 6.644 14.826 14.827 0 3.732-1.382 7.144-3.661 9.751zM24.113 23.673c1.068-1.123 1.927-2.429 2.534-3.855 0.665-1.58 1.007-3.275 1.007-4.99 0-0.002 0-0.003 0-0.003 0-1.712-0.343-3.41-1.007-4.987-0.647-1.525-1.583-2.91-2.753-4.077-1.17-1.173-2.555-2.105-4.077-2.752-1.58-0.667-3.275-1.010-4.99-1.008-1.715-0.002-3.41 0.34-4.99 1.008-1.523 0.647-2.908 1.58-4.077 2.752-1.17 1.167-2.105 2.553-2.75 4.075-0.667 1.58-1.010 3.277-1.010 4.992 0 1.713 0.343 3.41 1.010 4.99 0.645 1.523 1.58 2.908 2.75 4.078s2.555 2.105 4.077 2.75c1.58 0.667 3.275 1.010 4.988 1.007h0.003c0 0 0 0 0.002 0 1.713 0.003 3.41-0.34 4.988-1.007 1.427-0.605 2.733-1.464 3.855-2.531 0.047-0.094 0.109-0.181 0.185-0.256s0.163-0.138 0.256-0.185z",
    fill: "#323232"
  }],
  select_arrow: [{
    d: "M16 29.856l-15.999-27.712h31.999l-15.999 27.712z",
    fill: "#21125E"
  }],
  select_x: [{
    d: "M16 12.8l-12.8-12.8-3.2 3.2 12.8 12.8-12.8 12.8 3.2 3.2 12.8-12.8 12.8 12.8 3.2-3.2-12.8-12.8 12.8-12.8-3.2-3.2-12.8 12.8z",
    fill: "#21125E"
  }],
  social_facebook: [{
    d: "M16 0c-8.822 0-16 7.178-16 16s7.178 16 16 16c8.822 0 16-7.178 16-16s-7.177-16-16-16zM19.979 16.563h-2.603c0 4.159 0 9.278 0 9.278h-3.857c0 0 0-5.070 0-9.278h-1.834v-3.279h1.834v-2.121c0-1.519 0.722-3.893 3.893-3.893l2.858 0.011v3.183c0 0-1.737 0-2.075 0s-0.818 0.169-0.818 0.893v1.927h2.939l-0.337 3.279z",
    fill: "#21125e"
  }],
  social_instagram: [{
    d: "M16 32c-8.836 0-16-7.163-16-16s7.164-16 16-16c8.836 0 16 7.163 16 16s-7.164 16-16 16zM22.609 5.451h-13.307c-2.124 0-3.852 1.728-3.852 3.852v13.307c0 2.124 1.728 3.852 3.852 3.852h13.307c2.124 0 3.852-1.728 3.852-3.852v-13.307c0-2.123-1.728-3.852-3.852-3.852zM10.512 7.335c-1.752 0-3.177 1.425-3.177 3.177v10.976c0 1.752 1.425 3.177 3.177 3.177h10.976c1.752 0 3.177-1.425 3.177-3.177v-10.976c0-1.752-1.425-3.177-3.177-3.177h-10.976zM16 21.705c-3.145 0-5.705-2.559-5.705-5.705s2.559-5.705 5.705-5.705c3.146 0 5.705 2.559 5.705 5.705s-2.559 5.705-5.705 5.705zM21.888 11.475c-0.745 0-1.35-0.606-1.35-1.35 0-0.273 0.081-0.526 0.22-0.737 0.065-0.1 0.143-0.19 0.232-0.269 0.239-0.213 0.554-0.344 0.899-0.344 0.568 0 1.055 0.352 1.253 0.85 0.062 0.155 0.096 0.323 0.096 0.5 0 0.744-0.605 1.35-1.35 1.35zM12.705 15.999c0-1.815 1.479-3.293 3.295-3.293s3.294 1.478 3.294 3.293c0 1.817-1.477 3.295-3.294 3.295s-3.295-1.478-3.295-3.295z",
    fill: "#21125e"
  }],
  social_twitter: [{
    d: "M16 0c-8.822 0-16 7.178-16 16s7.178 16 16 16c8.822 0 16-7.178 16-16s-7.177-16-16-16zM23.138 12.338c0.007 0.159 0.011 0.318 0.011 0.478 0 4.866-3.703 10.476-10.479 10.476-2.080 0-4.016-0.608-5.645-1.653 0.288 0.034 0.581 0.052 0.878 0.052 1.726 0 3.313-0.589 4.574-1.576-1.611-0.030-2.972-1.094-3.44-2.558 0.224 0.043 0.456 0.066 0.692 0.066 0.336 0 0.662-0.044 0.971-0.128-1.685-0.338-2.954-1.826-2.954-3.611 0-0.015 0-0.032 0.001-0.046 0.496 0.275 1.064 0.441 1.667 0.46-0.987-0.659-1.638-1.787-1.638-3.065 0-0.675 0.181-1.308 0.498-1.852 1.816 2.229 4.53 3.694 7.59 3.849-0.063-0.27-0.095-0.55-0.095-0.84 0-2.033 1.649-3.683 3.682-3.683 1.060 0 2.015 0.447 2.688 1.163 0.84-0.165 1.626-0.47 2.339-0.894-0.277 0.86-0.859 1.582-1.622 2.038 0.746-0.089 1.457-0.286 2.115-0.579-0.491 0.737-1.116 1.386-1.835 1.904z",
    fill: "#21125e"
  }],
  social_youtube: [{
    d: "M13.084 19.507c2.401-1.245 4.781-2.479 7.183-3.724-2.409-1.257-4.788-2.498-7.183-3.747 0 2.499 0 4.973 0 7.471z",
    fill: "#21125e"
  }, {
    d: "M16 0c-8.836 0-16 7.163-16 16s7.164 16 16 16 16-7.163 16-16c0-8.837-7.164-16-16-16zM26.902 21.341c-0.277 1.201-1.26 2.088-2.442 2.22-2.801 0.313-5.636 0.315-8.46 0.313-2.824 0.002-5.659 0-8.461-0.313-1.183-0.132-2.165-1.018-2.441-2.22-0.394-1.711-0.394-3.579-0.394-5.341s0.005-3.63 0.398-5.341c0.276-1.201 1.258-2.088 2.441-2.22 2.802-0.313 5.638-0.315 8.461-0.313 2.823-0.002 5.659 0 8.459 0.313 1.183 0.132 2.166 1.018 2.442 2.22 0.394 1.711 0.391 3.579 0.391 5.341s-0.001 3.63-0.395 5.341z",
    fill: "#21125e"
  }],
  subcategories: [{
    d: "M29.856 16l-27.713 16v-32l27.713 16z",
    fill: "#323232"
  }],
  tick: [{
    d: "M31.416 2.142l-19.195 29.858-11.638-12.414 2.889-2.709 8.164 8.708 16.448-25.586 3.331 2.142z",
    fill: "#13BEBB"
  }],
  trash: [{
    d: "M28.496 5.327h-6.236v-1.017c0-1.818-1.479-3.297-3.297-3.297h-5.928c-1.818 0-3.297 1.479-3.297 3.297v1.017h-6.236c-0.462 0-0.832 0.37-0.832 0.832s0.37 0.832 0.832 0.832h1.504v19.546c0 2.452 1.996 4.449 4.449 4.449h13.088c2.452 0 4.449-1.997 4.449-4.449v-19.546h1.504c0.462 0 0.832-0.37 0.832-0.832s-0.37-0.832-0.832-0.832zM11.403 4.311c0-0.9 0.733-1.633 1.633-1.633h5.928c0.9 0 1.633 0.733 1.633 1.633v1.017h-9.194v-1.017zM25.329 26.537c0 1.534-1.251 2.785-2.785 2.785h-13.088c-1.534 0-2.785-1.251-2.785-2.785v-19.546h18.665v19.546h-0.006z M16 26.341c0.462 0 0.832-0.37 0.832-0.832v-14.702c0-0.462-0.37-0.832-0.832-0.832s-0.832 0.37-0.832 0.832v14.696c0 0.462 0.37 0.838 0.832 0.838z M10.571 25.423c0.462 0 0.832-0.37 0.832-0.832v-12.872c0-0.462-0.37-0.832-0.832-0.832s-0.832 0.37-0.832 0.832v12.872c0 0.462 0.376 0.832 0.832 0.832z M21.428 25.423c0.462 0 0.832-0.37 0.832-0.832v-12.872c0-0.462-0.37-0.832-0.832-0.832s-0.832 0.37-0.832 0.832v12.872c0 0.462 0.37 0.832 0.832 0.832z",
    fill: "#323232"
  }],
  x: [{
    d: "M16 12.8l-12.8-12.8-3.2 3.2 12.8 12.8-12.8 12.8 3.2 3.2 12.8-12.8 12.8 12.8 3.2-3.2-12.8-12.8 12.8-12.8-3.2-3.2-12.8 12.8z",
    fill: "#c4c4c4"
  }],
  x_dark: [{
    d: "M16 12.8l-12.8-12.8-3.2 3.2 12.8 12.8-12.8 12.8 3.2 3.2 12.8-12.8 12.8 12.8 3.2-3.2-12.8-12.8 12.8-12.8-3.2-3.2-12.8 12.8z",
    fill: "#323232"
  }],
  x_light: [{
    d: "M16 12.8l-12.8-12.8-3.2 3.2 12.8 12.8-12.8 12.8 3.2 3.2 12.8-12.8 12.8 12.8 3.2-3.2-12.8-12.8 12.8-12.8-3.2-3.2-12.8 12.8z",
    fill: "#fff"
  }]
};
exports.icons = icons;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Icon = void 0;

var _react = _interopRequireDefault(require("react"));

var _definitions = require("./definitions");

var __jsx = _react["default"].createElement;

var getPathColor = function getPathColor(color, index) {
  if (typeof color === "string") {
    return color;
  }

  return color[index] ? color[index] : "inherit";
};

var Icon = function Icon(_ref) {
  var _ref$size = _ref.size,
      size = _ref$size === void 0 ? 32 : _ref$size,
      color = _ref.color,
      name = _ref.name;
  var icon = _definitions.icons[name];
  return __jsx("svg", {
    height: size,
    viewBox: "0 0 32 32",
    width: size
  }, icon && icon.map(function (path, index) {
    return __jsx("path", {
      d: path.d,
      fill: color ? getPathColor(color, index) : path.fill,
      key: index
    });
  }));
};

exports.Icon = Icon;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Icon = require("./Icon");

Object.keys(_Icon).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _Icon[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _Icon[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _index = require("./index");

var __jsx = _react2["default"].createElement;
(0, _react.storiesOf)("@components/atoms/Icon", module).addParameters({
  component: _index.Icon
}).add("sample icon", function () {
  return __jsx(_index.Icon, {
    name: "arrow_back"
  });
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.IconButton = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _react = _interopRequireDefault(require("react"));

var _Icon = require("../Icon");

var S = _interopRequireWildcard(require("./styles"));

var _excluded = ["name", "color", "size", "onClick", "testingContext", "testingContextId"];

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

var IconButton = function IconButton(_ref) {
  var name = _ref.name,
      color = _ref.color,
      _ref$size = _ref.size,
      size = _ref$size === void 0 ? 36 : _ref$size,
      onClick = _ref.onClick,
      testingContext = _ref.testingContext,
      testingContextId = _ref.testingContextId,
      props = (0, _objectWithoutProperties2["default"])(_ref, _excluded);
  return __jsx(S.Wrapper, (0, _extends2["default"])({
    "data-test": testingContext,
    "data-test-id": testingContextId,
    onClick: onClick
  }, props), __jsx(_Icon.Icon, {
    name: name,
    size: size,
    color: color
  }));
};

exports.IconButton = IconButton;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _IconButton = require("./IconButton");

Object.keys(_IconButton).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _IconButton[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _IconButton[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _index = require("./index");

var __jsx = _react2["default"].createElement;
(0, _react.storiesOf)("@components/atoms/IconButton", module).addParameters({
  component: _index.IconButton
}).add("edit icon button", function () {
  return __jsx(_index.IconButton, {
    testingContext: "test",
    name: "edit",
    size: 19
  });
}).add("trash icon button", function () {
  return __jsx(_index.IconButton, {
    testingContext: "test",
    name: "trash",
    size: 22
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Wrapper = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styles = require("@next/styles");

var _templateObject;

var Wrapper = _styles.styled.div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 0;\n    margin: 0;\n    cursor: pointer;\n\n    width: ", ";\n    height: ", ";\n    background-color: ", ";\n\n    border-radius: 50%;\n    border-width: 0;\n\n    transition: 0.3s;\n\n    svg {\n        display: block;\n        path {\n            transition: 0.3s;\n        }\n    }\n\n    :hover {\n        background-color: ", ";\n        svg {\n            path {\n                fill: ", ";\n            }\n        }\n    }\n"])), function (props) {
  return "".concat(props.theme.iconButton.size, "px");
}, function (props) {
  return "".concat(props.theme.iconButton.size, "px");
}, function (props) {
  return props.theme.iconButton.backgroundColor;
}, function (props) {
  return props.theme.iconButton.hoverBackgroundColor;
}, function (props) {
  return props.theme.iconButton.hoverForegroundColor;
});

exports.Wrapper = Wrapper;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ErrorMessage = require("./ErrorMessage");

Object.keys(_ErrorMessage).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _ErrorMessage[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _ErrorMessage[key];
    }
  });
});

var _Icon = require("./Icon");

Object.keys(_Icon).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _Icon[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _Icon[key];
    }
  });
});

var _IconButton = require("./IconButton");

Object.keys(_IconButton).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _IconButton[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _IconButton[key];
    }
  });
});

var _Loader = require("./Loader");

Object.keys(_Loader).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _Loader[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _Loader[key];
    }
  });
});

var _Message = require("./Message");

Object.keys(_Message).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _Message[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _Message[key];
    }
  });
});

var _NotificationTemplate = require("./NotificationTemplate");

Object.keys(_NotificationTemplate).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _NotificationTemplate[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _NotificationTemplate[key];
    }
  });
});

var _PlaceholderImage = require("./PlaceholderImage");

Object.keys(_PlaceholderImage).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _PlaceholderImage[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _PlaceholderImage[key];
    }
  });
});

var _Redirect = require("./Redirect/Redirect");

Object.keys(_Redirect).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _Redirect[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _Redirect[key];
    }
  });
});

var _OfflinePlaceholder = require("./OfflinePlaceholder");

Object.keys(_OfflinePlaceholder).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _OfflinePlaceholder[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _OfflinePlaceholder[key];
    }
  });
});

var _DemoBanner = require("./DemoBanner");

Object.keys(_DemoBanner).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _DemoBanner[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _DemoBanner[key];
    }
  });
});

var _RichTextEditorContent = require("./RichTextEditorContent");

Object.keys(_RichTextEditorContent).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _RichTextEditorContent[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _RichTextEditorContent[key];
    }
  });
});

var _Chip = require("./Chip");

Object.keys(_Chip).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _Chip[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _Chip[key];
    }
  });
});

var _DropdownMenu = require("./DropdownMenu");

Object.keys(_DropdownMenu).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _DropdownMenu[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _DropdownMenu[key];
    }
  });
});

var _DropdownSelect = require("./DropdownSelect");

Object.keys(_DropdownSelect).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _DropdownSelect[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _DropdownSelect[key];
    }
  });
});

var _Label = require("./Label");

Object.keys(_Label).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _Label[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _Label[key];
    }
  });
});

var _Select = require("./Select");

Object.keys(_Select).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _Select[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _Select[key];
    }
  });
});

var _Button = require("./Button");

Object.keys(_Button).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _Button[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _Button[key];
    }
  });
});

var _ButtonLink = require("./ButtonLink");

Object.keys(_ButtonLink).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _ButtonLink[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _ButtonLink[key];
    }
  });
});

var _Checkbox = require("./Checkbox");

Object.keys(_Checkbox).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _Checkbox[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _Checkbox[key];
    }
  });
});

var _Input = require("./Input");

Object.keys(_Input).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _Input[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _Input[key];
    }
  });
});

var _InputLabel = require("./InputLabel");

Object.keys(_InputLabel).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _InputLabel[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _InputLabel[key];
    }
  });
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Input = require("./Input");

Object.keys(_Input).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _Input[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _Input[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Input = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _styles = require("@next/utils/styles");

var _react = _interopRequireDefault(require("react"));

var _InputLabel = require("../InputLabel");

var S = _interopRequireWildcard(require("./styles"));

var _excluded = ["onBlur", "onFocus", "contentLeft", "contentRight", "error", "disabled", "placeholder", "label", "value", "onChange"];

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

var Input = function Input(_ref) {
  var onBlur = _ref.onBlur,
      onFocus = _ref.onFocus,
      _ref$contentLeft = _ref.contentLeft,
      contentLeft = _ref$contentLeft === void 0 ? null : _ref$contentLeft,
      _ref$contentRight = _ref.contentRight,
      contentRight = _ref$contentRight === void 0 ? null : _ref$contentRight,
      _ref$error = _ref.error,
      error = _ref$error === void 0 ? false : _ref$error,
      _ref$disabled = _ref.disabled,
      disabled = _ref$disabled === void 0 ? false : _ref$disabled,
      placeholder = _ref.placeholder,
      label = _ref.label,
      value = _ref.value,
      onChange = _ref.onChange,
      props = (0, _objectWithoutProperties2["default"])(_ref, _excluded);

  var elementRef = _react["default"].useRef(null);

  var _React$useState = _react["default"].useState(false),
      _React$useState2 = (0, _slicedToArray2["default"])(_React$useState, 2),
      active = _React$useState2[0],
      setActive = _React$useState2[1];

  var _React$useState3 = _react["default"].useState("transparent"),
      _React$useState4 = (0, _slicedToArray2["default"])(_React$useState3, 2),
      labelBackground = _React$useState4[0],
      setColor = _React$useState4[1];

  _react["default"].useEffect(function () {
    if (elementRef) {
      var color = (0, _styles.getBackgroundColor)(elementRef.current);
      setColor(color);
    }
  }, []);

  var handleFocus = _react["default"].useCallback(function (e) {
    setActive(true);

    if (onFocus) {
      onFocus(e);
    }
  }, [setActive, onFocus]);

  var handleBlur = _react["default"].useCallback(function (e) {
    setActive(false);

    if (onBlur) {
      onBlur(e);
    }
  }, [setActive, onBlur]);

  return __jsx(S.Wrapper, {
    active: active,
    error: error,
    disabled: disabled,
    ref: elementRef
  }, contentLeft && __jsx(S.Content, null, contentLeft), __jsx(S.InputWrapper, null, __jsx(S.Input, (0, _extends2["default"])({}, props, {
    value: value,
    onFocus: handleFocus,
    onBlur: handleBlur,
    disabled: disabled,
    onChange: onChange,
    labelBackground: labelBackground
  })), label && __jsx(_InputLabel.InputLabel, {
    labelBackground: labelBackground,
    active: active || !!value
  }, label)), contentRight && __jsx(S.Content, null, contentRight));
};

exports.Input = Input;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _index = require("./index");

var __jsx = _react2["default"].createElement;
(0, _react.storiesOf)("@mzawadie/prototype/atoms/Input", module).addParameters({
  component: _index.Input
}).add("default", function () {
  return __jsx(_index.Input, {
    value: "",
    label: "Empty"
  });
}).add("with value", function () {
  return __jsx(_index.Input, {
    label: "Text goes here",
    value: "Example text",
    contentRight: __jsx("div", null, "Content right")
  });
}).add("error", function () {
  return __jsx(_index.Input, {
    value: "Some text",
    label: "Text goes here",
    error: true
  });
}).add("disabled", function () {
  return __jsx(_index.Input, {
    value: "",
    label: "Text goes here",
    disabled: true
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Input = exports.InputWrapper = exports.Content = exports.Wrapper = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styles = require("@next/styles");

var _InputLabel = require("../InputLabel");

var _templateObject, _templateObject2, _templateObject3, _templateObject4;

var getEdgeColor = function getEdgeColor(_ref) {
  var active = _ref.active,
      error = _ref.error,
      disabled = _ref.disabled,
      theme = _ref.theme;
  var hovered = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

  if (disabled) {
    return theme.colors.disabled;
  }

  if (error) {
    return theme.colors.error;
  }

  if (hovered) {
    return theme.colors.secondary;
  }

  return active ? theme.colors.secondary : theme.colors.dark;
};

var Wrapper = _styles.styled.div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    display: flex;\n    border: 1px solid ", ";\n    color: ", ";\n    outline: ", ";\n    transition: all 0.3s ease;\n\n    &:hover {\n        color: ", ";\n        outline-width: ", "px;\n        outline-style: solid;\n        border-color: ", ";\n        outline-color: ", ";\n    }\n"])), function (props) {
  return getEdgeColor(props);
}, function (props) {
  return getEdgeColor(props);
}, function (props) {
  return props.active ? "1px solid ".concat(getEdgeColor(props), ";") : "none";
}, function (props) {
  return getEdgeColor(props, true);
}, function (props) {
  return props.disabled ? 0 : 1;
}, function (props) {
  return getEdgeColor(props, true);
}, function (props) {
  return getEdgeColor(props, true);
});

exports.Wrapper = Wrapper;

var Content = _styles.styled.span(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n    display: flex;\n    align-items: center;\n"])));

exports.Content = Content;

var InputWrapper = _styles.styled.div(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["\n    position: relative;\n    width: 100%;\n"])));

exports.InputWrapper = InputWrapper;

var Input = _styles.styled.input(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2["default"])(["\n    padding: 0.8rem 1rem;\n    margin: 0;\n    border: none;\n    width: 100%;\n    font-size: ", ";\n    outline: none;\n    background-color: transparent;\n    &:-webkit-autofill {\n        & + label {\n            ", ";\n        }\n    }\n"])), function (props) {
  return props.theme.typography.baseFontSize;
}, function (props) {
  return (0, _InputLabel.activeLabelStyles)(props.theme, props.labelBackground);
});

exports.Input = Input;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
var _exportNames = {
  activeLabelStyles: true
};
Object.defineProperty(exports, "activeLabelStyles", {
  enumerable: true,
  get: function get() {
    return _styles.activeLabelStyles;
  }
});

var _InputLabel = require("./InputLabel");

Object.keys(_InputLabel).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;
  if (key in exports && exports[key] === _InputLabel[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _InputLabel[key];
    }
  });
});

var _styles = require("./styles");
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.InputLabel = void 0;

var _react = _interopRequireDefault(require("react"));

var S = _interopRequireWildcard(require("./styles"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

var InputLabel = function InputLabel(_ref) {
  var children = _ref.children,
      active = _ref.active,
      labelBackground = _ref.labelBackground;
  return __jsx(S.Label, {
    active: active,
    labelBackground: labelBackground
  }, children);
};

exports.InputLabel = InputLabel;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _index = require("./index");

var __jsx = _react2["default"].createElement;
(0, _react.storiesOf)("@components/atoms/InputLabel", module).addParameters({
  component: _index.InputLabel
}).add("active false", function () {
  return __jsx(_index.InputLabel, {
    labelBackground: "#FFF",
    active: false
  }, "This is input");
}).add("active true", function () {
  return __jsx(_index.InputLabel, {
    labelBackground: "#FFF",
    active: true
  }, "This is input");
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Label = exports.activeLabelStyles = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styles = require("@next/styles");

var _templateObject;

var activeLabelStyles = function activeLabelStyles(theme, labelBackground) {
  return "\n  left: 0.5rem;\n  padding: 0 0.5rem;\n  background-color: ".concat(labelBackground, ";\n  font-size: ").concat(theme.input.labelFontSize, ";\n  top: 0;\n");
};

exports.activeLabelStyles = activeLabelStyles;

var labelStyles = function labelStyles(theme) {
  return "\n  left: 1rem;\n  padding: 0 0rem;\n  background-color: transparent;\n  font-size: ".concat(theme.typography.baseFontSize, ";\n  top: 50%;\n");
};

var Label = _styles.styled.label(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    position: absolute;\n    ", ";\n    transform: translateY(-50%);\n    transition: all 0.3s ease, color 0s;\n    pointer-events: none;\n"])), function (props) {
  return props.active ? activeLabelStyles(props.theme, props.labelBackground) : labelStyles(props.theme);
});

exports.Label = Label;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Label = require("./Label");

Object.keys(_Label).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _Label[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _Label[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Label = void 0;

var _react = _interopRequireDefault(require("react"));

var S = _interopRequireWildcard(require("./styles"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

var Label = function Label(_ref) {
  var children = _ref.children;
  return __jsx(S.Wrapper, null, children);
};

exports.Label = Label;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _index = require("./index");

var __jsx = _react2["default"].createElement;
(0, _react.storiesOf)("@mzawadie/prototype/atoms/Label", module).addParameters({
  component: _index.Label
}).add("default", function () {
  return __jsx(_index.Label, null, "This is sample text inside label");
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Wrapper = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styles = require("@next/styles");

var _templateObject;

var Wrapper = _styles.styled.span(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    color: ", ";\n    display: inline-block;\n    white-space: pre;\n"])), function (props) {
  return props.theme.colors.lightFont;
});

exports.Wrapper = Wrapper;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Loader = require("./Loader");

Object.keys(_Loader).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _Loader[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _Loader[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Loader = void 0;

var _react = _interopRequireDefault(require("react"));

var S = _interopRequireWildcard(require("./styles"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

var Loader = function Loader(_ref) {
  var fullScreen = _ref.fullScreen;
  return __jsx(S.Wrapper, {
    fullScreen: !!fullScreen
  }, __jsx(S.Items, null, __jsx("span", null), __jsx("span", null), __jsx("span", null)));
};

exports.Loader = Loader;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _index = require("./index");

var __jsx = _react2["default"].createElement;
(0, _react.storiesOf)("@components/atoms/Loader", module).addParameters({
  component: _index.Loader
}).add("default", function () {
  return __jsx(_index.Loader, {
    fullScreen: false
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Items = exports.Wrapper = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styles = require("@next/styles");

var _styles2 = require("@next/utils/styles");

var _styledComponents = require("styled-components");

var _templateObject, _templateObject2;

var firstItem = (0, _styledComponents.keyframes)(["0%{left:0;}12.5%{left:2rem;}25%{left:4rem;}37.5%{left:2rem;}50%{left:0;}100%{left:0;}"]);
var secondItem = (0, _styledComponents.keyframes)(["0%{left:2rem;}12.5%{left:2rem;}25%{left:4rem;}37.5%{left:2rem;}62.5%{left:2rem;}75%{left:0;}87.5%{left:2rem;}100%{left:2rem;}"]);
var thirdItem = (0, _styledComponents.keyframes)(["0%{left:4rem;}50%{left:4rem;}62.5%{left:2rem;}75%{left:0;}87.5%{left:2rem;}100%{left:4rem;}"]);

var Wrapper = _styles.styled.div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    display: flex;\n    align-items: center;\n    width: 100%;\n    height: ", ";\n    padding: ", " 0;\n"])), function (props) {
  return props.fullScreen ? "".concat((0, _styles2.getContentWindowHeight)(), "px") : "100%";
}, function (props) {
  return props.theme.spacing.spacer;
});

exports.Wrapper = Wrapper;

var Items = _styles.styled.div(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n    position: relative;\n    width: 5rem;\n    height: 1rem;\n    margin: 0 auto;\n\n    span {\n        background-color: ", ";\n        width: 1rem;\n        height: 1rem;\n        border-radius: 1rem;\n        position: absolute;\n\n        &:nth-child(1) {\n            left: 0;\n            animation: ", " 2s infinite;\n            animation-timing-function: linear;\n        }\n\n        &:nth-child(2) {\n            left: 2rem;\n            animation: ", " 2s infinite;\n            animation-timing-function: linear;\n        }\n\n        &:nth-child(3) {\n            right: 0;\n            animation: ", " 2s infinite;\n            animation-timing-function: linear;\n        }\n    }\n"])), function (props) {
  return props.theme.colors.secondary;
}, firstItem, secondItem, thirdItem);

exports.Items = Items;

"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Message = require("./Message");

Object.keys(_Message).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _Message[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _Message[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Message = void 0;

var _react = _interopRequireDefault(require("react"));

var _Icon = require("../Icon");

var S = _interopRequireWildcard(require("./styles"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

var Message = function Message(_ref) {
  var title = _ref.title,
      _ref$status = _ref.status,
      status = _ref$status === void 0 ? "neutral" : _ref$status,
      children = _ref.children,
      onClick = _ref.onClick,
      actionText = _ref.actionText;
  var isAction = !!actionText;
  return __jsx(S.Wrapper, {
    status: status,
    "data-test": "alert"
  }, __jsx(S.TopWrapper, null, __jsx(S.Title, null, title), isAction ? !children && __jsx(S.ActionButton, {
    onClick: onClick
  }, actionText) : __jsx(S.CloseButton, {
    onClick: onClick
  }, __jsx(_Icon.Icon, {
    name: "x",
    size: 15
  }))), children && __jsx(S.Content, null, children), children && isAction && __jsx(S.ActionButton, {
    onClick: onClick,
    style: {
      marginTop: "1rem"
    }
  }, actionText));
};

exports.Message = Message;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _addonActions = require("@storybook/addon-actions");

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _index = require("./index");

var __jsx = _react2["default"].createElement;
var onClick = (0, _addonActions.action)("onClick called");
var lipsum = "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut rutrum arcu lectus, ac viverra sapien volutpat eu. Nam et eros nunc. Nunc rutrum erat eu massa facilisis faucibus. Mauris ultrices eleifend sollicitudin. Vestibulum eleifend cursus arcu, et vehicula turpis blandit a. Fusce vitae arcu bibendum, dapibus felis eu, dignissim orci.";
(0, _react.storiesOf)("@components/atoms/Message", module).addParameters({
  component: _index.Message
}).add("neutral snackbar", function () {
  return __jsx(_index.Message, {
    title: "Sample Message",
    onClick: onClick
  });
}).add("success w/ children", function () {
  return __jsx(_index.Message, {
    title: "Sample Message",
    status: "success",
    onClick: onClick
  }, lipsum);
}).add("error w/ children", function () {
  return __jsx(_index.Message, {
    title: "Sample Message",
    status: "error",
    onClick: onClick
  }, lipsum);
}).add("action snackbar", function () {
  return __jsx(_index.Message, {
    title: "Sample Message",
    status: "error",
    onClick: onClick,
    actionText: "Try again"
  });
}).add("action card", function () {
  return __jsx(_index.Message, {
    title: "Sample Message",
    status: "success",
    onClick: onClick,
    actionText: "Refresh"
  }, lipsum);
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ActionButton = exports.Content = exports.CloseButton = exports.Title = exports.TopWrapper = exports.Wrapper = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styles = require("@next/styles");

var _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6;

var borderColors = function borderColors(theme) {
  return {
    action: theme.colors.error,
    error: theme.colors.error,
    neutral: theme.colors.primaryDark,
    success: theme.colors.success
  };
};

var Wrapper = _styles.styled.div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    width: ", ";\n    padding: ", ";\n    background-color: ", ";\n    box-shadow: 0px 6px 15px 3px rgba(0, 0, 0, 0.25);\n    position: fixed;\n    bottom: ", ";\n    right: ", ";\n    border-left: 0.4rem solid;\n    border-color: ", ";\n"])), function (props) {
  return props.theme.message.width;
}, function (props) {
  return props.theme.message.padding;
}, function (props) {
  return props.theme.message.backgroundColor;
}, function (props) {
  return props.theme.spacing.spacer;
}, function (props) {
  return props.theme.spacing.spacer;
}, function (props) {
  return borderColors(props.theme)[props.status];
});

exports.Wrapper = Wrapper;

var TopWrapper = _styles.styled.div(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n    display: flex;\n    justify-content: space-between;\n"])));

exports.TopWrapper = TopWrapper;

var Title = _styles.styled.p(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["\n    text-transform: ", ";\n    font-weight: ", ";\n    letter-spacing: ", ";\n    margin: ", ";\n"])), function (props) {
  return props.theme.message.titleTransform;
}, function (props) {
  return props.theme.message.titleWeight;
}, function (props) {
  return props.theme.message.letterSpacing;
}, function (props) {
  return props.theme.message.titleMargin;
});

exports.Title = Title;

var CloseButton = _styles.styled.button(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2["default"])(["\n    cursor: pointer;\n\n    path {\n        transition: 0.3s;\n    }\n\n    &:hover {\n        path {\n            fill: ", ";\n        }\n    }\n"])), function (props) {
  return props.theme.colors.primary;
});

exports.CloseButton = CloseButton;

var Content = _styles.styled.div(_templateObject5 || (_templateObject5 = (0, _taggedTemplateLiteral2["default"])(["\n    margin: ", ";\n"])), function (props) {
  return props.theme.message.contentMargin;
});

exports.Content = Content;

var ActionButton = _styles.styled.button(_templateObject6 || (_templateObject6 = (0, _taggedTemplateLiteral2["default"])(["\n    color: ", ";\n    cursor: pointer;\n    font-size: ", ";\n    text-decoration: underline;\n"])), function (props) {
  return props.theme.colors.secondary;
}, function (props) {
  return props.theme.typography.baseFontSize;
});

exports.ActionButton = ActionButton;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _NotificationTemplate = require("./NotificationTemplate");

Object.keys(_NotificationTemplate).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _NotificationTemplate[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _NotificationTemplate[key];
    }
  });
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.NotificationTemplate = void 0;

var React = _interopRequireWildcard(require("react"));

var _Message = require("../Message");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

var NotificationTemplate = function NotificationTemplate(_ref) {
  var message = _ref.message,
      options = _ref.options,
      close = _ref.close;
  return __jsx(_Message.Message, {
    actionText: message.actionText,
    status: options.type,
    title: message.title,
    onClick: close
  }, message.content);
};

exports.NotificationTemplate = NotificationTemplate;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _addonActions = require("@storybook/addon-actions");

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _index = require("./index");

var __jsx = _react2["default"].createElement;
var onClick = (0, _addonActions.action)("onClick called");
(0, _react.storiesOf)("@mzawadie/prototypes/atoms/NotificationTemplate", module).addParameters({
  component: _index.NotificationTemplate
}).add("default", function () {
  return __jsx(_index.NotificationTemplate, {
    close: onClick,
    id: "test",
    message: {
      title: "test"
    },
    options: {
      type: "success"
    },
    style: {
      margin: 1
    }
  });
});

"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
var _exportNames = {};
Object.defineProperty(exports, "default", {
  enumerable: true,
  get: function get() {
    return _OfflinePlaceholder["default"];
  }
});

var _OfflinePlaceholder = _interopRequireWildcard(require("./OfflinePlaceholder"));

Object.keys(_OfflinePlaceholder).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;
  if (key in exports && exports[key] === _OfflinePlaceholder[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _OfflinePlaceholder[key];
    }
  });
});

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = exports.OfflinePlaceholder = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactIntl = require("react-intl");

var __jsx = _react["default"].createElement;

var OfflinePlaceholder = function OfflinePlaceholder() {
  return __jsx(_reactIntl.FormattedMessage, {
    id: "next.prototype.atoms.OfflinePlaceholder.OfflinePlaceholder.2175471916",
    defaultMessage: "OFFLINE :("
  });
};

exports.OfflinePlaceholder = OfflinePlaceholder;
OfflinePlaceholder.displayName = "OfflinePlaceholder";
var _default = OfflinePlaceholder;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _reactIntl = require("react-intl");

var _index = require("./index");

var __jsx = _react2["default"].createElement;
(0, _react.storiesOf)("@mzawadie/prototype/atoms/OfflinePlaceholder", module).addParameters({
  component: _index.OfflinePlaceholder
}).addDecorator(function (story) {
  return __jsx(_reactIntl.IntlProvider, {
    locale: "en"
  }, story());
}).add("default", function () {
  return __jsx(_index.OfflinePlaceholder, null);
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _PlaceholderImage = require("./PlaceholderImage");

Object.keys(_PlaceholderImage).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _PlaceholderImage[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _PlaceholderImage[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PlaceholderImage = void 0;

var _noPhoto = _interopRequireDefault(require("images/no-photo.svg"));

var _image = _interopRequireDefault(require("next/image"));

var _react = _interopRequireDefault(require("react"));

var __jsx = _react["default"].createElement;

var PlaceholderImage = function PlaceholderImage(_ref) {
  var _ref$alt = _ref.alt,
      alt = _ref$alt === void 0 ? "placeholder" : _ref$alt;
  return __jsx(_image["default"], {
    src: _noPhoto["default"],
    alt: alt
  });
};

exports.PlaceholderImage = PlaceholderImage;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _index = require("./index");

var __jsx = _react2["default"].createElement;
(0, _react.storiesOf)("@mzawadie/prototype/atoms/PlaceholderImage", module).addParameters({
  component: _index.PlaceholderImage
}).add("default", function () {
  return __jsx(_index.PlaceholderImage, null);
});

"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Redirect = require("./Redirect");

Object.keys(_Redirect).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _Redirect[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _Redirect[key];
    }
  });
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Redirect = void 0;

var _router = require("next/router");

var _react = _interopRequireWildcard(require("react"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

var Redirect = function Redirect(_ref) {
  var options = _ref.options,
      as = _ref.as,
      url = _ref.url;

  var _useRouter = (0, _router.useRouter)(),
      push = _useRouter.push;

  (0, _react.useEffect)(function () {
    push(url, as, options);
  }, []);
  return __jsx(_react["default"].Fragment, null);
};

exports.Redirect = Redirect;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.jsonData = void 0;
var jsonData = "{\n  \"time\": 1603898483525,\n  \"blocks\": [\n    { \"type\": \"header\", \"data\": { \"text\": \"Lorem ipsum&nbsp;\", \"level\": 1 } },\n    {\n      \"type\": \"paragraph\",\n      \"data\": {\n        \"text\": \"Dolor sit amet, consectetur adipiscing elit. <b>Sed iaculis urna et justo accumsan</b>, eget porta est egestas. Nunc odio libero, pharetra in tristique eget, pellentesque in lectus. Sed sed laoreet orci. Suspendisse dui nibh, iaculis ac dui posuere, placerat elementum dolor. In sit amet aliquet nibh. Maecenas sed felis sed lectus gravida vulputate et a mi. Sed a tristique neque, ut euismod arcu. <i>Donec quis aliquet massa.</i> Curabitur arcu purus, facilisis quis posuere sit amet, pharetra at erat.\"\n      }\n    },\n    {\n      \"type\": \"list\",\n      \"data\": {\n        \"style\": \"ordered\",\n        \"items\": [\n          \"Maecenas pretium aliquam odio, a iaculis diam dictum ut.\",\n          \"Vestibulum pulvinar, quam quis sollicitudin luctus, libero odio laoreet lectus, in tristique ligula dui et ex.<br>\",\n          \"Nam quis nibh sed elit fermentum interdum non eget quam.\"\n        ]\n      }\n    },\n    { \"type\": \"header\", \"data\": { \"text\": \"Morbi aliquam\", \"level\": 2 } },\n    {\n      \"type\": \"paragraph\",\n      \"data\": {\n        \"text\": \"Aliquam posuere nisi et ante malesuada egestas. Phasellus auctor risus a erat aliquam, tempus volutpat arcu rutrum. Duis bibendum id justo ut commodo. Suspendisse imperdiet tincidunt blandit.\"\n      }\n    },\n    { \"type\": \"header\", \"data\": { \"text\": \"Nam ipsum purus\", \"level\": 3 } },\n    {\n      \"type\": \"paragraph\",\n      \"data\": {\n        \"text\": \"Nam ipsum purus, feugiat ut dapibus at, porttitor eget leo. Phasellus sodales urna quis mi viverra, non mollis magna tristique. <s>Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.</s> Pellentesque viverra est sit amet nisi hendrerit, pharetra vehicula neque volutpat. Maecenas feugiat a nulla id blandit. Sed sagittis tempus libero non dignissim. In lectus felis, mattis vitae lacinia nec, volutpat eu elit. Proin ultricies lacus id felis placerat mollis. Integer ultricies eros nec mauris interdum, sit amet sodales ipsum elementum. Vivamus quis dapibus turpis, eu dignissim quam.\"\n      }\n    },\n    {\n      \"type\": \"quote\",\n      \"data\": {\n        \"text\": \"Nam facilisis augue vel urna tristique rutrum id et tortor.\",\n        \"caption\": \"Morbi erat mi\",\n        \"alignment\": \"left\"\n      }\n    },\n    {\n      \"type\": \"header\",\n      \"data\": { \"text\": \"Tempor ac posuere nec\", \"level\": 3 }\n    },\n    {\n      \"type\": \"paragraph\",\n      \"data\": {\n        \"text\": \"Rhoncus ac lectus. Etiam viverra nisl feugiat tempus eleifend. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae.\"\n      }\n    },\n    {\n      \"type\": \"list\",\n      \"data\": {\n        \"style\": \"unordered\",\n        \"items\": [\n          \"Phasellus nec ipsum non metus vestibulum semper\",\n          \"In tincidunt, dui vitae suscipit sodales, lacus justo porttitor nulla<br>\"\n        ]\n      }\n    }\n  ],\n  \"version\": \"2.19.0\"\n}";
exports.jsonData = jsonData;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _RichTextEditorContent = require("./RichTextEditorContent");

Object.keys(_RichTextEditorContent).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _RichTextEditorContent[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _RichTextEditorContent[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.RichTextEditorContent = void 0;

var _editorjsHtml = _interopRequireDefault(require("editorjs-html"));

var _react = _interopRequireWildcard(require("react"));

var S = _interopRequireWildcard(require("./styles"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

var RichTextEditorContent = function RichTextEditorContent(_ref) {
  var jsonData = _ref.jsonData;
  var editorHtml = (0, _react.useRef)((0, _editorjsHtml["default"])());
  var data = jsonData ? JSON.parse(jsonData) : [];
  return __jsx(S.Content, {
    dangerouslySetInnerHTML: {
      __html: editorHtml.current.parse(data).join("")
    }
  });
};

exports.RichTextEditorContent = RichTextEditorContent;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _RichTextEditorContent = require("./RichTextEditorContent");

var fixtures = _interopRequireWildcard(require("./fixtures"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react2["default"].createElement;
var props = {
  jsonData: fixtures.jsonData
};
(0, _react.storiesOf)("@mzawadie/prototype/atoms/RichTextEditorContent", module).addParameters({
  component: _RichTextEditorContent.RichTextEditorContent
}).add("default", function () {
  return __jsx(_RichTextEditorContent.RichTextEditorContent, props);
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Content = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styles = require("@next/styles");

var _templateObject;

var Content = _styles.styled.div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    .ce-block__content {\n        max-width: 100%;\n    }\n"])));

exports.Content = Content;

"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Select = require("./Select");

Object.keys(_Select).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _Select[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _Select[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Select = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _react = _interopRequireDefault(require("react"));

var _reactSelect = _interopRequireDefault(require("react-select"));

var _styledComponents = require("styled-components");

var _ErrorMessage = require("../ErrorMessage");

var S = _interopRequireWildcard(require("./styles"));

var _excluded = ["value", "onChange", "clearable", "clearValue", "name", "options", "isOptionDisabled", "customComponents", "defaultValue", "menuIsOpen", "customStyles", "optionLabelKey", "optionValueKey", "errors"];

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var optionStyle = function optionStyle(customTheme) {
  return {
    option: function option(provided, state) {
      return _objectSpread(_objectSpread({}, provided), {}, {
        alignItems: "center",
        backgroundColor: state.isSelected ? customTheme.colors.primaryLight : state.isFocused ? customTheme.colors.primaryTransparent : "white",
        color: state.isDisabled ? customTheme.colors.lightFont : customTheme.colors.dark,
        display: "flex",
        fontWeight: state.isSelected && customTheme.typography.boldFontWeight,
        margin: "0 auto",
        minHeight: "34px",
        verticalAlign: "middle",
        width: "95%"
      });
    }
  };
};

var Select = function Select(_ref) {
  var value = _ref.value,
      onChange = _ref.onChange,
      clearable = _ref.clearable,
      clearValue = _ref.clearValue,
      name = _ref.name,
      options = _ref.options,
      isOptionDisabled = _ref.isOptionDisabled,
      customComponents = _ref.customComponents,
      defaultValue = _ref.defaultValue,
      menuIsOpen = _ref.menuIsOpen,
      customStyles = _ref.customStyles,
      _ref$optionLabelKey = _ref.optionLabelKey,
      optionLabelKey = _ref$optionLabelKey === void 0 ? "label" : _ref$optionLabelKey,
      _ref$optionValueKey = _ref.optionValueKey,
      optionValueKey = _ref$optionValueKey === void 0 ? "value" : _ref$optionValueKey,
      errors = _ref.errors,
      props = (0, _objectWithoutProperties2["default"])(_ref, _excluded);

  var customTheme = _react["default"].useContext(_styledComponents.ThemeContext);

  var handleChange = function handleChange(value) {
    if (onChange) {
      if (name) onChange(value, name);else onChange(value);
    }
  };

  return __jsx(S.Wrapper, null, __jsx(_reactSelect["default"], (0, _extends2["default"])({
    defaultValue: defaultValue,
    onChange: handleChange,
    value: value,
    clearValue: clearValue,
    menuIsOpen: menuIsOpen,
    menuShouldScrollIntoView: true,
    tabSelectsValue: false,
    getOptionLabel: function getOptionLabel(option) {
      return option[optionLabelKey];
    },
    getOptionValue: function getOptionValue(option) {
      return option[optionValueKey];
    },
    openMenuOnFocus: true,
    styles: _objectSpread(_objectSpread({}, optionStyle(customTheme)), customStyles),
    options: options,
    isOptionDisabled: isOptionDisabled,
    placeholder: "",
    components: customComponents,
    isClearable: clearable,
    classNamePrefix: "select-".concat(name)
  }, props)), __jsx(S.ErrorMessages, null, __jsx(_ErrorMessage.ErrorMessage, {
    errors: errors
  })));
};

exports.Select = Select;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _index = require("./index");

var __jsx = _react2["default"].createElement;
var DEFAULT_PROPS = {
  name: "country",
  optionLabelKey: "country",
  optionValueKey: "code",
  options: [{
    code: "PL",
    country: "Poland"
  }, {
    code: "PT",
    country: "Portugal"
  }, {
    code: "US",
    country: "United States of America"
  }, {
    code: "DE",
    country: "Germany"
  }, {
    code: "BE",
    country: "Belarus"
  }, {
    code: "SE",
    country: "Sweden"
  }, {
    code: "FR",
    country: "France"
  }, {
    code: "CZ",
    country: "Czech Republic"
  }, {
    code: "FI",
    country: "Finland"
  }, {
    code: "GB",
    country: "Great Britain"
  }]
};

var Container = function Container() {
  var _React$useState = _react2["default"].useState(),
      _React$useState2 = (0, _slicedToArray2["default"])(_React$useState, 2),
      value = _React$useState2[0],
      setValue = _React$useState2[1];

  return __jsx(_index.Select, (0, _extends2["default"])({
    value: value,
    onChange: function onChange(value) {
      return setValue(value);
    }
  }, DEFAULT_PROPS));
};

(0, _react.storiesOf)("@mzawadie/prototype/atoms/Select", module).addParameters({
  component: _index.Select
}).add("sample select", function () {
  return __jsx(Container, null);
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ErrorMessages = exports.HelpText = exports.Indicator = exports.Wrapper = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styles = require("@next/styles");

var _templateObject, _templateObject2, _templateObject3, _templateObject4;

var Wrapper = _styles.styled.div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    margin-bottom: ", ";\n"])), function (props) {
  return props.theme.spacing.fieldSpacer;
});

exports.Wrapper = Wrapper;

var Indicator = _styles.styled.div(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n    position: absolute;\n    right: 1rem;\n    transition-duration: 0.3s;\n    transform: ", ";\n"])), function (props) {
  return props.rotate === "true" ? "rotate(180deg)" : "rotate(0deg)";
});

exports.Indicator = Indicator;

var HelpText = _styles.styled.span(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["\n    color: ", ";\n    font-size: ", ";\n"])), function (props) {
  return props.theme.input.labelColor;
}, function (props) {
  return props.theme.input.labelFontSize;
});

exports.HelpText = HelpText;

var ErrorMessages = _styles.styled.div(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2["default"])(["\n    top: 100%;\n"])));

exports.ErrorMessages = ErrorMessages;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Money = require("./Money");

Object.keys(_Money).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _Money[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _Money[key];
    }
  });
});

var _TaxedMoney = require("./TaxedMoney");

Object.keys(_TaxedMoney).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _TaxedMoney[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _TaxedMoney[key];
    }
  });
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Money = require("./Money");

Object.keys(_Money).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _Money[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _Money[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = exports.Money = void 0;

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _react = _interopRequireDefault(require("react"));

var _excluded = ["money", "defaultValue"];
var __jsx = _react["default"].createElement;

var Money = function Money(_ref) {
  var money = _ref.money,
      defaultValue = _ref.defaultValue,
      props = (0, _objectWithoutProperties2["default"])(_ref, _excluded);

  if (!money) {
    return __jsx("span", props, defaultValue);
  }

  return __jsx("span", props, money.currency && money.currency !== "" ? money.amount.toLocaleString(undefined, {
    currency: money.currency,
    style: "currency"
  }) : money.amount.toString());
};

exports.Money = Money;
Money.displayName = "Money";
var _default = Money;
exports["default"] = _default;

"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _TaxedMoney = require("./TaxedMoney");

Object.keys(_TaxedMoney).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _TaxedMoney[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _TaxedMoney[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = exports.TaxedMoney = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _context = require("@mzawadie/components/ShopProvider/context");

var _react = _interopRequireDefault(require("react"));

var _Money = require("../Money");

var _excluded = ["taxedMoney", "defaultValue"];
var __jsx = _react["default"].createElement;

var TaxedMoney = function TaxedMoney(_ref) {
  var taxedMoney = _ref.taxedMoney,
      defaultValue = _ref.defaultValue,
      props = (0, _objectWithoutProperties2["default"])(_ref, _excluded);

  var _React$useContext = _react["default"].useContext(_context.ShopContext),
      displayGrossPrices = _React$useContext.displayGrossPrices;

  var money = taxedMoney ? displayGrossPrices ? taxedMoney.gross : taxedMoney.net : undefined;
  return __jsx(_Money.Money, (0, _extends2["default"])({}, props, {
    money: money,
    defaultValue: defaultValue
  }));
};

exports.TaxedMoney = TaxedMoney;
TaxedMoney.displayName = "TaxedMoney";
var _default = TaxedMoney;
exports["default"] = _default;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = exports.AddToCartButton = void 0;

var _atoms = require("@mzawadie/prototype/atoms");

var _react = _interopRequireDefault(require("react"));

var _reactIntl = require("react-intl");

var __jsx = _react["default"].createElement;

var AddToCartButton = function AddToCartButton(_ref) {
  var onSubmit = _ref.onSubmit,
      disabled = _ref.disabled;
  return __jsx(_atoms.Button, {
    fullWidth: true,
    testingContext: "addProductToCartButton",
    onClick: onSubmit,
    color: "primary",
    disabled: disabled
  }, __jsx(_reactIntl.FormattedMessage, {
    id: "next.prototype.molecules.AddToCartButton.AddToCartButton.81047562",
    defaultMessage: "Add to basket"
  }));
};

exports.AddToCartButton = AddToCartButton;
AddToCartButton.displayName = "AddToCartButton";
var _default = AddToCartButton;
exports["default"] = _default;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
var _exportNames = {};
Object.defineProperty(exports, "default", {
  enumerable: true,
  get: function get() {
    return _AddToCartButton["default"];
  }
});

var _AddToCartButton = _interopRequireWildcard(require("./AddToCartButton"));

Object.keys(_AddToCartButton).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;
  if (key in exports && exports[key] === _AddToCartButton[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _AddToCartButton[key];
    }
  });
});

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _reactIntl = require("react-intl");

var _index = require("./index");

var __jsx = _react2["default"].createElement;
var DEFAULT_PROPS = {
  disabled: false,
  onSubmit: function onSubmit() {
    return undefined;
  }
};
(0, _react.storiesOf)("@components/molecules/AddToCartButton", module).addParameters({
  component: _index.AddToCartButton
}).addDecorator(function (story) {
  return __jsx(_reactIntl.IntlProvider, {
    locale: "en"
  }, "story()");
}).add("default", function () {
  return __jsx(_index.AddToCartButton, DEFAULT_PROPS);
}).add("disabled", function () {
  return __jsx(_index.AddToCartButton, (0, _extends2["default"])({}, DEFAULT_PROPS, {
    disabled: true
  }));
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AttributeValuesChecklist = void 0;

var _atoms = require("@mzawadie/prototype/atoms");

var _react = _interopRequireWildcard(require("react"));

var _reactIntl = require("react-intl");

var S = _interopRequireWildcard(require("./styles"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

var AttributeValuesChecklist = function AttributeValuesChecklist(_ref) {
  var title = _ref.title,
      name = _ref.name,
      values = _ref.values,
      _ref$valuesShowLimit = _ref.valuesShowLimit,
      valuesShowLimit = _ref$valuesShowLimit === void 0 ? false : _ref$valuesShowLimit,
      _ref$valuesShowLimitN = _ref.valuesShowLimitNumber,
      valuesShowLimitNumber = _ref$valuesShowLimitN === void 0 ? 5 : _ref$valuesShowLimitN,
      onValueClick = _ref.onValueClick;

  var _useState = (0, _react.useState)(!valuesShowLimit),
      viewAllOptions = _useState[0],
      setViewAllOptions = _useState[1];

  return __jsx(S.Wrapper, null, title && __jsx(S.Header, null, title), values && values.map(function (value, index) {
    return !viewAllOptions && index > valuesShowLimitNumber - 1 ? __jsx(_react.Fragment, {
      key: index
    }) : __jsx(_atoms.Checkbox, {
      key: index,
      name: name,
      checked: !!value.selected,
      onChange: function onChange() {
        return onValueClick(value);
      }
    }, value && value.name);
  }), !viewAllOptions && values.length > valuesShowLimitNumber && __jsx(S.ViewMoreButton, null, __jsx(_atoms.ButtonLink, {
    testingContext: "viewAllButton",
    size: "sm",
    color: "secondary",
    onClick: function onClick() {
      return setViewAllOptions(true);
    }
  }, __jsx(_reactIntl.FormattedMessage, {
    id: "next.prototype.molecules.AttributeValuesChecklist.AttributeValuesChecklist.2029012727",
    defaultMessage: "VIEW ALL OPTIONS"
  }))), __jsx(S.BottomBorder, null));
};

exports.AttributeValuesChecklist = AttributeValuesChecklist;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _AttributeValuesChecklist = require("./AttributeValuesChecklist");

Object.keys(_AttributeValuesChecklist).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _AttributeValuesChecklist[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _AttributeValuesChecklist[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styles = require("@next/styles");

var _addonActions = require("@storybook/addon-actions");

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _index = require("./index");

var _testData = require("./testData");

var _templateObject;

var __jsx = _react2["default"].createElement;

var Container = _styles.styled.div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    width: 350px;\n"])));

(0, _react.storiesOf)("@mzawadie/prototype/molecules/AttributeValuesChecklist", module).addParameters({
  component: _index.AttributeValuesChecklist
}).add("default", function () {
  return __jsx(Container, null, __jsx(_index.AttributeValuesChecklist, (0, _extends2["default"])({}, _testData.DEFAULT_PROPS, {
    onValueClick: (0, _addonActions.action)("click")
  })));
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ViewMoreButton = exports.BottomBorder = exports.Header = exports.Wrapper = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styles = require("@next/styles");

var _templateObject, _templateObject2, _templateObject3, _templateObject4;

var Wrapper = _styles.styled.div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    width: 80%;\n    padding-bottom: 2rem;\n"])));

exports.Wrapper = Wrapper;

var Header = _styles.styled.div(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n    font-size: ", ";\n    font-weight: ", ";\n    padding-bottom: 1.5rem;\n"])), function (props) {
  return props.theme.typography.h4FontSize;
}, function (props) {
  return props.theme.typography.boldFontWeight;
});

exports.Header = Header;

var BottomBorder = _styles.styled.div(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["\n    border-bottom: 1px solid ", ";\n    width: 95%;\n"])), function (props) {
  return props.theme.colors.divider;
});

exports.BottomBorder = BottomBorder;

var ViewMoreButton = _styles.styled.div(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2["default"])(["\n    padding-bottom: 1.25rem;\n"])));

exports.ViewMoreButton = ViewMoreButton;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.DEFAULT_PROPS = void 0;
var DEFAULT_PROPS = {
  name: "size",
  title: "Size",
  values: [{
    __typename: "AttributeValue",
    id: "2",
    name: "41",
    selected: true,
    slug: "41"
  }, {
    __typename: "AttributeValue",
    id: "3",
    name: "42",
    slug: "42"
  }, {
    __typename: "AttributeValue",
    id: "4",
    name: "43",
    slug: "43"
  }, {
    __typename: "AttributeValue",
    id: "5",
    name: "44",
    slug: "44"
  }, {
    __typename: "AttributeValue",
    id: "6",
    name: "45",
    slug: "45"
  }, {
    __typename: "AttributeValue",
    id: "7",
    name: "46",
    slug: "46"
  }],
  valuesShowLimit: true
};
exports.DEFAULT_PROPS = DEFAULT_PROPS;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CachedImage = void 0;

var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _atoms = require("@mzawadie/prototype/atoms");

var _hooks = require("@next/hooks");

var _noPhoto = _interopRequireDefault(require("images/no-photo.svg"));

var _image = _interopRequireDefault(require("next/image"));

var _react = _interopRequireDefault(require("react"));

var _excluded = ["url", "url2x", "alt", "children", "defaultImage"];
var __jsx = _react["default"].createElement;

var CachedImage = function CachedImage(_ref) {
  var url = _ref.url,
      url2x = _ref.url2x,
      alt = _ref.alt,
      children = _ref.children,
      _ref$defaultImage = _ref.defaultImage,
      defaultImage = _ref$defaultImage === void 0 ? _noPhoto["default"] : _ref$defaultImage,
      props = (0, _objectWithoutProperties2["default"])(_ref, _excluded);

  var _React$useState = _react["default"].useState(false),
      _React$useState2 = (0, _slicedToArray2["default"])(_React$useState, 2),
      isUnavailable = _React$useState2[0],
      setUnavailable = _React$useState2[1];

  var _useNetworkStatus = (0, _hooks.useNetworkStatus)(),
      online = _useNetworkStatus.online;

  _react["default"].useEffect(function () {
    updateAvailability();
  }, [online]);

  function updateAvailability() {
    return _updateAvailability.apply(this, arguments);
  }

  function _updateAvailability() {
    _updateAvailability = (0, _asyncToGenerator2["default"])( /*#__PURE__*/_regenerator["default"].mark(function _callee() {
      var _isUnavailable, match, match2x;

      return _regenerator["default"].wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _isUnavailable = false;

              if (!("caches" in window)) {
                _context.next = 11;
                break;
              }

              if (online) {
                _context.next = 11;
                break;
              }

              _context.next = 5;
              return window.caches.match(url);

            case 5:
              match = _context.sent;

              if (!url2x) {
                _context.next = 10;
                break;
              }

              _context.next = 9;
              return window.caches.match(url2x);

            case 9:
              match2x = _context.sent;

            case 10:
              if (!match && !match2x) {
                _isUnavailable = true;
              }

            case 11:
              if (isUnavailable !== _isUnavailable) {
                setUnavailable(_isUnavailable);
              }

            case 12:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }));
    return _updateAvailability.apply(this, arguments);
  }

  if (!url || isUnavailable) {
    return children || __jsx(_atoms.PlaceholderImage, {
      alt: alt
    });
  }

  return __jsx(_image["default"], (0, _extends2["default"])({}, props, {
    src: url,
    srcSet: url2x ? "".concat(url, " 1x, ").concat(url2x, " 2x") : "".concat(url, " 1x"),
    alt: alt // navigator.onLine is not always accurate
    ,
    onError: function onError() {
      return setUnavailable(true);
    }
  }));
};

exports.CachedImage = CachedImage;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _CachedImage = require("./CachedImage");

Object.keys(_CachedImage).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _CachedImage[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _CachedImage[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CardHeader = void 0;

var _atoms = require("@mzawadie/prototype/atoms");

var _react = _interopRequireDefault(require("react"));

var S = _interopRequireWildcard(require("./styles"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

var CardHeader = function CardHeader(_ref) {
  var children = _ref.children,
      prefix = _ref.prefix,
      closeIcon = _ref.closeIcon,
      _ref$divider = _ref.divider,
      divider = _ref$divider === void 0 ? false : _ref$divider,
      onHide = _ref.onHide,
      _ref$textStyle = _ref.textStyle,
      textStyle = _ref$textStyle === void 0 ? "title" : _ref$textStyle,
      _ref$titleSize = _ref.titleSize,
      titleSize = _ref$titleSize === void 0 ? "md" : _ref$titleSize;
  var defaultCloseIcon = !!onHide && !closeIcon;
  return __jsx(S.Wrapper, {
    divider: divider
  }, __jsx(S.Header, null, prefix, textStyle === "title" ? __jsx(S.Title, {
    size: titleSize
  }, children) : __jsx(S.Paragraph, null, children)), defaultCloseIcon && __jsx(_atoms.IconButton, {
    name: "x",
    size: 19,
    onClick: onHide,
    testingContext: "closeOverlayButton"
  }), closeIcon);
};

exports.CardHeader = CardHeader;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _CardHeader = require("./CardHeader");

Object.keys(_CardHeader).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _CardHeader[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _CardHeader[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _atoms = require("@mzawadie/prototype/atoms");

var _addonActions = require("@storybook/addon-actions");

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _index = require("./index");

var __jsx = _react2["default"].createElement;

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var children = "Some Title";
var DEFAULT_PROPS = {
  children: children,
  divider: false
};

var renderHeader = function renderHeader(props) {
  return __jsx(_index.CardHeader, props, children);
};

(0, _react.storiesOf)("@mzawadie/prototype/molecules/CardHeader", module).addParameters({
  component: _index.CardHeader
}).add("default", function () {
  return __jsx(_index.CardHeader, DEFAULT_PROPS);
}).add("with divider", function () {
  var PROPS = _objectSpread(_objectSpread({}, DEFAULT_PROPS), {}, {
    divider: true
  });

  return renderHeader(PROPS);
}).add("with close icon", function () {
  var PROPS = _objectSpread(_objectSpread({}, DEFAULT_PROPS), {}, {
    onHide: (0, _addonActions.action)("onHide")
  });

  return renderHeader(PROPS);
}).add("with custom close icon", function () {
  var icon = __jsx(_atoms.IconButton, {
    testingContext: "test",
    name: "edit",
    size: 24,
    onClick: (0, _addonActions.action)("edit")
  });

  var PROPS = _objectSpread(_objectSpread({}, DEFAULT_PROPS), {}, {
    closeIcon: icon
  });

  return renderHeader(PROPS);
}).add("with prefix", function () {
  var icon = __jsx(_atoms.IconButton, {
    testingContext: "test",
    name: "arrow_back",
    size: 24,
    onClick: (0, _addonActions.action)("onArrowBack")
  });

  var PROPS = _objectSpread(_objectSpread({}, DEFAULT_PROPS), {}, {
    prfix: icon
  });

  return renderHeader(PROPS);
}).add("with paragraph text style", function () {
  var textStyle = "paragraph";

  var PROPS = _objectSpread(_objectSpread({}, DEFAULT_PROPS), {}, {
    textStyle: textStyle
  });

  return renderHeader(PROPS);
}).add("with big text size", function () {
  var closeIcon = __jsx(_atoms.IconButton, {
    testingContext: "test",
    name: "trash",
    size: 30,
    onClick: (0, _addonActions.action)("trash")
  });

  var titleSize = "lg";

  var PROPS = _objectSpread(_objectSpread({}, DEFAULT_PROPS), {}, {
    closeIcon: closeIcon,
    divider: true,
    titleSize: titleSize
  });

  return renderHeader(PROPS);
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Paragraph = exports.Title = exports.Header = exports.Wrapper = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styles = require("@next/styles");

var _templateObject, _templateObject2, _templateObject3, _templateObject4;

var Wrapper = _styles.styled.div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: ", ";\n    ", "\n"])), function (props) {
  return "1.1rem ".concat(props.theme.spacing.gutter);
}, function (_ref) {
  var divider = _ref.divider,
      theme = _ref.theme;
  return divider && "border-bottom: 1px solid ".concat(theme.colors.light, ";");
});

exports.Wrapper = Wrapper;

var Header = _styles.styled.div(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n    display: flex;\n    align-items: center;\n    gap: ", ";\n"])), function (props) {
  return props.theme.spacing.gutter;
});

exports.Header = Header;

var Title = _styles.styled.h4(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["\n    font-size: ", ";\n    font-weight: ", ";\n    color: ", ";\n    text-transform: uppercase;\n    padding-right: 0.6rem;\n    margin: 0;\n"])), function (_ref2) {
  var size = _ref2.size,
      typography = _ref2.theme.typography;
  return size === "lg" ? typography.h4FontSize : typography.baseFontSize;
}, function (props) {
  return props.theme.typography.boldFontWeight;
}, function (props) {
  return props.theme.colors.baseFont;
});

exports.Title = Title;

var Paragraph = _styles.styled.p(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2["default"])(["\n    font-size: ", ";\n    color: ", ";\n    padding-right: 0.6rem;\n    margin: 0;\n"])), function (props) {
  return props.theme.typography.smallFontSize;
}, function (props) {
  return props.theme.colors.lightFont;
});

exports.Paragraph = Paragraph;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.FormFooter = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _atoms = require("@mzawadie/prototype/atoms");

var _react = _interopRequireDefault(require("react"));

var S = _interopRequireWildcard(require("./styles"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

var LoadingText = function LoadingText() {
  return __jsx(_react["default"].Fragment, null, "Loading");
};

var getBtnAction = function getBtnAction(btn) {
  return btn.action && {
    onClick: btn.action
  };
};

var renderCancelBtn = function renderCancelBtn(cancelBtn) {
  return cancelBtn && __jsx(_atoms.ButtonLink, (0, _extends2["default"])({}, getBtnAction(cancelBtn), {
    testingContext: "cancelButton",
    type: "button",
    color: "secondary"
  }), cancelBtn.text);
};

var renderSubmitBtn = function renderSubmitBtn(submitBtn, disabled, formId) {
  return submitBtn && __jsx(_atoms.Button, (0, _extends2["default"])({
    testingContext: submitBtn.testingContext
  }, getBtnAction(submitBtn), {
    type: formId ? "submit" : "button",
    form: formId,
    disabled: disabled,
    size: "sm"
  }), disabled ? __jsx(LoadingText, null) : submitBtn.text);
};

var FormFooter = function FormFooter(_ref) {
  var cancelBtn = _ref.cancelBtn,
      _ref$disabled = _ref.disabled,
      disabled = _ref$disabled === void 0 ? false : _ref$disabled,
      _ref$divider = _ref.divider,
      divider = _ref$divider === void 0 ? false : _ref$divider,
      formId = _ref.formId,
      submitBtn = _ref.submitBtn;
  return __jsx(S.Footer, {
    divider: divider
  }, renderCancelBtn(cancelBtn), renderSubmitBtn(submitBtn, disabled, formId));
};

exports.FormFooter = FormFooter;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _FormFooter = require("./FormFooter");

Object.keys(_FormFooter).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _FormFooter[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _FormFooter[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _addonActions = require("@storybook/addon-actions");

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _index = require("./index");

var __jsx = _react2["default"].createElement;

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var cancelBtn = {
  action: (0, _addonActions.action)("on cancel"),
  testingContext: "footerTestButton",
  text: "Cancel"
};
var DEFAULT_PROPS = {
  submitBtn: {
    action: (0, _addonActions.action)("on submit"),
    testingContext: "footerTestButton",
    text: "Save"
  }
};
(0, _react.storiesOf)("@mzawadie/prototype/molecules/FormFooter", module).addParameters({
  component: _index.FormFooter
}).add("with submit button", function () {
  return __jsx(_index.FormFooter, DEFAULT_PROPS);
}).add("with submit and cancel button", function () {
  var PROPS = _objectSpread(_objectSpread({}, DEFAULT_PROPS), {}, {
    cancelBtn: cancelBtn
  });

  return __jsx(_index.FormFooter, PROPS);
}).add("with top divider", function () {
  var PROPS = _objectSpread(_objectSpread({}, DEFAULT_PROPS), {}, {
    divider: true
  });

  return __jsx(_index.FormFooter, PROPS);
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Footer = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styles = require("@next/styles");

var _templateObject;

var Footer = _styles.styled.div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    position: relative;\n    text-align: right;\n    padding: ", ";\n    ", "\n    button {\n        &:last-child {\n            margin-left: 2rem;\n            margin-right: 0.7rem;\n        }\n    }\n"])), function (props) {
  return "1.1rem ".concat(props.theme.spacing.gutter);
}, function (_ref) {
  var divider = _ref.divider,
      theme = _ref.theme;
  return divider && "border-top: 1px solid ".concat(theme.colors.light, ";");
});

exports.Footer = Footer;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _CachedImage = require("./CachedImage");

Object.keys(_CachedImage).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _CachedImage[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _CachedImage[key];
    }
  });
});

var _Thumbnail = require("./Thumbnail");

Object.keys(_Thumbnail).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _Thumbnail[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _Thumbnail[key];
    }
  });
});

var _ProductListHeader = require("./ProductListHeader");

Object.keys(_ProductListHeader).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _ProductListHeader[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _ProductListHeader[key];
    }
  });
});

var _ProductTile = require("./ProductTile");

Object.keys(_ProductTile).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _ProductTile[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _ProductTile[key];
    }
  });
});

var _ProductDescription = require("./ProductDescription");

Object.keys(_ProductDescription).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _ProductDescription[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _ProductDescription[key];
    }
  });
});

var _AttributeValuesChecklist = require("./AttributeValuesChecklist");

Object.keys(_AttributeValuesChecklist).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _AttributeValuesChecklist[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _AttributeValuesChecklist[key];
    }
  });
});

var _CardHeader = require("./CardHeader");

Object.keys(_CardHeader).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _CardHeader[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _CardHeader[key];
    }
  });
});

var _FormFooter = require("./FormFooter");

Object.keys(_FormFooter).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _FormFooter[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _FormFooter[key];
    }
  });
});

var _OverlayItem = require("./OverlayItem");

Object.keys(_OverlayItem).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _OverlayItem[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _OverlayItem[key];
    }
  });
});

var _TextField = require("./TextField");

Object.keys(_TextField).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _TextField[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _TextField[key];
    }
  });
});

var _InputSelect = require("./InputSelect");

Object.keys(_InputSelect).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _InputSelect[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _InputSelect[key];
    }
  });
});

var _AddToCartButton = require("./AddToCartButton");

Object.keys(_AddToCartButton).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _AddToCartButton[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _AddToCartButton[key];
    }
  });
});

var _QuantityInput = require("./QuantityInput");

Object.keys(_QuantityInput).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _QuantityInput[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _QuantityInput[key];
    }
  });
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _InputSelect = require("./InputSelect");

Object.keys(_InputSelect).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _InputSelect[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _InputSelect[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.InputSelect = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _atoms = require("@mzawadie/prototype/atoms");

var _react = _interopRequireDefault(require("react"));

var _reactSelect = require("react-select");

var _styledComponents = require("styled-components");

var S = _interopRequireWildcard(require("./styles"));

var _excluded = ["label", "inputProps"];

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var InputSelect = function InputSelect(_ref) {
  var label = _ref.label,
      inputProps = _ref.inputProps,
      props = (0, _objectWithoutProperties2["default"])(_ref, _excluded);

  var customTheme = _react["default"].useContext(_styledComponents.ThemeContext);

  var secondaryColor = customTheme.colors.secondary;
  var borderColor = customTheme.input.border;
  var customStyles = {
    control: function control(provided, state) {
      return _objectSpread(_objectSpread({}, provided), {}, {
        ":hover": {
          border: "1px solid ".concat(secondaryColor),
          outlineColor: secondaryColor,
          outlineStyle: "solid",
          outlineWidth: "1px"
        },
        background: "none",
        border: state.menuIsOpen ? "1px solid ".concat(secondaryColor) : "1px solid ".concat(borderColor),
        borderRadius: 0,
        boxShadow: 0,
        boxSizing: "border-box",
        margin: 0,
        outline: state.menuIsOpen ? "1px solid ".concat(secondaryColor) : "",
        padding: "0.55rem 1rem"
      });
    },
    valueContainer: function valueContainer(provided) {
      return _objectSpread(_objectSpread({}, provided), {}, {
        padding: 0
      });
    }
  };
  var customComponents = {
    Control: function Control(props) {
      var customTheme = _react["default"].useContext(_styledComponents.ThemeContext);

      return __jsx(_react["default"].Fragment, null, __jsx(_reactSelect.components.Control, (0, _extends2["default"])({
        "data-test": "inputSelect"
      }, _objectSpread({
        customTheme: customTheme
      }, props))), __jsx(_atoms.InputLabel, {
        labelBackground: customTheme.colors.light,
        active: props.selectProps.menuIsOpen || props.hasValue
      }, label));
    },
    IndicatorSeparator: function IndicatorSeparator() {
      return null;
    },
    IndicatorsContainer: function IndicatorsContainer(_ref2) {
      var selectProps = _ref2.selectProps,
          hasValue = _ref2.hasValue,
          clearValue = _ref2.clearValue;
      var showClearIndicator = selectProps.isClearable || selectProps.isMulti && selectProps.isClearable === undefined;

      if (showClearIndicator && hasValue) {
        return __jsx(S.ClearIndicator, {
          onClick: clearValue
        }, __jsx(_atoms.Icon, {
          name: "select_x",
          size: 10
        }));
      } // Boolean to string conversion done due to
      // https://github.com/styled-components/styled-components/issues/1198


      return __jsx(S.DropdownIndicator, {
        rotate: String(selectProps.menuIsOpen)
      }, __jsx(_atoms.Icon, {
        name: "select_arrow",
        size: 10
      }));
    },
    Input: function Input(props) {
      return __jsx(_reactSelect.components.Input, _objectSpread(_objectSpread({}, props), inputProps));
    },
    Option: function Option(props) {
      var customTheme = _react["default"].useContext(_styledComponents.ThemeContext);

      return __jsx(_reactSelect.components.Option, _objectSpread({
        customTheme: customTheme
      }, props));
    }
  };
  return __jsx(_atoms.Select, (0, _extends2["default"])({
    customComponents: customComponents
  }, props, {
    customStyles: customStyles
  }));
};

exports.InputSelect = InputSelect;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styles = require("@next/styles");

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _index = require("./index");

var _templateObject;

var __jsx = _react2["default"].createElement;
var DEFAULT_PROPS = {
  label: "Country",
  name: "country",
  optionLabelKey: "country",
  optionValueKey: "code",
  options: [{
    code: "PL",
    country: "Poland"
  }, {
    code: "PT",
    country: "Portugal"
  }, {
    code: "US",
    country: "United States of America"
  }, {
    code: "DE",
    country: "Germany"
  }, {
    code: "BE",
    country: "Belarus"
  }, {
    code: "SE",
    country: "Sweden"
  }, {
    code: "FR",
    country: "France"
  }, {
    code: "CZ",
    country: "Czech Republic"
  }, {
    code: "FI",
    country: "Finland"
  }, {
    code: "GB",
    country: "Great Britain"
  }]
};

var Wrapper = _styles.styled.div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    max-height: 200px;\n"])));

var Container = function Container() {
  var _React$useState = _react2["default"].useState(),
      _React$useState2 = (0, _slicedToArray2["default"])(_React$useState, 2),
      value = _React$useState2[0],
      setValue = _React$useState2[1];

  return __jsx(_index.InputSelect, (0, _extends2["default"])({
    value: value,
    onChange: function onChange(value) {
      return setValue(value);
    }
  }, DEFAULT_PROPS));
};

(0, _react.storiesOf)("@mzawadie/prototype/molecules/InputSelect", module).addParameters({
  component: _index.InputSelect
}).add("default", function () {
  return __jsx(Wrapper, null, __jsx(Container, null));
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ClearIndicator = exports.DropdownIndicator = exports.Wrapper = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styles = require("@next/styles");

var _templateObject, _templateObject2, _templateObject3;

var Wrapper = _styles.styled.div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])([""])));

exports.Wrapper = Wrapper;

var DropdownIndicator = _styles.styled.div(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n    position: absolute;\n    right: 1rem;\n    transition-duration: 0.3s;\n    transform: ", ";\n"])), function (props) {
  return props.rotate === "true" ? "rotate(180deg)" : "rotate(0deg)";
});

exports.DropdownIndicator = DropdownIndicator;

var ClearIndicator = _styles.styled.div(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["\n    position: absolute;\n    right: 1rem;\n"])));

exports.ClearIndicator = ClearIndicator;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _OverlayItem = require("./OverlayItem");

Object.keys(_OverlayItem).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _OverlayItem[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _OverlayItem[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.OverlayItem = void 0;

var _atoms = require("@mzawadie/prototype/atoms");

var _react = _interopRequireDefault(require("react"));

var S = _interopRequireWildcard(require("./styles"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

var OverlayItem = function OverlayItem(_ref) {
  var children = _ref.children,
      selected = _ref.selected,
      testingContextId = _ref.testingContextId,
      disabled = _ref.disabled,
      onClick = _ref.onClick;
  return __jsx(S.Wrapper, {
    selected: !!selected,
    disabled: !!disabled,
    onClick: onClick,
    "data-test": "attributeOption",
    "data-test-id": testingContextId
  }, children, selected && __jsx(_atoms.Icon, {
    name: "tick",
    size: 16,
    "data-test": "chosenIcon"
  }));
};

exports.OverlayItem = OverlayItem;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _index = require("./index");

var __jsx = _react2["default"].createElement;
(0, _react.storiesOf)("@mzawadie/prototype/molecules/OverlayItem", module).addParameters({
  component: _index.OverlayItem
}).add("default", function () {
  return __jsx(_index.OverlayItem, null, "Item");
}).add("selected", function () {
  return __jsx(_index.OverlayItem, {
    selected: true
  }, "Item");
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Wrapper = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styles = require("@next/styles");

var _templateObject;

var Wrapper = _styles.styled.div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: ", ";\n    border-bottom: 1px solid ", ";\n    ", "\n    color: ", ";\n\n    ", "\n"])), function (props) {
  return "1.1rem ".concat(props.theme.spacing.gutter);
}, function (props) {
  return props.theme.colors.light;
}, function (_ref) {
  var selected = _ref.selected,
      theme = _ref.theme;
  return selected && "font-weight: ".concat(theme.typography.boldFontWeight, ";");
}, function (props) {
  return props.disabled ? props.theme.colors.disabled : "unset";
}, function (props) {
  return !props.disabled && "&:hover {\n    background-color: ".concat(props.theme.colors.primaryLight, ";\n    color: ").concat(props.theme.colors.primaryDark, ";\n    font-weight: ").concat(props.theme.typography.boldFontWeight, ";\n  }");
});

exports.Wrapper = Wrapper;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.descriptionJSON = exports.description = exports.attributes = void 0;
var attributes = [{
  attribute: {
    name: "Author"
  },
  values: [{
    name: "John Doe"
  }]
}, {
  attribute: {
    name: "Country of Manufacture"
  },
  values: [{
    name: "Poland"
  }, {
    name: "China"
  }]
}, {
  attribute: {
    name: "Size"
  },
  values: [{
    name: "40x40cm"
  }]
}, {
  attribute: {
    name: "Material"
  },
  values: [{
    name: "Polystyrene"
  }]
}, {
  attribute: {
    name: "Manufacture time"
  },
  values: [{
    name: "2 to 4 weeks"
  }]
}, {
  attribute: {
    name: "SKU"
  },
  values: [{
    name: "1244-SGG"
  }]
}];
exports.attributes = attributes;
var description = "Tonight, my love, let us take fat brushes and paint the skies with the shades of nebula tides. Get the dark, moody shades of the ether.";
exports.description = description;
var descriptionJSON = JSON.stringify({
  blocks: [{
    data: {
      text: description
    },
    type: "paragraph"
  }]
});
exports.descriptionJSON = descriptionJSON;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ProductDescription = require("./ProductDescription");

Object.keys(_ProductDescription).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _ProductDescription[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _ProductDescription[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ProductDescription = void 0;

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _atoms = require("@mzawadie/prototype/atoms");

var _react = _interopRequireDefault(require("react"));

var _reactIntl = require("react-intl");

var S = _interopRequireWildcard(require("./styles"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;
var TABS;

(function (TABS) {
  TABS["DESCRIPTION"] = "DESCRIPION";
  TABS["ATTRIBUTES"] = "ATTRIBUTES";
})(TABS || (TABS = {}));

var ProductDescription = function ProductDescription(_ref) {
  var description = _ref.description,
      attributes = _ref.attributes;

  var _React$useState = _react["default"].useState(TABS.DESCRIPTION),
      _React$useState2 = (0, _slicedToArray2["default"])(_React$useState, 2),
      activeTab = _React$useState2[0],
      setActiveTab = _React$useState2[1];

  return __jsx(S.Wrapper, null, __jsx(S.Tabs, null, __jsx(S.TabTitle, {
    active: activeTab === TABS.DESCRIPTION,
    onMouseEnter: function onMouseEnter(evt) {
      evt.stopPropagation();
      setActiveTab(TABS.DESCRIPTION);
    },
    onClick: function onClick(evt) {
      evt.stopPropagation();
      setActiveTab(TABS.DESCRIPTION);
    }
  }, __jsx(_reactIntl.FormattedMessage, {
    id: "next.prototype.molecules.ProductDescription.ProductDescription.2623707255",
    defaultMessage: "DESCRIPTION"
  })), __jsx(S.TabTitle, {
    active: activeTab === TABS.ATTRIBUTES,
    onMouseEnter: function onMouseEnter(evt) {
      evt.stopPropagation();
      setActiveTab(TABS.ATTRIBUTES);
    },
    onClick: function onClick(evt) {
      evt.stopPropagation();
      setActiveTab(TABS.ATTRIBUTES);
    }
  }, __jsx(_reactIntl.FormattedMessage, {
    id: "next.prototype.molecules.ProductDescription.ProductDescription.308156425",
    defaultMessage: "ATTRIBUTES"
  }))), __jsx("div", {
    hidden: activeTab !== TABS.DESCRIPTION
  }, __jsx(_atoms.RichTextEditorContent, {
    jsonData: description
  })), __jsx("div", {
    hidden: activeTab !== TABS.ATTRIBUTES
  }, __jsx(S.AttributeList, null, attributes && attributes.map(function (attribute, index) {
    return __jsx("li", {
      key: index
    }, __jsx(S.AttributeName, null, attribute.attribute.name, ": "), " ", attribute.values.map(function (value) {
      return value.name;
    }).join(", "));
  }))));
};

exports.ProductDescription = ProductDescription;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _fixtures = require("./fixtures");

var _index = require("./index");

var __jsx = _react2["default"].createElement;
(0, _react.storiesOf)("@mzawadie/prototype/molecules/ProductDescription", module).addParameters({
  component: _index.ProductDescription
}).add("default", function () {
  return __jsx(_index.ProductDescription, {
    attributes: _fixtures.attributes,
    description: _fixtures.descriptionJSON
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AttributeName = exports.TabTitle = exports.Tabs = exports.AttributeList = exports.Wrapper = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styles = require("@next/styles");

var _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7;

var Wrapper = _styles.styled.div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])([""])));

exports.Wrapper = Wrapper;

var AttributeList = _styles.styled.ul(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n    columns: 2;\n    column-width: 50%;\n\n    ", ";\n    width: 100%;\n    padding: 0;\n    margin: 0;\n\n    li {\n        margin-bottom: 30px;\n        font-size: ", ";\n    }\n\n    li::before {\n        content: \"\u2022\";\n        margin-right: 20px;\n        color: ", ";\n    }\n"])), _styles.media.largeScreen(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["\n    column-width: 100%;\n    columns: 1;\n  "]))), function (props) {
  return props.theme.typography.h4FontSize;
}, function (props) {
  return props.theme.colors.listBullet;
});

exports.AttributeList = AttributeList;

var Tabs = _styles.styled.div(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2["default"])(["\n    display: flex;\n    flex-wrap: none;\n    width: 100%;\n    border-bottom: 1px solid ", ";\n    margin-bottom: 70px;\n    overflow: hidden;\n"])), function (props) {
  return props.theme.colors.tabsBorder;
});

exports.Tabs = Tabs;

var TabTitle = _styles.styled.div(_templateObject5 || (_templateObject5 = (0, _taggedTemplateLiteral2["default"])(["\n    cursor: pointer;\n    min-width: 230px;\n    font-size: ", ";\n    font-weight: ", ";\n    letter-spacing: 0.02em;\n    color: ", ";\n    border-bottom-width: 4px;\n    border-bottom-style: solid;\n    border-bottom-color: ", ";\n    padding-bottom: 25px;\n    margin-right: 60px;\n\n    ", ";\n"])), function (props) {
  return props.theme.typography.h3FontSize;
}, function (props) {
  return props.theme.typography.boldFontWeight;
}, function (props) {
  return props.active && props.theme.colors.tabTitle;
}, function (props) {
  return props.active ? props.theme.colors.tabTitle : "transparent";
}, _styles.media.smallScreen(_templateObject6 || (_templateObject6 = (0, _taggedTemplateLiteral2["default"])(["\n    font-size: ", ";\n    min-width: 150px;\n    margin-right: 20px;\n  "])), function (props) {
  return props.theme.typography.h4FontSize;
}));

exports.TabTitle = TabTitle;

var AttributeName = _styles.styled.span(_templateObject7 || (_templateObject7 = (0, _taggedTemplateLiteral2["default"])(["\n    color: ", ";\n"])), function (props) {
  return props.theme.colors.listAttributeName;
});

exports.AttributeName = AttributeName;

"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ProductListHeader = require("./ProductListHeader");

Object.keys(_ProductListHeader).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _ProductListHeader[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _ProductListHeader[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ProductListHeader = void 0;

var _core = require("@mzawadie/core");

var _atoms = require("@mzawadie/prototype/atoms");

var _react = _interopRequireDefault(require("react"));

var _reactIntl = require("react-intl");

var S = _interopRequireWildcard(require("./styles"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

var ProductListHeader = function ProductListHeader(_ref) {
  var _ref$numberOfProducts = _ref.numberOfProducts,
      numberOfProducts = _ref$numberOfProducts === void 0 ? 0 : _ref$numberOfProducts,
      openFiltersMenu = _ref.openFiltersMenu,
      clearFilters = _ref.clearFilters,
      activeSortOption = _ref.activeSortOption,
      _ref$activeFilters = _ref.activeFilters,
      activeFilters = _ref$activeFilters === void 0 ? 0 : _ref$activeFilters,
      _ref$activeFiltersAtt = _ref.activeFiltersAttributes,
      activeFiltersAttributes = _ref$activeFiltersAtt === void 0 ? [] : _ref$activeFiltersAtt,
      sortOptions = _ref.sortOptions,
      onChange = _ref.onChange,
      onCloseFilterAttribute = _ref.onCloseFilterAttribute;
  return __jsx(S.Wrapper, null, __jsx(S.Bar, null, __jsx(S.LeftSide, null, __jsx(S.FiltersButton, {
    onClick: openFiltersMenu,
    "data-test": "filtersButton"
  }, __jsx(_atoms.Icon, {
    name: "filter",
    size: 24
  }), __jsx(S.Filters, null, __jsx(_reactIntl.FormattedMessage, _core.commonMessages.filterHeader), " ", activeFilters > 0 && __jsx("span", null, "(", activeFilters, ")"))), activeFilters > 0 && __jsx(S.Clear, {
    onClick: clearFilters,
    "data-test": "clearFiltersButton"
  }, __jsx(_reactIntl.FormattedMessage, _core.commonMessages.clearFilterHeader))), __jsx(S.RightSide, null, __jsx(S.Element, {
    "data-test": "productsFoundCounter"
  }, __jsx(S.Label, null, __jsx(_reactIntl.FormattedMessage, {
    id: "next.prototype.molecules.ProductListHeader.ProductListHeader.3317426832",
    defaultMessage: "Products found:"
  }), " "), numberOfProducts), __jsx(S.Element, null, __jsx(S.Sort, null, __jsx(_atoms.DropdownSelect, {
    onChange: onChange,
    options: sortOptions,
    value: sortOptions.find(function (option) {
      return option.value === activeSortOption;
    })
  }))))), __jsx(S.FiltersChipsWrapper, null, activeFiltersAttributes.map(function (_ref2) {
    var attributeSlug = _ref2.attributeSlug,
        valueName = _ref2.valueName,
        valueSlug = _ref2.valueSlug;
    return __jsx(_atoms.Chip, {
      key: valueSlug,
      onClose: function onClose() {
        return onCloseFilterAttribute(attributeSlug, valueSlug);
      }
    }, valueName);
  })));
};

exports.ProductListHeader = ProductListHeader;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _addonActions = require("@storybook/addon-actions");

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _reactIntl = require("react-intl");

var _index = require("./index");

var __jsx = _react2["default"].createElement;
var DEFAULT_PROPS = {
  activeFilters: 0,
  activeFiltersAttributes: [],
  clearFilters: (0, _addonActions.action)("clearFilters"),
  numberOfProducts: 255,
  onChange: (0, _addonActions.action)("onChange"),
  onCloseFilterAttribute: (0, _addonActions.action)("onAttributeFiltersChange"),
  openFiltersMenu: (0, _addonActions.action)("openFiltersMenu"),
  sortOptions: [{
    label: "Price ASC",
    value: "PRICE"
  }, {
    label: "Price DESC",
    value: "-PRICE"
  }]
};
(0, _react.storiesOf)("@mzawadie/prototype/molecules/ProductListHeader", module).addParameters({
  component: _index.ProductListHeader
}).add("default", function () {
  return __jsx(_reactIntl.IntlProvider, {
    locale: "en"
  }, __jsx(_index.ProductListHeader, DEFAULT_PROPS));
}).add("with active filters", function () {
  return __jsx(_reactIntl.IntlProvider, {
    locale: "en"
  }, __jsx(_index.ProductListHeader, (0, _extends2["default"])({}, DEFAULT_PROPS, {
    activeFilters: 3
  })));
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.FiltersChipsWrapper = exports.Sort = exports.Label = exports.Filters = exports.Element = exports.Clear = exports.FiltersButton = exports.RightSide = exports.LeftSide = exports.Bar = exports.Wrapper = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styles = require("@next/styles");

var _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7, _templateObject8, _templateObject9, _templateObject10, _templateObject11;

var Wrapper = _styles.styled.div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    margin-bottom: 1.4rem;\n"])));

exports.Wrapper = Wrapper;

var Bar = _styles.styled.div(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n    height: 5rem;\n    background-color: ", ";\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 0 2rem;\n    font-size: ", ";\n    margin-top: 1rem;\n    margin-bottom: 1.4rem;\n"])), function (props) {
  return props.theme.tile.backgroundColor;
}, function (props) {
  return props.theme.typography.smallFontSize;
});

exports.Bar = Bar;

var LeftSide = _styles.styled.div(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["\n    display: flex;\n    align-items: center;\n"])));

exports.LeftSide = LeftSide;

var RightSide = _styles.styled.div(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2["default"])(["\n    height: 1.2rem;\n"])));

exports.RightSide = RightSide;

var FiltersButton = _styles.styled.button(_templateObject5 || (_templateObject5 = (0, _taggedTemplateLiteral2["default"])(["\n    font-size: ", ";\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n"])), function (props) {
  return props.theme.typography.smallFontSize;
});

exports.FiltersButton = FiltersButton;

var Clear = _styles.styled.button(_templateObject6 || (_templateObject6 = (0, _taggedTemplateLiteral2["default"])(["\n    padding-left: 2rem;\n    cursor: pointer;\n    font-size: ", ";\n    color: ", ";\n"])), function (props) {
  return props.theme.typography.smallFontSize;
}, function (props) {
  return props.theme.colors.lightFont;
});

exports.Clear = Clear;

var Element = _styles.styled.span(_templateObject7 || (_templateObject7 = (0, _taggedTemplateLiteral2["default"])(["\n    padding-left: 2rem;\n"])));

exports.Element = Element;

var Filters = _styles.styled.span(_templateObject8 || (_templateObject8 = (0, _taggedTemplateLiteral2["default"])(["\n    font-weight: ", ";\n    padding: 0 0.6rem;\n"])), function (props) {
  return props.theme.typography.boldFontWeight;
});

exports.Filters = Filters;

var Label = _styles.styled.span(_templateObject9 || (_templateObject9 = (0, _taggedTemplateLiteral2["default"])(["\n    color: ", ";\n"])), function (props) {
  return props.theme.colors.lightFont;
});

exports.Label = Label;

var Sort = _styles.styled.div(_templateObject10 || (_templateObject10 = (0, _taggedTemplateLiteral2["default"])(["\n    width: 12rem;\n    display: inline-block;\n"])));

exports.Sort = Sort;

var FiltersChipsWrapper = _styles.styled.div(_templateObject11 || (_templateObject11 = (0, _taggedTemplateLiteral2["default"])(["\n    > div {\n        margin: 0.4rem;\n    }\n"])));

exports.FiltersChipsWrapper = FiltersChipsWrapper;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PRODUCT = void 0;
var PRODUCT = {
  __typename: "Product",
  id: "UHJvZHVjdDo3Mg==",
  name: "Apple Juice",
  slug: "apple-juice",
  seoDescription: "Apple Juice Description",
  seoTitle: "Apple Juice",
  isAvailableForPurchase: true,
  availableForPurchase: "2020-08-31",
  pricing: {
    __typename: "ProductPricingInfo",
    onSale: true,
    priceRange: {
      __typename: "TaxedMoneyRange",
      start: {
        __typename: "TaxedMoney",
        gross: {
          __typename: "Money",
          amount: 1.8,
          currency: "USD"
        },
        net: {
          __typename: "Money",
          amount: 1.8,
          currency: "USD"
        }
      },
      stop: {
        __typename: "TaxedMoney",
        gross: {
          __typename: "Money",
          amount: 4.2,
          currency: "USD"
        },
        net: {
          __typename: "Money",
          amount: 4.2,
          currency: "USD"
        }
      }
    },
    priceRangeUndiscounted: {
      __typename: "TaxedMoneyRange",
      start: {
        __typename: "TaxedMoney",
        gross: {
          __typename: "Money",
          amount: 3,
          currency: "USD"
        },
        net: {
          __typename: "Money",
          amount: 3,
          currency: "USD"
        }
      },
      stop: {
        __typename: "TaxedMoney",
        gross: {
          __typename: "Money",
          amount: 7,
          currency: "USD"
        },
        net: {
          __typename: "Money",
          amount: 7,
          currency: "USD"
        }
      }
    }
  },
  thumbnail: {
    __typename: "Image",
    alt: "",
    url: "http://localhost:8000/media/__sized__/products/saleordemoproduct_fd_juice_06_102xcfi-thumbnail-255x255.png"
  },
  thumbnail2x: {
    __typename: "Image",
    url: "http://localhost:8000/media/__sized__/products/saleordemoproduct_fd_juice_06_102xcfi-thumbnail-510x510.png"
  }
};
exports.PRODUCT = PRODUCT;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ProductTile = require("./ProductTile");

Object.keys(_ProductTile).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _ProductTile[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _ProductTile[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ProductTile = void 0;

var _containers = require("@mzawadie/prototype/containers");

var _molecules = require("@mzawadie/prototype/molecules");

var _react = _interopRequireDefault(require("react"));

var S = _interopRequireWildcard(require("./styles"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

var ProductTile = function ProductTile(_ref) {
  var product = _ref.product;
  var price = product.pricing && product.pricing.priceRange && product.pricing.priceRange.start ? product.pricing.priceRange.start : undefined;
  return __jsx(S.Wrapper, null, __jsx(S.Title, {
    "data-test": "productTile"
  }, product.name), __jsx(S.Price, {
    "data-test": "productPrice"
  }, __jsx(_containers.TaxedMoney, {
    taxedMoney: price
  })), __jsx(S.Image, {
    "data-test": "productThumbnail"
  }, __jsx(_molecules.Thumbnail, {
    source: product
  })));
};

exports.ProductTile = ProductTile;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _fixtures = require("./fixtures");

var _index = require("./index");

var __jsx = _react2["default"].createElement;
(0, _react.storiesOf)("@mzawadie/prototype/molecules/ProductTile", module).addParameters({
  component: _index.ProductTile
}).add("default", function () {
  return __jsx("div", {
    style: {
      width: "400px"
    }
  }, __jsx(_index.ProductTile, {
    product: _fixtures.PRODUCT
  }));
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Image = exports.Price = exports.Title = exports.Wrapper = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styles = require("@next/styles");

var _styledComponents = require("styled-components");

var _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5;

var textProps = (0, _styledComponents.css)(["font-size:", ";margin:0 0 0.5rem 0;text-align:left;"], function (props) {
  return props.theme.typography.baseFontSize;
});

var Wrapper = _styles.styled.div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    background: ", ";\n    padding: 2.5rem;\n    text-align: center;\n    height: 26rem;\n    display: flex;\n    flex-direction: column;\n    transition: 0.3s;\n\n    :hover {\n        background-color: ", ";\n    }\n\n    ", "\n"])), function (props) {
  return props.theme.colors.light;
}, function (props) {
  return props.theme.colors.hoverLightBackground;
}, _styles.media.largeScreen(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n    padding: 1.8rem;\n  "]))));

exports.Wrapper = Wrapper;

var Title = _styles.styled.h4(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["\n    text-transform: uppercase;\n    font-weight: normal;\n    ", "\n"])), textProps);

exports.Title = Title;

var Price = _styles.styled.p(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2["default"])(["\n    ", "\n"])), textProps);

exports.Price = Price;

var Image = _styles.styled.div(_templateObject5 || (_templateObject5 = (0, _taggedTemplateLiteral2["default"])(["\n    display: flex;\n    flex-grow: 1;\n    overflow: hidden;\n\n    > img {\n        flex-grow: 1;\n        object-fit: contain;\n    }\n"])));

exports.Image = Image;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
var _exportNames = {};
Object.defineProperty(exports, "default", {
  enumerable: true,
  get: function get() {
    return _QuantityInput["default"];
  }
});

var _QuantityInput = _interopRequireWildcard(require("./QuantityInput"));

Object.keys(_QuantityInput).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;
  if (key in exports && exports[key] === _QuantityInput[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _QuantityInput[key];
    }
  });
});

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = exports.QuantityInput = void 0;

var _core = require("@mzawadie/core");

var _molecules = require("@mzawadie/prototype/molecules");

var _react = _interopRequireWildcard(require("react"));

var _reactIntl = require("react-intl");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

var QuantityInput = function QuantityInput(_ref) {
  var disabled = _ref.disabled,
      quantity = _ref.quantity,
      maxQuantity = _ref.maxQuantity,
      onQuantityChange = _ref.onQuantityChange,
      hideErrors = _ref.hideErrors,
      testingContext = _ref.testingContext,
      testingContextId = _ref.testingContextId;

  var _useState = (0, _react.useState)(false),
      isTooMuch = _useState[0],
      setIsTooMuch = _useState[1];

  var intl = (0, _reactIntl.useIntl)();
  (0, _react.useEffect)(function () {
    setIsTooMuch(!isNaN(quantity) && quantity > maxQuantity);
  }, [quantity, maxQuantity]);

  var handleQuantityChange = function handleQuantityChange(evt) {
    var newQuantity = parseInt(evt.target.value, 10);

    if (quantity !== newQuantity) {
      onQuantityChange(newQuantity);
    }

    setIsTooMuch(!isNaN(newQuantity) && newQuantity > maxQuantity);
  };

  var quantityErrors = !hideErrors && isTooMuch ? [{
    message: intl.formatMessage(_core.commonMessages.maxQtyIs, {
      maxQuantity: maxQuantity
    })
  }] : undefined;
  return __jsx(_molecules.TextField, {
    name: "quantity",
    type: "number",
    label: intl.formatMessage(_core.commonMessages.quantity),
    min: "1",
    value: quantity.toString(),
    disabled: disabled,
    onChange: handleQuantityChange,
    errors: quantityErrors,
    "data-test": testingContext,
    "data-testId": testingContextId
  });
};

exports.QuantityInput = QuantityInput;
QuantityInput.displayName = "QuantityInput";
var _default = QuantityInput;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _reactIntl = require("react-intl");

var _index = require("./index");

var __jsx = _react2["default"].createElement;
var DEFAULT_PROPS = {
  quantity: 1,
  maxQuantity: 10,
  disabled: false,
  onQuantityChange: function onQuantityChange(value) {
    return undefined;
  },
  hideErrors: false,
  testingContext: "QuantityInput"
};
(0, _react.storiesOf)("@components/molecules/QuantityInput", module).addParameters({
  component: _index.QuantityInput
}).addDecorator(function (story) {
  return __jsx(_reactIntl.IntlProvider, {
    locale: "en"
  }, "story()");
}).add("default", function () {
  return __jsx(_index.QuantityInput, DEFAULT_PROPS);
}).add("disabled", function () {
  return __jsx(_index.QuantityInput, (0, _extends2["default"])({}, DEFAULT_PROPS, {
    disabled: true
  }));
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _TextField = require("./TextField");

Object.keys(_TextField).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _TextField[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _TextField[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _addonActions = require("@storybook/addon-actions");

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _index = require("./index");

var __jsx = _react2["default"].createElement;
var DEFAULT_PROPS = {
  errors: [],
  label: "Label",
  onChange: (0, _addonActions.action)("onChange"),
  value: "Value"
};

var ContentLeft = function ContentLeft() {
  return __jsx("span", null, "Content Left");
};

var ContentRight = function ContentRight() {
  return __jsx("span", null, "Content Right");
};

(0, _react.storiesOf)("@mzawadie/prototype/molecules/TextField", module).addParameters({
  component: _index.TextField
}).add("default", function () {
  return __jsx(_index.TextField, DEFAULT_PROPS);
}).add("with errors", function () {
  return __jsx(_index.TextField, (0, _extends2["default"])({}, DEFAULT_PROPS, {
    errors: [{
      field: "field",
      message: "Some error"
    }]
  }));
}).add("with content left", function () {
  return __jsx(_index.TextField, (0, _extends2["default"])({}, DEFAULT_PROPS, {
    contentLeft: __jsx(ContentLeft, null)
  }));
}).add("with content right", function () {
  return __jsx(_index.TextField, (0, _extends2["default"])({}, DEFAULT_PROPS, {
    contentRight: __jsx(ContentRight, null)
  }));
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ErrorMessages = exports.HelpText = exports.TextField = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styles = require("@next/styles");

var _templateObject, _templateObject2, _templateObject3;

var TextField = _styles.styled.div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    margin-bottom: ", ";\n    position: relative;\n"])), function (props) {
  return props.theme.spacing.fieldSpacer;
});

exports.TextField = TextField;
TextField.displayName = "S.TextField";

var HelpText = _styles.styled.span(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n    color: ", ";\n    font-size: ", ";\n"])), function (props) {
  return props.theme.input.labelColor;
}, function (props) {
  return props.theme.input.labelFontSize;
});

exports.HelpText = HelpText;

var ErrorMessages = _styles.styled.div(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["\n    position: absolute;\n    top: 100%;\n"])));

exports.ErrorMessages = ErrorMessages;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.TextField = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _atoms = require("@mzawadie/prototype/atoms");

var _react = _interopRequireDefault(require("react"));

var S = _interopRequireWildcard(require("./styles"));

var _excluded = ["errors", "helpText"];

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

var TextField = function TextField(_ref) {
  var errors = _ref.errors,
      helpText = _ref.helpText,
      rest = (0, _objectWithoutProperties2["default"])(_ref, _excluded);
  var hasErrors = !!(errors && errors.length);
  return __jsx(_react["default"].Fragment, null, __jsx(S.TextField, null, __jsx(_atoms.Input, (0, _extends2["default"])({}, rest, {
    error: hasErrors
  })), __jsx(S.ErrorMessages, null, __jsx(_atoms.ErrorMessage, {
    errors: errors
  }), helpText && __jsx(S.HelpText, null, helpText))));
};

exports.TextField = TextField;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Thumbnail = require("./Thumbnail");

Object.keys(_Thumbnail).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _Thumbnail[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _Thumbnail[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Thumbnail = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _atoms = require("@mzawadie/prototype/atoms");

var _misc = require("@next/utils/misc");

var _react = _interopRequireDefault(require("react"));

var _index = require("../index");

var _excluded = ["source", "children"];
var __jsx = _react["default"].createElement;

var Thumbnail = function Thumbnail(_ref) {
  var source = _ref.source,
      children = _ref.children,
      props = (0, _objectWithoutProperties2["default"])(_ref, _excluded);
  var thumbnail = source.thumbnail,
      thumbnail2x = source.thumbnail2x;

  if (!thumbnail && !thumbnail2x) {
    return __jsx(_atoms.PlaceholderImage, null);
  }

  return __jsx(_index.CachedImage, (0, _extends2["default"])({}, props, {
    url: (0, _misc.maybe)(function () {
      return thumbnail.url;
    }),
    url2x: (0, _misc.maybe)(function () {
      return thumbnail2x.url;
    }),
    alt: (0, _misc.maybe)(function () {
      return thumbnail.alt ? thumbnail.alt : "";
    }, "")
  }), children);
};

exports.Thumbnail = Thumbnail;

"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _core = require("@mzawadie/core");

var _react = _interopRequireWildcard(require("react"));

var _reactIntl = require("react-intl");

var _AddToCartButton = _interopRequireDefault(require("../../molecules/AddToCartButton"));

var _QuantityInput = _interopRequireDefault(require("../../molecules/QuantityInput"));

var _ProductVariantPicker = _interopRequireDefault(require("../ProductVariantPicker"));

var _stockHelpers = require("./stockHelpers");

var S = _interopRequireWildcard(require("./styles"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;
var LOW_STOCK_QUANTITY = 5;

var AddToCartSection = function AddToCartSection(_ref) {
  var availableForPurchase = _ref.availableForPurchase,
      isAvailableForPurchase = _ref.isAvailableForPurchase,
      items = _ref.items,
      name = _ref.name,
      productPricing = _ref.productPricing,
      productVariants = _ref.productVariants,
      queryAttributes = _ref.queryAttributes,
      onAddToCart = _ref.onAddToCart,
      onAttributeChangeHandler = _ref.onAttributeChangeHandler,
      setVariantId = _ref.setVariantId,
      variantId = _ref.variantId;
  var intl = (0, _reactIntl.useIntl)();

  var _useState = (0, _react.useState)(1),
      quantity = _useState[0],
      setQuantity = _useState[1];

  var _useState2 = (0, _react.useState)(0),
      variantStock = _useState2[0],
      setVariantStock = _useState2[1];

  var _useState3 = (0, _react.useState)(null),
      variantPricing = _useState3[0],
      setVariantPricing = _useState3[1];

  var availableQuantity = (0, _stockHelpers.getAvailableQuantity)(items, variantId, variantStock);
  var isOutOfStock = !!variantId && variantStock === 0;
  var noPurchaseAvailable = !isAvailableForPurchase && !availableForPurchase;
  var purchaseAvailableDate = !isAvailableForPurchase && availableForPurchase && Date.parse(availableForPurchase);
  var isNoItemsAvailable = !!variantId && !isOutOfStock && !availableQuantity;
  var isLowStock = !!variantId && !isOutOfStock && !isNoItemsAvailable && availableQuantity < LOW_STOCK_QUANTITY;
  var disableButton = !(0, _stockHelpers.canAddToCart)(items, !!isAvailableForPurchase, variantId, variantStock, quantity);

  var renderErrorMessage = function renderErrorMessage(message, testingContextId) {
    return __jsx(S.ErrorMessage, {
      "data-test": "stockErrorMessage",
      "data-testId": testingContextId
    }, message);
  };

  var onVariantPickerChange = function onVariantPickerChange(_selectedAttributesValues, selectedVariant) {
    if (!selectedVariant) {
      setVariantId("");
      setVariantPricing(null);
      setVariantStock(0);
      return;
    }

    setVariantId(selectedVariant.id);
    setVariantPricing(selectedVariant === null || selectedVariant === void 0 ? void 0 : selectedVariant.pricing);
    setVariantStock(selectedVariant === null || selectedVariant === void 0 ? void 0 : selectedVariant.quantityAvailable);
  };

  return __jsx(S.AddToCartSelection, null, __jsx(S.ProductNameHeader, {
    "data-test": "productName"
  }, name), isOutOfStock ? renderErrorMessage(intl.formatMessage(_core.commonMessages.outOfStock), "outOfStock") : __jsx(S.ProductPricing, null, (0, _stockHelpers.getProductPrice)(productPricing, variantPricing)), noPurchaseAvailable && renderErrorMessage(intl.formatMessage(_core.commonMessages.noPurchaseAvailable), "notAvailable"), purchaseAvailableDate && renderErrorMessage(intl.formatMessage(_core.commonMessages.purchaseAvailableOn, {
    date: new Intl.DateTimeFormat("default", {
      year: "numeric",
      month: "numeric",
      day: "numeric"
    }).format(purchaseAvailableDate),
    time: new Intl.DateTimeFormat("default", {
      hour: "numeric",
      minute: "numeric"
    }).format(purchaseAvailableDate)
  }), "timeRestrictedAvailability"), isLowStock && renderErrorMessage(intl.formatMessage(_core.commonMessages.lowStock), "lowStockWarning"), isNoItemsAvailable && renderErrorMessage(intl.formatMessage(_core.commonMessages.noItemsAvailable), "noItemsAvailable"), __jsx(S.VariantPicker, null, __jsx(_ProductVariantPicker["default"], {
    productVariants: productVariants,
    onChange: onVariantPickerChange,
    selectSidebar: true,
    queryAttributes: queryAttributes,
    onAttributeChangeHandler: onAttributeChangeHandler
  })), __jsx(S.QuantityInput, null, __jsx(_QuantityInput["default"], {
    quantity: quantity,
    maxQuantity: availableQuantity,
    disabled: isOutOfStock || isNoItemsAvailable,
    onQuantityChange: setQuantity,
    hideErrors: !variantId || isOutOfStock || isNoItemsAvailable,
    testingContext: "addToCartQuantity"
  })), __jsx(_AddToCartButton["default"], {
    onSubmit: function onSubmit() {
      return onAddToCart(variantId, quantity);
    },
    disabled: disableButton
  }));
};

AddToCartSection.displayName = "AddToCartSection";
var _default = AddToCartSection;
exports["default"] = _default;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
var _exportNames = {};
Object.defineProperty(exports, "default", {
  enumerable: true,
  get: function get() {
    return _AddToCartSection["default"];
  }
});

var _AddToCartSection = _interopRequireWildcard(require("./AddToCartSection"));

Object.keys(_AddToCartSection).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;
  if (key in exports && exports[key] === _AddToCartSection[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _AddToCartSection[key];
    }
  });
});

var _stockHelpers = require("./stockHelpers");

Object.keys(_stockHelpers).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;
  if (key in exports && exports[key] === _stockHelpers[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _stockHelpers[key];
    }
  });
});

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getAvailableQuantity = exports.canAddToCart = exports.getProductPrice = void 0;

var _isEqual = _interopRequireDefault(require("lodash/isEqual"));

var React = _interopRequireWildcard(require("react"));

var _containers = require("../../containers");

var S = _interopRequireWildcard(require("./styles"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

/**
 * Renders formatted price for chosen variant or product.
 * Price ranges and discounts are additionally formatted available.
 */
var getProductPrice = function getProductPrice(productPricingRange, variantPricing) {
  if (variantPricing) {
    if ((0, _isEqual["default"])(variantPricing.priceUndiscounted, variantPricing.price)) {
      return __jsx(_containers.TaxedMoney, {
        taxedMoney: variantPricing.price
      });
    }

    return __jsx(React.Fragment, null, __jsx(S.UndiscountedPrice, null, __jsx(_containers.TaxedMoney, {
      taxedMoney: variantPricing.priceUndiscounted
    })), "\xA0\xA0\xA0\xA0", __jsx(_containers.TaxedMoney, {
      taxedMoney: variantPricing.price
    }));
  }

  if (!productPricingRange.priceRange) {
    return __jsx(React.Fragment, null);
  }

  var _productPricingRange$ = productPricingRange.priceRange,
      start = _productPricingRange$.start,
      stop = _productPricingRange$.stop;

  if ((0, _isEqual["default"])(start, stop)) {
    return __jsx(_containers.TaxedMoney, {
      taxedMoney: start
    });
  }

  return __jsx(React.Fragment, null, __jsx(_containers.TaxedMoney, {
    taxedMoney: start
  }), " - ", __jsx(_containers.TaxedMoney, {
    taxedMoney: stop
  }));
};

exports.getProductPrice = getProductPrice;

var canAddToCart = function canAddToCart(items, isAvailableForPurchase, variantId, variantStock, quantity) {
  var cartItem = items === null || items === void 0 ? void 0 : items.find(function (item) {
    return item.variant.id === variantId;
  });
  var syncedQuantityWithCart = cartItem ? quantity + ((cartItem === null || cartItem === void 0 ? void 0 : cartItem.quantity) || 0) : quantity;
  return isAvailableForPurchase && quantity > 0 && !!variantId && variantStock >= syncedQuantityWithCart;
};
/**
 * Returns how many items you can add to the cart. Takes in account quantity already in cart.
 */


exports.canAddToCart = canAddToCart;

var getAvailableQuantity = function getAvailableQuantity(items, variantId, variantStock) {
  var cartItem = items === null || items === void 0 ? void 0 : items.find(function (item) {
    return item.variant.id === variantId;
  });
  var quantityInCart = (cartItem === null || cartItem === void 0 ? void 0 : cartItem.quantity) || 0;
  return variantStock - quantityInCart;
};

exports.getAvailableQuantity = getAvailableQuantity;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _reactIntl = require("react-intl");

var _AddToCartSection = _interopRequireDefault(require("./AddToCartSection"));

var __jsx = _react2["default"].createElement;
var DEFAULT_PROPS = {
  productId: "42",
  productVariants: [],
  name: "Tribute",
  productPricing: {
    onSale: false,
    priceRangeUndiscounted: {
      start: {
        gross: {
          amount: 10,
          currency: "USD",
          __typename: "Money"
        },
        net: {
          amount: 10,
          currency: "USD",
          __typename: "Money"
        },
        __typename: "TaxedMoney"
      },
      stop: {
        gross: {
          amount: 15,
          currency: "USD",
          __typename: "Money"
        },
        net: {
          amount: 15,
          currency: "USD",
          __typename: "Money"
        },
        __typename: "TaxedMoney"
      },
      __typename: "TaxedMoneyRange"
    },
    priceRange: {
      start: {
        gross: {
          amount: 10,
          currency: "USD",
          __typename: "Money"
        },
        net: {
          amount: 10,
          currency: "USD",
          __typename: "Money"
        },
        __typename: "TaxedMoney"
      },
      stop: {
        gross: {
          amount: 15,
          currency: "USD",
          __typename: "Money"
        },
        net: {
          amount: 15,
          currency: "USD",
          __typename: "Money"
        },
        __typename: "TaxedMoney"
      },
      __typename: "TaxedMoneyRange"
    },
    __typename: "ProductPricingInfo"
  },
  items: [],
  queryAttributes: {},
  setVariantId: function setVariantId(variantId) {
    return undefined;
  },
  variantId: "",
  onAddToCart: function onAddToCart(variantId, quantity) {
    return undefined;
  },
  onAttributeChangeHandler: function onAttributeChangeHandler(slug, value) {
    return undefined;
  },
  availableForPurchase: null,
  isAvailableForPurchase: null
};
(0, _react.storiesOf)("@components/organisms/AddToCartSection", module).add("default", function () {
  return __jsx(_reactIntl.IntlProvider, {
    locale: "en"
  }, __jsx(_AddToCartSection["default"], DEFAULT_PROPS));
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ErrorMessage = exports.QuantityInput = exports.VariantPicker = exports.UndiscountedPrice = exports.ProductPricing = exports.ProductNameHeader = exports.AddToCartSelection = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styles = require("@next/styles");

var _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7;

var AddToCartSelection = _styles.styled.div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])([""])));

exports.AddToCartSelection = AddToCartSelection;

var ProductNameHeader = _styles.styled.h3(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n    text-transform: uppercase;\n    font-weight: ", ";\n    margin-bottom: ", ";\n"])), function (props) {
  return props.theme.typography.boldFontWeight;
}, function (props) {
  return props.theme.spacing.spacer;
});

exports.ProductNameHeader = ProductNameHeader;

var ProductPricing = _styles.styled.h4(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["\n    font-weight: ", ";\n    margin-bottom: ", ";\n"])), function (props) {
  return props.theme.typography.boldFontWeight;
}, function (props) {
  return props.theme.spacing.spacer;
});

exports.ProductPricing = ProductPricing;

var UndiscountedPrice = _styles.styled.span(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2["default"])(["\n    text-decoration: line-through;\n    color: ", ";\n    font-size: ", ";\n"])), function (props) {
  return props.theme.colors.baseFontColorSemiTransparent;
}, function (props) {
  return props.theme.typography.smallFontSize;
});

exports.UndiscountedPrice = UndiscountedPrice;

var VariantPicker = _styles.styled.div(_templateObject5 || (_templateObject5 = (0, _taggedTemplateLiteral2["default"])(["\n    display: grid;\n    margin-top: 20px;\n\n    .react-select-wrapper,\n    .input {\n        width: 50%;\n        margin-bottom: 1rem;\n    }\n"])));

exports.VariantPicker = VariantPicker;

var QuantityInput = _styles.styled.div(_templateObject6 || (_templateObject6 = (0, _taggedTemplateLiteral2["default"])(["\n    margin-top: 20px;\n    padding-top: 20px;\n"])));

exports.QuantityInput = QuantityInput;

var ErrorMessage = _styles.styled.p(_templateObject7 || (_templateObject7 = (0, _taggedTemplateLiteral2["default"])(["\n    color: ", ";\n"])), function (props) {
  return props.theme.colors.error;
});

exports.ErrorMessage = ErrorMessage;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.FilterSidebar = void 0;

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _core = require("@mzawadie/core");

var _atoms = require("@mzawadie/prototype/atoms");

var _molecules = require("@mzawadie/prototype/molecules");

var _hooks = require("@next/hooks");

var _react = _interopRequireDefault(require("react"));

var _reactIntl = require("react-intl");

var _index = require("../index");

var S = _interopRequireWildcard(require("./styles"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var checkIfAttributeIsChecked = function checkIfAttributeIsChecked(filters, value, slug) {
  if (filters.attributes && filters.attributes.hasOwnProperty(slug)) {
    return !!filters.attributes[slug].find(function (filter) {
      return filter === value.slug;
    });
  }

  return false;
};

var FilterSidebar = function FilterSidebar(_ref) {
  var hide = _ref.hide,
      filters = _ref.filters,
      show = _ref.show,
      attributes = _ref.attributes,
      target = _ref.target,
      onAttributeFiltersChange = _ref.onAttributeFiltersChange;

  var _useHandlerWhenClicke = (0, _hooks.useHandlerWhenClickedOutside)(function () {
    hide();
  }),
      setElementRef = _useHandlerWhenClicke.setElementRef;

  return __jsx(_index.Overlay, {
    duration: 0,
    position: "left",
    show: show,
    hide: hide,
    transparent: true,
    target: target
  }, __jsx(S.Wrapper, {
    ref: setElementRef(),
    "data-test": "filterSidebar"
  }, __jsx(S.Header, null, __jsx("span", null, __jsx(_reactIntl.FormattedMessage, _core.commonMessages.filterHeader)), __jsx(_atoms.IconButton, {
    testingContext: "hideFilters",
    onClick: hide,
    name: "x",
    size: 18,
    color: "000"
  })), attributes.map(function (_ref2) {
    var id = _ref2.id,
        slug = _ref2.slug,
        name = _ref2.name,
        choices = _ref2.choices;
    var values = (choices === null || choices === void 0 ? void 0 : choices.edges.map(function (_ref3) {
      var node = _ref3.node;
      return node;
    })) || [];
    return __jsx(_molecules.AttributeValuesChecklist, {
      key: id,
      title: name,
      name: slug,
      values: values.map(function (value) {
        return _objectSpread(_objectSpread({}, value), {}, {
          selected: checkIfAttributeIsChecked(filters, value, slug)
        });
      }),
      valuesShowLimit: true,
      onValueClick: function onValueClick(value) {
        return onAttributeFiltersChange(slug, value.slug);
      }
    });
  })));
};

exports.FilterSidebar = FilterSidebar;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _FilterSidebar = require("./FilterSidebar");

Object.keys(_FilterSidebar).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _FilterSidebar[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _FilterSidebar[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _addonActions = require("@storybook/addon-actions");

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _index = require("./index");

var _testData = require("./testData");

var __jsx = _react2["default"].createElement;
var portalRoot = document.getElementById("portal-root");

if (!portalRoot) {
  portalRoot = document.createElement("div");
  portalRoot.setAttribute("id", "portal-root");
  document.body.appendChild(portalRoot);
}

(0, _react.storiesOf)("@mzawadie/prototype/organisms/FilterSidebar", module).addParameters({
  component: _index.FilterSidebar
}).add("default", function () {
  return __jsx(_index.FilterSidebar, (0, _extends2["default"])({
    target: portalRoot
  }, _testData.DEFAULT_PROPS, {
    hide: (0, _addonActions.action)("hide"),
    onAttributeFiltersChange: (0, _addonActions.action)("onAttributesFiltersChange")
  }));
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Header = exports.Wrapper = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styles = require("@next/styles");

var _templateObject, _templateObject2;

var Wrapper = _styles.styled.div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    overflow: scroll;\n    width: 410px;\n    display: flex;\n    justify-content: flex-start;\n    flex-direction: column;\n    align-items: center;\n\n    box-shadow: 6px 0px 30px rgba(0, 0, 0, 0.15);\n"])));

exports.Wrapper = Wrapper;

var Header = _styles.styled.div(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n    display: flex;\n    width: 80%;\n    justify-content: space-between;\n    align-items: center;\n    margin-top: 1.5rem;\n    margin-bottom: 4rem;\n    padding: 0;\n\n    font-weight: ", ";\n    font-size: ", ";\n"])), function (props) {
  return props.theme.typography.boldFontWeight;
}, function (props) {
  return props.theme.typography.h3FontSize;
});

exports.Header = Header;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.DEFAULT_PROPS = void 0;
var DEFAULT_PROPS = {
  attributes: [{
    __typename: "Attribute",
    id: "1",
    name: "Size",
    slug: "size",
    choices: {
      __typename: "AttributeValueCountableConnection",
      edges: [{
        __typename: "AttributeValueCountableEdge",
        node: {
          __typename: "AttributeValue",
          id: "2",
          name: "41",
          slug: "41"
        }
      }, {
        __typename: "AttributeValueCountableEdge",
        node: {
          __typename: "AttributeValue",
          id: "3",
          name: "42",
          slug: "42"
        }
      }, {
        __typename: "AttributeValueCountableEdge",
        node: {
          __typename: "AttributeValue",
          id: "4",
          name: "43",
          slug: "43"
        }
      }, {
        __typename: "AttributeValueCountableEdge",
        node: {
          __typename: "AttributeValue",
          id: "5",
          name: "44",
          slug: "44"
        }
      }, {
        __typename: "AttributeValueCountableEdge",
        node: {
          __typename: "AttributeValue",
          id: "6",
          name: "45",
          slug: "45"
        }
      }, {
        __typename: "AttributeValueCountableEdge",
        node: {
          __typename: "AttributeValue",
          id: "7",
          name: "46",
          slug: "46"
        }
      }]
    }
  }],
  filters: {
    attributes: {
      size: ["41"]
    },
    pageSize: 5,
    priceGte: 0,
    priceLte: 0,
    sortBy: ""
  },
  show: true
};
exports.DEFAULT_PROPS = DEFAULT_PROPS;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _FilterSidebar = require("./FilterSidebar");

Object.keys(_FilterSidebar).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _FilterSidebar[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _FilterSidebar[key];
    }
  });
});

var _ProductVariantPicker = require("./ProductVariantPicker");

Object.keys(_ProductVariantPicker).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _ProductVariantPicker[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _ProductVariantPicker[key];
    }
  });
});

var _ProductGallery = require("./ProductGallery");

Object.keys(_ProductGallery).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _ProductGallery[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _ProductGallery[key];
    }
  });
});

var _ProductList = require("./ProductList");

Object.keys(_ProductList).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _ProductList[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _ProductList[key];
    }
  });
});

var _Overlay = require("./Overlay");

Object.keys(_Overlay).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _Overlay[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _Overlay[key];
    }
  });
});

var _Modal = require("./Modal");

Object.keys(_Modal).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _Modal[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _Modal[key];
    }
  });
});

var _AddToCartSection = require("./AddToCartSection");

Object.keys(_AddToCartSection).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _AddToCartSection[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _AddToCartSection[key];
    }
  });
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Modal = require("./Modal");

Object.keys(_Modal).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _Modal[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _Modal[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Modal = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _molecules = require("@mzawadie/prototype/molecules");

var _organisms = require("@mzawadie/prototype/organisms");

var _react = _interopRequireDefault(require("react"));

var S = _interopRequireWildcard(require("./styles"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

var getCancelBtnProps = function getCancelBtnProps(action, text) {
  return text && {
    cancelBtn: {
      action: action,
      testingContext: "cancelButton",
      text: text
    }
  };
};

var getSubmitBtnProps = function getSubmitBtnProps(text, submitButtonTestingContext, action) {
  return {
    submitBtn: action ? {
      action: action,
      testingContext: submitButtonTestingContext,
      text: text
    } : {
      testingContext: submitButtonTestingContext,
      text: text
    }
  };
};

var Modal = function Modal(_ref) {
  var cancelBtnText = _ref.cancelBtnText,
      children = _ref.children,
      disabled = _ref.disabled,
      hide = _ref.hide,
      _ref$formId = _ref.formId,
      formId = _ref$formId === void 0 ? "modal-submit" : _ref$formId,
      onSubmit = _ref.onSubmit,
      submitBtnText = _ref.submitBtnText,
      submitButtonTestingContext = _ref.submitButtonTestingContext,
      show = _ref.show,
      target = _ref.target,
      testingContext = _ref.testingContext,
      title = _ref.title;
  return __jsx(_organisms.Overlay, {
    testingContext: testingContext,
    position: "center",
    show: show,
    hide: hide,
    target: target
  }, __jsx(S.Modal, null, __jsx(_molecules.CardHeader, {
    divider: true,
    onHide: hide
  }, title), __jsx(S.Content, null, children), __jsx(_molecules.FormFooter, (0, _extends2["default"])({
    divider: true,
    disabled: disabled
  }, getSubmitBtnProps(submitBtnText, submitButtonTestingContext, onSubmit), getCancelBtnProps(hide, cancelBtnText), {
    formId: formId
  }))));
};

exports.Modal = Modal;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _addonActions = require("@storybook/addon-actions");

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _index = require("./index");

var __jsx = _react2["default"].createElement;

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var portalRoot = document.getElementById("portal-root");

if (!portalRoot) {
  portalRoot = document.createElement("div");
  portalRoot.setAttribute("id", "portal-root");
  document.body.appendChild(portalRoot);
}

var Children = function Children() {
  return __jsx("div", null, "Content");
};

var DEFAULT_PROPS = {
  children: Children,
  disabled: false,
  hide: (0, _addonActions.action)("hide"),
  show: true,
  submitBtnText: "Save",
  submitButtonTestingContext: "submitTestModalButton",
  target: portalRoot,
  testingContext: "test",
  title: "Modal title"
};

var renderModal = function renderModal(props) {
  return __jsx(_index.Modal, props, __jsx(Children, null));
};

(0, _react.storiesOf)("@mzawadie/prototype/organisms/Modal", module).addParameters({
  component: _index.Modal
}).add("Modal Form", function () {
  return renderModal(_objectSpread(_objectSpread({}, DEFAULT_PROPS), {}, {
    cancelBtnText: "Cancel",
    formId: "form-id"
  }));
}).add("Modal Form disabled", function () {
  return renderModal(_objectSpread(_objectSpread({}, DEFAULT_PROPS), {}, {
    disabled: true
  }));
}).add("Modal Info", function () {
  return renderModal(_objectSpread(_objectSpread({}, DEFAULT_PROPS), {}, {
    onSubmit: (0, _addonActions.action)("submit and hide"),
    submitBtnText: "OK"
  }));
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Content = exports.Modal = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styles = require("@next/styles");

var _templateObject, _templateObject2;

var Modal = _styles.styled.div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    width: 100%;\n"])));

exports.Modal = Modal;

var Content = _styles.styled.div(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n    padding: ", ";\n"])), function (_ref) {
  var spacing = _ref.theme.spacing;
  return "4rem ".concat(spacing.gutter, " 1.8rem ").concat(spacing.gutter);
});

exports.Content = Content;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Overlay = require("./Overlay");

Object.keys(_Overlay).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _Overlay[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _Overlay[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Overlay = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _react = _interopRequireWildcard(require("react"));

var ReactDOM = _interopRequireWildcard(require("react-dom"));

var _reactTransitionGroup = require("react-transition-group");

var S = _interopRequireWildcard(require("./styles"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

var Overlay = function Overlay(_ref) {
  var children = _ref.children,
      _ref$duration = _ref.duration,
      duration = _ref$duration === void 0 ? 600 : _ref$duration,
      hide = _ref.hide,
      _ref$position = _ref.position,
      position = _ref$position === void 0 ? "center" : _ref$position,
      show = _ref.show,
      _ref$transparent = _ref.transparent,
      transparent = _ref$transparent === void 0 ? false : _ref$transparent,
      target = _ref.target,
      testingContext = _ref.testingContext,
      testingContextId = _ref.testingContextId;

  var _useState = (0, _react.useState)(target || document.getElementById("modal-root")),
      portalTarget = _useState[0],
      setPortalTarget = _useState[1];

  var animationProps = {
    open: show,
    position: position
  };
  (0, _react.useEffect)(function () {
    if (target) {
      setPortalTarget(target);
    }
  }, [target]);
  return portalTarget && /*#__PURE__*/ReactDOM.createPortal(__jsx(_reactTransitionGroup.Transition, {
    "in": show,
    timeout: duration,
    unmountOnExit: true
  }, function (state) {
    return __jsx(S.Overlay, (0, _extends2["default"])({}, animationProps, {
      state: state,
      onClick: hide,
      transparent: transparent,
      "data-test": testingContext,
      "data-test-id": testingContextId
    }), __jsx(S.Lightbox, (0, _extends2["default"])({}, animationProps, {
      state: state,
      onClick: function onClick(e) {
        return e.stopPropagation();
      }
    }), children));
  }), portalTarget);
};

exports.Overlay = Overlay;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _addonActions = require("@storybook/addon-actions");

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _index = require("./index");

var __jsx = _react2["default"].createElement;

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var style = {
  padding: "5rem 4rem",
  "text-align": "center"
};

var Children = function Children() {
  return __jsx("div", {
    style: style
  }, "Some content");
};

var portalRoot = document.getElementById("portal-root");

if (!portalRoot) {
  portalRoot = document.createElement("div");
  portalRoot.setAttribute("id", "portal-root");
  document.body.appendChild(portalRoot);
}

var position = "center";
var DEFAULT_PROPS = {
  children: Children,
  hide: (0, _addonActions.action)("hide"),
  position: position,
  show: true,
  target: portalRoot
};
(0, _react.storiesOf)("@mzawadie/prototype/organisms/Overlay", module).addParameters({
  component: _index.Overlay
}).add("Position center", function () {
  return __jsx(_index.Overlay, DEFAULT_PROPS, __jsx(Children, null));
}).add("Position left", function () {
  var position = "left";

  var PROPS = _objectSpread(_objectSpread({}, DEFAULT_PROPS), {}, {
    position: position
  });

  return __jsx(_index.Overlay, PROPS, __jsx(Children, null));
}).add("Position right", function () {
  var position = "right";

  var PROPS = _objectSpread(_objectSpread({}, DEFAULT_PROPS), {}, {
    position: position
  });

  return __jsx(_index.Overlay, PROPS, __jsx(Children, null));
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Overlay = exports.Lightbox = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styles = require("@next/styles");

var _styledComponents = require("styled-components");

var _templateObject, _templateObject2;

var getTranslate = function getTranslate(side) {
  return side === "left" ? "-100%" : "100%";
};

var slideAnimation = function slideAnimation(open, side) {
  var initialValue = open ? getTranslate(side) : 0;
  var endValue = open ? 0 : getTranslate(side);
  return (0, _styledComponents.keyframes)(["from{transform:translateX(", ");}to{transform:translateX(", ");}"], initialValue, endValue);
};

var opacity = {
  entered: 1,
  entering: 0,
  exited: 0,
  exiting: 0,
  unmounted: 0
};
var justify = {
  center: "center",
  left: "flex-start",
  right: "flex-end"
};
var lightboxWidth = {
  center: "auto",
  left: "100%",
  right: "100%"
};

var lightboxHeight = function lightboxHeight(width) {
  return {
    center: "".concat(width, "px"),
    left: "auto",
    right: "auto"
  };
};

var Lightbox = _styles.styled.div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    display: flex;\n    position: relative;\n    width: ", ";\n    min-height: ", "px;\n    height: ", ";\n    background-color: ", ";\n    ", "\n"])), function (_ref) {
  var position = _ref.position,
      modal = _ref.theme.modal;
  return lightboxHeight(modal.modalWidth)[position];
}, function (props) {
  return props.theme.modal.modalMinHeight;
}, function (_ref2) {
  var position = _ref2.position;
  return lightboxWidth[position];
}, function (props) {
  return props.theme.colors.white;
}, function (_ref3) {
  var open = _ref3.open,
      position = _ref3.position;

  if (position === "left" || position === "right") {
    return (0, _styledComponents.css)(["", ":0;transform:translateX(", ");animation:", " 0.4s both;animation-delay:", ";"], position, getTranslate(position), slideAnimation(open, position), open ? ".1s" : 0);
  }
});

exports.Lightbox = Lightbox;
Lightbox.displayName = "S.Lightbox";

var Overlay = _styles.styled.div(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n    display: flex;\n    position: fixed;\n    overflow-y: auto;\n    width: 100%;\n    height: 100%;\n    min-height: 100vh;\n    top: 0;\n    z-index: 2;\n    transition: opacity 0.2s ease;\n    transition-delay: ", ";\n    background-color: ", ";\n    align-items: center;\n    justify-content: ", ";\n    opacity: ", ";\n"])), function (_ref4) {
  var open = _ref4.open;
  return open ? 0 : ".4s";
}, function (_ref5) {
  var transparent = _ref5.transparent,
      theme = _ref5.theme;
  return transparent ? "" : theme.colors.overlay;
}, function (_ref6) {
  var position = _ref6.position;
  return justify[position];
}, function (_ref7) {
  var state = _ref7.state;
  return opacity[state];
});

exports.Overlay = Overlay;
Overlay.displayName = "S.Overlay";
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.eightImages = exports.threeImages = exports.oneImage = void 0;

var _static = _interopRequireDefault(require("./static.png"));

var oneImage = [{
  alt: "product",
  url: _static["default"],
  url2x: _static["default"]
}];
exports.oneImage = oneImage;
var threeImages = [].concat(oneImage, oneImage, oneImage);
exports.threeImages = threeImages;
var eightImages = [].concat(oneImage, oneImage, oneImage, oneImage, oneImage, oneImage, oneImage, oneImage);
exports.eightImages = eightImages;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ProductGallery = require("./ProductGallery");

Object.keys(_ProductGallery).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _ProductGallery[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _ProductGallery[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ProductGallery = void 0;

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _atoms = require("@mzawadie/prototype/atoms");

var _molecules = require("@mzawadie/prototype/molecules");

var _react = _interopRequireDefault(require("react"));

var _reactIntersectionObserver = require("react-intersection-observer");

var S = _interopRequireWildcard(require("./styles"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;
var MINIMAL_NUMBER_OF_IMAGES_FOR_BUTTONS = 4;

var ProductGallery = function ProductGallery(_ref) {
  var images = _ref.images;

  var _React$useState = _react["default"].useState(0),
      _React$useState2 = (0, _slicedToArray2["default"])(_React$useState, 2),
      imageIndex = _React$useState2[0],
      setImageIndex = _React$useState2[1];

  var displayButtons = images.length > MINIMAL_NUMBER_OF_IMAGES_FOR_BUTTONS;

  _react["default"].useEffect(function () {
    if (imageIndex >= images.length) {
      setImageIndex(0);
    }
  }, [images]);

  var bottomImageRef = _react["default"].useRef(null);

  var topImageRef = _react["default"].useRef(null);

  var _useInView = (0, _reactIntersectionObserver.useInView)({
    threshold: 0.5
  }),
      _useInView2 = (0, _slicedToArray2["default"])(_useInView, 2),
      topImageIntersectionObserver = _useInView2[0],
      topImageInView = _useInView2[1];

  var _useInView3 = (0, _reactIntersectionObserver.useInView)({
    threshold: 0.5
  }),
      _useInView4 = (0, _slicedToArray2["default"])(_useInView3, 2),
      bottomImageIntersectionObserver = _useInView4[0],
      bottomImageInView = _useInView4[1];

  var setBottomRef = _react["default"].useCallback(function (node) {
    bottomImageRef.current = node;
    bottomImageIntersectionObserver(node);
  }, [bottomImageIntersectionObserver]);

  var setTopRef = _react["default"].useCallback(function (node) {
    topImageRef.current = node;
    topImageIntersectionObserver(node);
  }, [topImageIntersectionObserver]);

  var setIntersectionObserver = function setIntersectionObserver(index, lengthOfArray) {
    if (lengthOfArray > MINIMAL_NUMBER_OF_IMAGES_FOR_BUTTONS) {
      if (index === 0) {
        return setTopRef;
      }

      if (index === lengthOfArray - 1) {
        return setBottomRef;
      }
    }
  };

  return __jsx(S.Wrapper, {
    "data-test": "productPhotosGallery"
  }, __jsx(S.ThumbnailsContainer, null, !topImageInView && displayButtons && __jsx(S.TopButton, {
    onClick: function onClick() {
      if (topImageRef.current) {
        topImageRef.current.scrollIntoView({
          behavior: "smooth",
          block: "end",
          inline: "nearest"
        });
      }
    }
  }, __jsx(_atoms.Icon, {
    name: "select_arrow",
    size: 10
  })), !bottomImageInView && displayButtons && __jsx(S.BottomButton, {
    onClick: function onClick() {
      if (bottomImageRef.current) {
        bottomImageRef.current.scrollIntoView({
          behavior: "smooth",
          block: "end",
          inline: "nearest"
        });
      }
    }
  }, __jsx(_atoms.Icon, {
    name: "select_arrow",
    size: 10
  })), __jsx(S.ThumbnailList, null, __jsx("ul", null, images && images.length > 0 && images.map(function (image, index) {
    return __jsx("li", {
      key: index,
      "data-test": "galleryThumbnail",
      "data-test-id": index
    }, __jsx(S.Thumbnail, {
      ref: setIntersectionObserver(index, images.length),
      onClick: function onClick() {
        return setImageIndex(index);
      },
      onMouseEnter: function onMouseEnter() {
        return setImageIndex(index);
      },
      activeThumbnail: Boolean(index === imageIndex)
    }, __jsx(_molecules.CachedImage, {
      alt: image.alt,
      url: image.url
    })));
  })))), __jsx(S.Preview, {
    "data-test": "imagePreview"
  }, images && images.length > 0 && imageIndex < images.length && __jsx(_molecules.CachedImage, {
    alt: images[imageIndex].alt,
    url: images[imageIndex].url
  }), images.length === 0 && __jsx(_molecules.CachedImage, null)));
};

exports.ProductGallery = ProductGallery;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styles = require("@next/styles");

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _fixtures = require("./fixtures");

var _index = require("./index");

var _templateObject;

var __jsx = _react2["default"].createElement;

var Container = _styles.styled.div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])([""])));

(0, _react.storiesOf)("@mzawadie/prototype/organisms/ProductGallery", module).addParameters({
  component: _index.ProductGallery
}).add("default", function () {
  return __jsx(_index.ProductGallery, {
    images: _fixtures.oneImage
  });
}).add("three Images", function () {
  return __jsx(Container, null, __jsx(_index.ProductGallery, {
    images: _fixtures.threeImages
  }));
}).add("eight Images", function () {
  return __jsx(_index.ProductGallery, {
    images: _fixtures.eightImages
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Preview = exports.ThumbnailList = exports.ThumbnailsContainer = exports.BottomButton = exports.TopButton = exports.Button = exports.Thumbnail = exports.Wrapper = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styles = require("@next/styles");

var _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7, _templateObject8;

var Wrapper = _styles.styled.div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    display: grid;\n    grid-template-areas: \"sidebar preview\";\n    height: 100%;\n    grid-template-columns: 76px 1fr;\n    grid-column-gap: 40px;\n"])));

exports.Wrapper = Wrapper;

var Thumbnail = _styles.styled.div(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n    width: 76px;\n    display: flex;\n    border-width: 4px;\n    border-style: solid;\n    border-color: ", ";\n    justify-content: center;\n    height: 100px;\n    overflow: hidden;\n    img {\n        width: 100%;\n        object-fit: contain;\n    }\n\n    margin-top: 20px;\n    margin-bottom: 20px;\n"])), function (props) {
  return props.activeThumbnail === true ? props.theme.colors.thumbnailBorder : "transparent";
});

exports.Thumbnail = Thumbnail;

var Button = _styles.styled.div(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["\n    height: 50px;\n    width: 100%;\n    position: absolute;\n    z-index: 1;\n    background-color: rgba(50, 50, 50, 0.3);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n"])));

exports.Button = Button;
var TopButton = (0, _styles.styled)(Button)(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2["default"])(["\n    top: 0%;\n\n    transform: rotate(180deg);\n"])));
exports.TopButton = TopButton;
var BottomButton = (0, _styles.styled)(Button)(_templateObject5 || (_templateObject5 = (0, _taggedTemplateLiteral2["default"])(["\n    bottom: 0%;\n"])));
exports.BottomButton = BottomButton;

var ThumbnailsContainer = _styles.styled.div(_templateObject6 || (_templateObject6 = (0, _taggedTemplateLiteral2["default"])(["\n    position: relative;\n"])));

exports.ThumbnailsContainer = ThumbnailsContainer;

var ThumbnailList = _styles.styled.div(_templateObject7 || (_templateObject7 = (0, _taggedTemplateLiteral2["default"])(["\n    position: relative;\n    height: 100%;\n    overflow-y: scroll;\n    overflow-x: hidden;\n    scrollbar-width: none;\n    ::-webkit-scrollbar {\n        width: 0px;\n    }\n\n    ul {\n        position: absolute;\n        display: block;\n        padding: 0;\n        margin: 0;\n    }\n"])));

exports.ThumbnailList = ThumbnailList;

var Preview = _styles.styled.div(_templateObject8 || (_templateObject8 = (0, _taggedTemplateLiteral2["default"])(["\n    grid-area: preview;\n    width: auto;\n    max-height: 560px;\n    overflow: hidden;\n    img {\n        height: 100%;\n        width: 100%;\n        object-fit: contain;\n    }\n"])));

exports.Preview = Preview;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PRODUCTS = void 0;
var PRODUCTS = [{
  __typename: "Product",
  id: "UHJvZHVjdDo3Mg==1",
  name: "Apple Juice",
  slug: "apple-juice",
  seoDescription: "Apple Juice Description",
  seoTitle: "Apple Juice",
  isAvailableForPurchase: true,
  availableForPurchase: "2020-08-31",
  pricing: {
    __typename: "ProductPricingInfo",
    onSale: true,
    priceRange: {
      __typename: "TaxedMoneyRange",
      start: {
        __typename: "TaxedMoney",
        gross: {
          __typename: "Money",
          amount: 1.8,
          currency: "USD"
        },
        net: {
          __typename: "Money",
          amount: 1.8,
          currency: "USD"
        }
      },
      stop: {
        __typename: "TaxedMoney",
        gross: {
          __typename: "Money",
          amount: 4.2,
          currency: "USD"
        },
        net: {
          __typename: "Money",
          amount: 4.2,
          currency: "USD"
        }
      }
    },
    priceRangeUndiscounted: {
      __typename: "TaxedMoneyRange",
      start: {
        __typename: "TaxedMoney",
        gross: {
          __typename: "Money",
          amount: 3,
          currency: "USD"
        },
        net: {
          __typename: "Money",
          amount: 3,
          currency: "USD"
        }
      },
      stop: {
        __typename: "TaxedMoney",
        gross: {
          __typename: "Money",
          amount: 7,
          currency: "USD"
        },
        net: {
          __typename: "Money",
          amount: 7,
          currency: "USD"
        }
      }
    }
  },
  thumbnail: {
    __typename: "Image",
    alt: "",
    url: "http://localhost:8000/media/__sized__/products/saleordemoproduct_fd_juice_06_102xcfi-thumbnail-255x255.png"
  },
  thumbnail2x: {
    __typename: "Image",
    url: "http://localhost:8000/media/__sized__/products/saleordemoproduct_fd_juice_06_102xcfi-thumbnail-510x510.png"
  }
}, {
  __typename: "Product",
  id: "UHJvZHVjdDo3Mg==2",
  name: "Apple Juice",
  slug: "apple-juice",
  seoDescription: "Apple Juice Description",
  seoTitle: "Apple Juice",
  isAvailableForPurchase: true,
  availableForPurchase: "2020-08-31",
  pricing: {
    __typename: "ProductPricingInfo",
    onSale: true,
    priceRange: {
      __typename: "TaxedMoneyRange",
      start: {
        __typename: "TaxedMoney",
        gross: {
          __typename: "Money",
          amount: 1.8,
          currency: "USD"
        },
        net: {
          __typename: "Money",
          amount: 1.8,
          currency: "USD"
        }
      },
      stop: {
        __typename: "TaxedMoney",
        gross: {
          __typename: "Money",
          amount: 4.2,
          currency: "USD"
        },
        net: {
          __typename: "Money",
          amount: 4.2,
          currency: "USD"
        }
      }
    },
    priceRangeUndiscounted: {
      __typename: "TaxedMoneyRange",
      start: {
        __typename: "TaxedMoney",
        gross: {
          __typename: "Money",
          amount: 3,
          currency: "USD"
        },
        net: {
          __typename: "Money",
          amount: 3,
          currency: "USD"
        }
      },
      stop: {
        __typename: "TaxedMoney",
        gross: {
          __typename: "Money",
          amount: 7,
          currency: "USD"
        },
        net: {
          __typename: "Money",
          amount: 7,
          currency: "USD"
        }
      }
    }
  },
  thumbnail: {
    __typename: "Image",
    alt: "",
    url: "http://localhost:8000/media/__sized__/products/saleordemoproduct_fd_juice_06_102xcfi-thumbnail-255x255.png"
  },
  thumbnail2x: {
    __typename: "Image",
    url: "http://localhost:8000/media/__sized__/products/saleordemoproduct_fd_juice_06_102xcfi-thumbnail-510x510.png"
  }
}, {
  __typename: "Product",
  id: "UHJvZHVjdDo3Mg==3",
  name: "Apple Juice",
  slug: "apple-juice",
  seoDescription: "Apple Juice Description",
  seoTitle: "Apple Juice",
  isAvailableForPurchase: true,
  availableForPurchase: "2020-08-31",
  pricing: {
    __typename: "ProductPricingInfo",
    onSale: true,
    priceRange: {
      __typename: "TaxedMoneyRange",
      start: {
        __typename: "TaxedMoney",
        gross: {
          __typename: "Money",
          amount: 1.8,
          currency: "USD"
        },
        net: {
          __typename: "Money",
          amount: 1.8,
          currency: "USD"
        }
      },
      stop: {
        __typename: "TaxedMoney",
        gross: {
          __typename: "Money",
          amount: 4.2,
          currency: "USD"
        },
        net: {
          __typename: "Money",
          amount: 4.2,
          currency: "USD"
        }
      }
    },
    priceRangeUndiscounted: {
      __typename: "TaxedMoneyRange",
      start: {
        __typename: "TaxedMoney",
        gross: {
          __typename: "Money",
          amount: 3,
          currency: "USD"
        },
        net: {
          __typename: "Money",
          amount: 3,
          currency: "USD"
        }
      },
      stop: {
        __typename: "TaxedMoney",
        gross: {
          __typename: "Money",
          amount: 7,
          currency: "USD"
        },
        net: {
          __typename: "Money",
          amount: 7,
          currency: "USD"
        }
      }
    }
  },
  thumbnail: {
    __typename: "Image",
    alt: "",
    url: "http://localhost:8000/media/__sized__/products/saleordemoproduct_fd_juice_06_102xcfi-thumbnail-255x255.png"
  },
  thumbnail2x: {
    __typename: "Image",
    url: "http://localhost:8000/media/__sized__/products/saleordemoproduct_fd_juice_06_102xcfi-thumbnail-510x510.png"
  }
}, {
  __typename: "Product",
  id: "UHJvZHVjdDo3Mg==4",
  name: "Apple Juice",
  slug: "apple-juice",
  seoDescription: "Apple Juice Description",
  seoTitle: "Apple Juice",
  isAvailableForPurchase: true,
  availableForPurchase: "2020-08-31",
  pricing: {
    __typename: "ProductPricingInfo",
    onSale: true,
    priceRange: {
      __typename: "TaxedMoneyRange",
      start: {
        __typename: "TaxedMoney",
        gross: {
          __typename: "Money",
          amount: 1.8,
          currency: "USD"
        },
        net: {
          __typename: "Money",
          amount: 1.8,
          currency: "USD"
        }
      },
      stop: {
        __typename: "TaxedMoney",
        gross: {
          __typename: "Money",
          amount: 4.2,
          currency: "USD"
        },
        net: {
          __typename: "Money",
          amount: 4.2,
          currency: "USD"
        }
      }
    },
    priceRangeUndiscounted: {
      __typename: "TaxedMoneyRange",
      start: {
        __typename: "TaxedMoney",
        gross: {
          __typename: "Money",
          amount: 3,
          currency: "USD"
        },
        net: {
          __typename: "Money",
          amount: 3,
          currency: "USD"
        }
      },
      stop: {
        __typename: "TaxedMoney",
        gross: {
          __typename: "Money",
          amount: 7,
          currency: "USD"
        },
        net: {
          __typename: "Money",
          amount: 7,
          currency: "USD"
        }
      }
    }
  },
  thumbnail: {
    __typename: "Image",
    alt: "",
    url: "http://localhost:8000/media/__sized__/products/saleordemoproduct_fd_juice_06_102xcfi-thumbnail-255x255.png"
  },
  thumbnail2x: {
    __typename: "Image",
    url: "http://localhost:8000/media/__sized__/products/saleordemoproduct_fd_juice_06_102xcfi-thumbnail-510x510.png"
  }
}, {
  __typename: "Product",
  id: "UHJvZHVjdDo3Mg==5",
  name: "Apple Juice",
  slug: "apple-juice",
  seoDescription: "Apple Juice Description",
  seoTitle: "Apple Juice",
  isAvailableForPurchase: true,
  availableForPurchase: "2020-08-31",
  pricing: {
    __typename: "ProductPricingInfo",
    onSale: true,
    priceRange: {
      __typename: "TaxedMoneyRange",
      start: {
        __typename: "TaxedMoney",
        gross: {
          __typename: "Money",
          amount: 1.8,
          currency: "USD"
        },
        net: {
          __typename: "Money",
          amount: 1.8,
          currency: "USD"
        }
      },
      stop: {
        __typename: "TaxedMoney",
        gross: {
          __typename: "Money",
          amount: 4.2,
          currency: "USD"
        },
        net: {
          __typename: "Money",
          amount: 4.2,
          currency: "USD"
        }
      }
    },
    priceRangeUndiscounted: {
      __typename: "TaxedMoneyRange",
      start: {
        __typename: "TaxedMoney",
        gross: {
          __typename: "Money",
          amount: 3,
          currency: "USD"
        },
        net: {
          __typename: "Money",
          amount: 3,
          currency: "USD"
        }
      },
      stop: {
        __typename: "TaxedMoney",
        gross: {
          __typename: "Money",
          amount: 7,
          currency: "USD"
        },
        net: {
          __typename: "Money",
          amount: 7,
          currency: "USD"
        }
      }
    }
  },
  thumbnail: {
    __typename: "Image",
    alt: "",
    url: "http://localhost:8000/media/__sized__/products/saleordemoproduct_fd_juice_06_102xcfi-thumbnail-255x255.png"
  },
  thumbnail2x: {
    __typename: "Image",
    url: "http://localhost:8000/media/__sized__/products/saleordemoproduct_fd_juice_06_102xcfi-thumbnail-510x510.png"
  }
}, {
  __typename: "Product",
  id: "UHJvZHVjdDo3Mg==6",
  name: "Apple Juice",
  slug: "apple-juice",
  seoDescription: "Apple Juice Description",
  seoTitle: "Apple Juice",
  isAvailableForPurchase: true,
  availableForPurchase: "2020-08-31",
  pricing: {
    __typename: "ProductPricingInfo",
    onSale: true,
    priceRange: {
      __typename: "TaxedMoneyRange",
      start: {
        __typename: "TaxedMoney",
        gross: {
          __typename: "Money",
          amount: 1.8,
          currency: "USD"
        },
        net: {
          __typename: "Money",
          amount: 1.8,
          currency: "USD"
        }
      },
      stop: {
        __typename: "TaxedMoney",
        gross: {
          __typename: "Money",
          amount: 4.2,
          currency: "USD"
        },
        net: {
          __typename: "Money",
          amount: 4.2,
          currency: "USD"
        }
      }
    },
    priceRangeUndiscounted: {
      __typename: "TaxedMoneyRange",
      start: {
        __typename: "TaxedMoney",
        gross: {
          __typename: "Money",
          amount: 3,
          currency: "USD"
        },
        net: {
          __typename: "Money",
          amount: 3,
          currency: "USD"
        }
      },
      stop: {
        __typename: "TaxedMoney",
        gross: {
          __typename: "Money",
          amount: 7,
          currency: "USD"
        },
        net: {
          __typename: "Money",
          amount: 7,
          currency: "USD"
        }
      }
    }
  },
  thumbnail: {
    __typename: "Image",
    alt: "",
    url: "http://localhost:8000/media/__sized__/products/saleordemoproduct_fd_juice_06_102xcfi-thumbnail-255x255.png"
  },
  thumbnail2x: {
    __typename: "Image",
    url: "http://localhost:8000/media/__sized__/products/saleordemoproduct_fd_juice_06_102xcfi-thumbnail-510x510.png"
  }
}];
exports.PRODUCTS = PRODUCTS;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ProductList = require("./ProductList");

Object.keys(_ProductList).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _ProductList[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _ProductList[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ProductList = void 0;

var _core = require("@mzawadie/core");

var _atoms = require("@mzawadie/prototype/atoms");

var _molecules = require("@mzawadie/prototype/molecules");

var _link = _interopRequireDefault(require("next/link"));

var _react = _interopRequireDefault(require("react"));

var _reactIntl = require("react-intl");

var S = _interopRequireWildcard(require("./styles"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

var ProductList = function ProductList(_ref) {
  var products = _ref.products,
      _ref$canLoadMore = _ref.canLoadMore,
      canLoadMore = _ref$canLoadMore === void 0 ? false : _ref$canLoadMore,
      _ref$loading = _ref.loading,
      loading = _ref$loading === void 0 ? false : _ref$loading,
      testingContextId = _ref.testingContextId,
      _ref$onLoadMore = _ref.onLoadMore,
      onLoadMore = _ref$onLoadMore === void 0 ? function () {
    return null;
  } : _ref$onLoadMore;
  return __jsx(_react["default"].Fragment, null, __jsx(S.List, {
    "data-test": "productList",
    "data-test-id": testingContextId
  }, products.map(function (product) {
    var id = product.id,
        slug = product.slug,
        name = product.name;
    return slug && name && __jsx(_link["default"], {
      href: (0, _core.generateProductUrl)(id, slug),
      key: slug
    }, __jsx("a", null, __jsx(_molecules.ProductTile, {
      product: product
    })));
  })), __jsx(S.Loader, null, loading ? __jsx(_atoms.Loader, null) : canLoadMore && __jsx(_atoms.Button, {
    testingContext: "loadMoreProductsButton",
    color: "secondary",
    onClick: onLoadMore
  }, __jsx(_reactIntl.FormattedMessage, {
    id: "next.prototype.organisms.ProductList.ProductList.2783099424",
    defaultMessage: "More +"
  }))));
};

exports.ProductList = ProductList;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _fixtures = require("./fixtures");

var _index = require("./index");

var __jsx = _react2["default"].createElement;
(0, _react.storiesOf)("@mzawadie/prototype/organisms/ProductList", module).addParameters({
  component: _index.ProductList
}).add("default", function () {
  return __jsx(_index.ProductList, {
    products: _fixtures.PRODUCTS,
    canLoadMore: true,
    loading: false,
    onLoadMore: function onLoadMore() {
      return null;
    },
    testingContextId: "testCategory"
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Loader = exports.List = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styles = require("@next/styles");

var _templateObject, _templateObject2, _templateObject3, _templateObject4;

var List = _styles.styled.div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr;\n    grid-gap: 2rem;\n\n    ", "\n\n    ", "\n"])), _styles.media.largeScreen(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n    grid-template-columns: 1fr 1fr;\n    grid-gap: 1.5rem;\n  "]))), _styles.media.smallScreen(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["\n    grid-template-columns: 1fr;\n    grid-gap: 1rem;\n  "]))));

exports.List = List;

var Loader = _styles.styled.div(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2["default"])(["\n    text-align: center;\n    margin: 2.5rem 0;\n"])));

exports.Loader = Loader;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.productVariants = void 0;
// tslint:disable:object-literal-sort-keys
var productVariants = [{
  id: "UHJvZHVjdFZhcmlhbnQ6MjAy",
  sku: "93855755",
  name: "1l / cotton / yellow",
  quantityAvailable: 50,
  images: [],
  pricing: {
    onSale: false,
    priceUndiscounted: {
      gross: {
        amount: 3,
        currency: "USD",
        __typename: "Money"
      },
      net: {
        amount: 3,
        currency: "USD",
        __typename: "Money"
      },
      __typename: "TaxedMoney"
    },
    price: {
      gross: {
        amount: 3,
        currency: "USD",
        __typename: "Money"
      },
      net: {
        amount: 3,
        currency: "USD",
        __typename: "Money"
      },
      __typename: "TaxedMoney"
    },
    __typename: "VariantPricingInfo"
  },
  attributes: [{
    attribute: {
      id: "QXR0cmlidXRlOjI1",
      name: "Material",
      slug: "material",
      __typename: "Attribute"
    },
    values: [{
      id: "QXR0cmlidXRlVmFsdWU6ODI=",
      name: "cotton",
      value: "cotton",
      __typename: "AttributeValue"
    }],
    __typename: "SelectedAttribute"
  }, {
    attribute: {
      id: "QXR0cmlidXRlOjIw",
      name: "Color",
      slug: "color",
      __typename: "Attribute"
    },
    values: [{
      id: "QXR0cmlidXRlVmFsdWU6ODM=",
      name: "yellow",
      value: "yellow",
      __typename: "AttributeValue"
    }],
    __typename: "SelectedAttribute"
  }, {
    attribute: {
      id: "QXR0cmlidXRlOjE1",
      name: "Size",
      slug: "size",
      __typename: "Attribute"
    },
    values: [{
      id: "QXR0cmlidXRlVmFsdWU6NDc=",
      name: "1l",
      value: "1l",
      __typename: "AttributeValue"
    }],
    __typename: "SelectedAttribute"
  }],
  __typename: "ProductVariant"
}, {
  id: "UHJvZHVjdFZhcmlhbnQ6MjA0",
  sku: "80884671",
  name: "2l / wool / red",
  quantityAvailable: 50,
  images: [],
  pricing: {
    onSale: false,
    priceUndiscounted: {
      gross: {
        amount: 7,
        currency: "USD",
        __typename: "Money"
      },
      net: {
        amount: 7,
        currency: "USD",
        __typename: "Money"
      },
      __typename: "TaxedMoney"
    },
    price: {
      gross: {
        amount: 7,
        currency: "USD",
        __typename: "Money"
      },
      net: {
        amount: 7,
        currency: "USD",
        __typename: "Money"
      },
      __typename: "TaxedMoney"
    },
    __typename: "VariantPricingInfo"
  },
  attributes: [{
    attribute: {
      id: "QXR0cmlidXRlOjI1",
      name: "Material",
      slug: "material",
      __typename: "Attribute"
    },
    values: [{
      id: "QXR0cmlidXRlVmFsdWU6ODY=",
      name: "wool",
      value: "wool",
      __typename: "AttributeValue"
    }],
    __typename: "SelectedAttribute"
  }, {
    attribute: {
      id: "QXR0cmlidXRlOjIw",
      name: "Color",
      slug: "color",
      __typename: "Attribute"
    },
    values: [{
      id: "QXR0cmlidXRlVmFsdWU6ODQ=",
      name: "red",
      value: "red",
      __typename: "AttributeValue"
    }],
    __typename: "SelectedAttribute"
  }, {
    attribute: {
      id: "QXR0cmlidXRlOjE1",
      name: "Size",
      slug: "size",
      __typename: "Attribute"
    },
    values: [{
      id: "QXR0cmlidXRlVmFsdWU6NDg=",
      name: "2l",
      value: "2l",
      __typename: "AttributeValue"
    }],
    __typename: "SelectedAttribute"
  }],
  __typename: "ProductVariant"
}, {
  id: "UHJvZHVjdFZhcmlhbnQ6MzE2",
  sku: "100",
  name: "500ml / wool / turquoise",
  quantityAvailable: 50,
  images: [],
  pricing: {
    onSale: false,
    priceUndiscounted: {
      gross: {
        amount: 12,
        currency: "USD",
        __typename: "Money"
      },
      net: {
        amount: 12,
        currency: "USD",
        __typename: "Money"
      },
      __typename: "TaxedMoney"
    },
    price: {
      gross: {
        amount: 12,
        currency: "USD",
        __typename: "Money"
      },
      net: {
        amount: 12,
        currency: "USD",
        __typename: "Money"
      },
      __typename: "TaxedMoney"
    },
    __typename: "VariantPricingInfo"
  },
  attributes: [{
    attribute: {
      id: "QXR0cmlidXRlOjI1",
      name: "Material",
      slug: "material",
      __typename: "Attribute"
    },
    values: [{
      id: "QXR0cmlidXRlVmFsdWU6ODY=",
      name: "wool",
      value: "wool",
      __typename: "AttributeValue"
    }],
    __typename: "SelectedAttribute"
  }, {
    attribute: {
      id: "QXR0cmlidXRlOjIw",
      name: "Color",
      slug: "color",
      __typename: "Attribute"
    },
    values: [{
      id: "QXR0cmlidXRlVmFsdWU6ODU=",
      name: "turquoise",
      value: "turquoise",
      __typename: "AttributeValue"
    }],
    __typename: "SelectedAttribute"
  }, {
    attribute: {
      id: "QXR0cmlidXRlOjE1",
      name: "Size",
      slug: "size",
      __typename: "Attribute"
    },
    values: [{
      id: "QXR0cmlidXRlVmFsdWU6NDY=",
      name: "500ml",
      value: "500ml",
      __typename: "AttributeValue"
    }],
    __typename: "SelectedAttribute"
  }],
  __typename: "ProductVariant"
}];
exports.productVariants = productVariants;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
var _exportNames = {};
Object.defineProperty(exports, "default", {
  enumerable: true,
  get: function get() {
    return _ProductVariantPicker["default"];
  }
});

var _ProductVariantPicker = _interopRequireWildcard(require("./ProductVariantPicker"));

Object.keys(_ProductVariantPicker).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;
  if (key in exports && exports[key] === _ProductVariantPicker[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _ProductVariantPicker[key];
    }
  });
});

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ProductVariantAttributeSelect = void 0;

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _atoms = require("@mzawadie/prototype/atoms");

var _molecules = require("@mzawadie/prototype/molecules");

var _hooks = require("@next/hooks");

var _react = _interopRequireWildcard(require("react"));

var _reactIntl = require("react-intl");

var _SelectSidebar = require("../SelectSidebar");

var S = _interopRequireWildcard(require("./styles"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

var ProductVariantAttributeSelect = function ProductVariantAttributeSelect(_ref) {
  var _ref$selectSidebar = _ref.selectSidebar,
      selectSidebar = _ref$selectSidebar === void 0 ? false : _ref$selectSidebar,
      selectSidebarTarget = _ref.selectSidebarTarget,
      productVariantsAttributeId = _ref.productVariantsAttributeId,
      productVariants = _ref.productVariants,
      productVariantsAttribute = _ref.productVariantsAttribute,
      productVariantsAttributesSelectedValues = _ref.productVariantsAttributesSelectedValues,
      onChangeSelection = _ref.onChangeSelection,
      onClearSelection = _ref.onClearSelection,
      defaultValue = _ref.defaultValue;

  var _React$useState = _react["default"].useState(false),
      _React$useState2 = (0, _slicedToArray2["default"])(_React$useState, 2),
      showSelectSidebar = _React$useState2[0],
      setShowSelectSidebar = _React$useState2[1];

  var selectableProductVariantsAttributeValues = (0, _hooks.useSelectableProductVariantsAttributeValues)(productVariantsAttributeId, productVariants, productVariantsAttributesSelectedValues);
  var intl = (0, _reactIntl.useIntl)();
  var selectedAttribute = productVariantsAttributesSelectedValues && productVariantsAttributesSelectedValues[productVariantsAttributeId];
  var selectedValue = selectedAttribute && {
    disabled: false,
    id: selectedAttribute.id,
    label: selectedAttribute.name,
    value: selectedAttribute.value
  };
  var attributeOptions = productVariantsAttribute.values.filter(function (value) {
    return value;
  }).map(function (value) {
    var selectableAttribute = selectableProductVariantsAttributeValues[productVariantsAttributeId];
    var isOptionDisabled = selectableAttribute && !selectableAttribute.values.includes(value);
    return {
      disabled: isOptionDisabled,
      id: value.id,
      label: value.name,
      value: value.value
    };
  });
  var selectLabel = productVariantsAttribute.attribute.name || "";
  var selectedValuesList = selectedValue ? [selectedValue.value] : [];
  var disabledValuesList = attributeOptions.filter(function (optionValue) {
    return optionValue.disabled;
  }).map(function (optionValue) {
    return optionValue.value;
  });

  var onSelectValueHandler = function onSelectValueHandler(optionValue, callback) {
    if (disabledValuesList.every(function (disabledValue) {
      return disabledValue !== optionValue;
    })) {
      onChangeSelection(optionValue);

      if (callback) {
        callback();
      }
    }
  };

  var handleSelectValueInSidebar = function handleSelectValueInSidebar(optionValue) {
    return onSelectValueHandler(optionValue, function () {
      return setShowSelectSidebar(false);
    });
  };

  var getRightInputContent = function getRightInputContent(isInputFilled) {
    if (isInputFilled) {
      return __jsx(S.SelectIndicator, {
        onClick: onClearSelection
      }, __jsx(_atoms.Icon, {
        name: "select_x",
        size: 10
      }));
    }

    return __jsx(S.SelectIndicator, {
      onClick: function onClick() {
        return setShowSelectSidebar(true);
      }
    }, __jsx(_atoms.Icon, {
      name: "subcategories",
      size: 10
    }));
  };

  (0, _react.useEffect)(function () {
    if (defaultValue) {
      onSelectValueHandler(defaultValue);
    }
  }, [defaultValue]);

  if (selectSidebar) {
    return __jsx(_react["default"].Fragment, null, __jsx(_atoms.Input, {
      onFocus: function onFocus() {
        return setShowSelectSidebar(true);
      },
      label: selectLabel,
      value: selectedValue ? selectedValue.value : "",
      onChange: function onChange() {
        return null;
      },
      contentRight: getRightInputContent(!!selectedValue),
      readOnly: true,
      name: productVariantsAttribute.attribute.slug ? productVariantsAttribute.attribute.slug : "",
      "data-test": "variantPicker"
    }), __jsx(_SelectSidebar.SelectSidebar, {
      options: attributeOptions,
      selectedOptions: selectedValuesList,
      disabledOptions: disabledValuesList,
      title: intl.formatMessage({
        "id": "next.prototype.organisms.ProductVariantPicker.ProductVariantAttributeSelect.1125254976",
        "defaultMessage": "Please select {selectLabel}"
      }, {
        selectLabel: selectLabel
      }),
      show: showSelectSidebar,
      hide: function hide() {
        return setShowSelectSidebar(false);
      },
      onSelect: handleSelectValueInSidebar,
      target: selectSidebarTarget,
      testingContextId: productVariantsAttribute.attribute.slug ? productVariantsAttribute.attribute.slug : ""
    }));
  }

  return __jsx(_molecules.InputSelect, {
    name: productVariantsAttribute.attribute.id,
    label: selectLabel,
    value: selectedValue,
    options: attributeOptions,
    isOptionDisabled: function isOptionDisabled(optionValue) {
      return optionValue.disabled;
    },
    onChange: function onChange(optionValue) {
      return onChangeSelection(optionValue === null || optionValue === void 0 ? void 0 : optionValue.value);
    },
    clearable: true,
    clearValue: onClearSelection
  });
};

exports.ProductVariantAttributeSelect = ProductVariantAttributeSelect;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _hooks = require("@next/hooks");

var _react = _interopRequireWildcard(require("react"));

var _ProductVariantAttributeSelect = require("./ProductVariantAttributeSelect");

var S = _interopRequireWildcard(require("./styles"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

var ProductVariantPicker = function ProductVariantPicker(_ref) {
  var _ref$productVariants = _ref.productVariants,
      productVariants = _ref$productVariants === void 0 ? [] : _ref$productVariants,
      _ref$queryAttributes = _ref.queryAttributes,
      queryAttributes = _ref$queryAttributes === void 0 ? {} : _ref$queryAttributes,
      onAttributeChangeHandler = _ref.onAttributeChangeHandler,
      onChange = _ref.onChange,
      _ref$selectSidebar = _ref.selectSidebar,
      selectSidebar = _ref$selectSidebar === void 0 ? false : _ref$selectSidebar,
      selectSidebarTarget = _ref.selectSidebarTarget;
  var productVariantsAttributes = (0, _hooks.useProductVariantsAttributes)(productVariants);

  var _useProductVariantsAt = (0, _hooks.useProductVariantsAttributesValuesSelection)(productVariantsAttributes),
      _useProductVariantsAt2 = (0, _slicedToArray2["default"])(_useProductVariantsAt, 2),
      productVariantsAttributesSelectedValues = _useProductVariantsAt2[0],
      selectProductVariantsAttributesValue = _useProductVariantsAt2[1];

  (0, _react.useEffect)(function () {
    var selectedVariant = productVariants.find(function (productVariant) {
      return productVariant.attributes.every(function (productVariantAttribute) {
        var productVariantAttributeId = productVariantAttribute.attribute.id;
        return !!(productVariantAttribute.values[0] && productVariantsAttributesSelectedValues[productVariantAttributeId] && productVariantAttribute.values[0].id === productVariantsAttributesSelectedValues[productVariantAttributeId].id);
      });
    });

    if (onChange) {
      onChange(productVariantsAttributesSelectedValues, selectedVariant);
    }
  }, [productVariantsAttributesSelectedValues]);

  var onAttributeChange = function onAttributeChange(id, value, slug) {
    selectProductVariantsAttributesValue(id, value);
    onAttributeChangeHandler(slug, value);
  };

  return __jsx(S.Wrapper, null, Object.keys(productVariantsAttributes).map(function (productVariantsAttributeId) {
    var productVariantsAttribute = productVariantsAttributes[productVariantsAttributeId];
    var slug = productVariantsAttribute.attribute.slug;
    return __jsx(_ProductVariantAttributeSelect.ProductVariantAttributeSelect, {
      key: productVariantsAttributeId,
      selectSidebar: selectSidebar,
      selectSidebarTarget: selectSidebarTarget,
      productVariants: productVariants,
      productVariantsAttributeId: productVariantsAttributeId,
      productVariantsAttribute: productVariantsAttribute,
      defaultValue: queryAttributes[productVariantsAttributeId],
      productVariantsAttributesSelectedValues: productVariantsAttributesSelectedValues,
      onChangeSelection: function onChangeSelection(optionValue) {
        return onAttributeChange(productVariantsAttributeId, optionValue, slug);
      },
      onClearSelection: function onClearSelection() {
        return onAttributeChange(productVariantsAttributeId, null, slug);
      }
    });
  }));
};

ProductVariantPicker.displayName = "ProductVariantPicker";
var _default = ProductVariantPicker;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _addonActions = require("@storybook/addon-actions");

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _styledComponents = _interopRequireDefault(require("styled-components"));

var _ProductVariantPicker = _interopRequireDefault(require("./ProductVariantPicker"));

var _fixtures = require("./fixtures");

var __jsx = _react2["default"].createElement;
var portalRoot = document.getElementById("portal-root");

if (!portalRoot) {
  portalRoot = document.createElement("div");
  portalRoot.setAttribute("id", "portal-root");
  document.body.appendChild(portalRoot);
}

var Container = _styledComponents["default"].div.withConfig({
  displayName: "stories__Container",
  componentId: "sc-v678hr-0"
})(["width:600px;"]);

var withContainer = function withContainer(children) {
  return __jsx(Container, null, " ", children);
};

var PRODUCT_VARIANTS = _fixtures.productVariants;
var PROPS = {
  onAttributeChangeHandler: (0, _addonActions.action)("attribute change"),
  onChange: (0, _addonActions.action)("onChange"),
  productVariants: PRODUCT_VARIANTS,
  queryAttributes: {}
};
(0, _react.storiesOf)("@mzawadie/prototype/organisms/ProductVariantPicker", module).addParameters({
  component: _ProductVariantPicker["default"]
}).add("default", function () {
  return withContainer(__jsx(_ProductVariantPicker["default"], PROPS));
}).add("with sidebar", function () {
  return withContainer(__jsx(_ProductVariantPicker["default"], (0, _extends2["default"])({
    selectSidebar: true,
    selectSidebarTarget: portalRoot
  }, PROPS)));
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SelectIndicator = exports.Wrapper = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styles = require("@next/styles");

var _templateObject, _templateObject2;

var Wrapper = _styles.styled.div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    display: grid;\n    grid-template-columns: 1fr;\n"])));

exports.Wrapper = Wrapper;

var SelectIndicator = _styles.styled.div(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n    margin: 0 1rem 0 0;\n    cursor: pointer;\n"])));

exports.SelectIndicator = SelectIndicator;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _SelectSidebar = require("./SelectSidebar");

Object.keys(_SelectSidebar).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _SelectSidebar[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _SelectSidebar[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SelectSidebar = void 0;

var _atoms = require("@mzawadie/prototype/atoms");

var _molecules = require("@mzawadie/prototype/molecules");

var _hooks = require("@next/hooks");

var _react = _interopRequireDefault(require("react"));

var _index = require("../index");

var S = _interopRequireWildcard(require("./styles"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

var SelectSidebar = function SelectSidebar(_ref) {
  var title = _ref.title,
      _ref$options = _ref.options,
      options = _ref$options === void 0 ? [] : _ref$options,
      _ref$disabledOptions = _ref.disabledOptions,
      disabledOptions = _ref$disabledOptions === void 0 ? [] : _ref$disabledOptions,
      _ref$selectedOptions = _ref.selectedOptions,
      selectedOptions = _ref$selectedOptions === void 0 ? [] : _ref$selectedOptions,
      hide = _ref.hide,
      onSelect = _ref.onSelect,
      show = _ref.show,
      target = _ref.target,
      footerTitle = _ref.footerTitle,
      onClickFooter = _ref.onClickFooter,
      testingContextId = _ref.testingContextId;

  var _useHandlerWhenClicke = (0, _hooks.useHandlerWhenClickedOutside)(function () {
    hide();
  }),
      setElementRef = _useHandlerWhenClicke.setElementRef;

  return __jsx(_index.Overlay, {
    position: "right",
    duration: 0,
    show: show,
    hide: hide,
    transparent: true,
    target: target,
    testingContext: "attributeSelection",
    testingContextId: testingContextId
  }, __jsx(S.Wrapper, {
    ref: setElementRef()
  }, __jsx(_molecules.CardHeader, {
    divider: true,
    onHide: hide
  }, __jsx("span", null, title)), __jsx(S.Content, null, options.map(function (option) {
    var isSelected = selectedOptions.some(function (value) {
      return value === option.value;
    });
    var isDisabled = disabledOptions.some(function (value) {
      return value === option.value;
    });
    return __jsx(S.Option, {
      key: option.value,
      disabled: isDisabled
    }, __jsx(_molecules.OverlayItem, {
      testingContextId: option.value,
      selected: isSelected,
      disabled: isDisabled,
      onClick: function onClick() {
        return onSelect(option.value);
      }
    }, option.label));
  })), footerTitle && __jsx(S.Footer, {
    onClick: onClickFooter
  }, __jsx(_atoms.ButtonLink, {
    testingContext: "footerActionButton",
    color: "secondary"
  }, footerTitle))));
};

exports.SelectSidebar = SelectSidebar;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _addonActions = require("@storybook/addon-actions");

var _react = require("@storybook/react");

var _react2 = _interopRequireDefault(require("react"));

var _index = require("./index");

var _testData = require("./testData");

var __jsx = _react2["default"].createElement;
var portalRoot = document.getElementById("portal-root");

if (!portalRoot) {
  portalRoot = document.createElement("div");
  portalRoot.setAttribute("id", "portal-root");
  document.body.appendChild(portalRoot);
}

(0, _react.storiesOf)("@mzawadie/prototype/organisms/SelectSidebar", module).addParameters({
  component: _index.SelectSidebar
}).add("default", function () {
  return __jsx(_index.SelectSidebar, (0, _extends2["default"])({
    title: "PLEASE SELECT SIZE",
    target: portalRoot
  }, _testData.DEFAULT_PROPS, {
    show: true,
    hide: (0, _addonActions.action)("hide"),
    onSelect: (0, _addonActions.action)("onSelect")
  }));
}).add("with footer", function () {
  return __jsx(_index.SelectSidebar, (0, _extends2["default"])({
    title: "PLEASE SELECT SIZE",
    footerTitle: "SHOW SIZE TABLE",
    onClickFooter: (0, _addonActions.action)("onClickFooter"),
    target: portalRoot
  }, _testData.DEFAULT_PROPS, {
    show: true,
    hide: (0, _addonActions.action)("hide"),
    onSelect: (0, _addonActions.action)("onSelect")
  }));
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Option = exports.Footer = exports.Content = exports.Wrapper = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _styles = require("@next/styles");

var _templateObject, _templateObject2, _templateObject3, _templateObject4;

var Wrapper = _styles.styled.div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    width: 100%;\n    box-shadow: 6px 0px 30px rgba(0, 0, 0, 0.15);\n"])));

exports.Wrapper = Wrapper;

var Content = _styles.styled.div(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n    display: flex;\n    flex-direction: column;\n    height: ", ";\n    overflow: auto;\n"])), function (_ref) {
  var spacing = _ref.theme.spacing;
  return "calc(100vh - ".concat(spacing.gutter, ")");
});

exports.Content = Content;

var Footer = _styles.styled.div(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["\n    background-color: ", ";\n    padding: ", ";\n"])), function (props) {
  return props.theme.colors.light;
}, function (_ref2) {
  var spacing = _ref2.theme.spacing;
  return "1.3rem ".concat(spacing.gutter, " 1rem ").concat(spacing.gutter);
});

exports.Footer = Footer;

var Option = _styles.styled.div(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2["default"])(["\n    cursor: ", ";\n"])), function (props) {
  return props.disabled ? "default" : "pointer";
});

exports.Option = Option;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.DEFAULT_PROPS = void 0;
var DEFAULT_PROPS = {
  disabledOptions: ["7 1/2"],
  options: [{
    label: "7",
    value: "7"
  }, {
    label: "7 1/8",
    value: "7 1/8"
  }, {
    label: "7 1/4",
    value: "7 1/4"
  }, {
    label: "7 3/8",
    value: "7 3/84"
  }, {
    label: "7 1/2",
    value: "7 1/2"
  }, {
    label: "7 5/8",
    value: "7 5/8"
  }, {
    label: "7 3/4",
    value: "7 3/4"
  }, {
    label: "7 7/8",
    value: "7 7/8"
  }, {
    label: "8",
    value: "8"
  }],
  selectedOptions: ["7 1/8"]
};
exports.DEFAULT_PROPS = DEFAULT_PROPS;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});


"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ITaxedMoney = require("./ITaxedMoney");

Object.keys(_ITaxedMoney).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _ITaxedMoney[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _ITaxedMoney[key];
    }
  });
});

var _IImage = require("./IImage");

Object.keys(_IImage).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _IImage[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _IImage[key];
    }
  });
});

var _IFormError = require("./IFormError");

Object.keys(_IFormError).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _IFormError[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _IFormError[key];
    }
  });
});

var _IFilters = require("./IFilters");

Object.keys(_IFilters).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _IFilters[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _IFilters[key];
    }
  });
});

var _IFilterAttributes = require("./IFilterAttributes");

Object.keys(_IFilterAttributes).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _IFilterAttributes[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _IFilterAttributes[key];
    }
  });
});

var _ISelectOptions = require("./ISelectOptions");

Object.keys(_ISelectOptions).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _ISelectOptions[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _ISelectOptions[key];
    }
  });
});

var _IProductVariantsAttributes = require("./IProductVariantsAttributes");

Object.keys(_IProductVariantsAttributes).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _IProductVariantsAttributes[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _IProductVariantsAttributes[key];
    }
  });
});

var _IProduct = require("./IProduct");

Object.keys(_IProduct).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _IProduct[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _IProduct[key];
    }
  });
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});


"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.FilterQuerySet = exports.SORT_OPTIONS = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactIntl = require("react-intl");

var _core = require("../../core");

var __jsx = _react["default"].createElement;
var SORT_OPTIONS = [{
  label: __jsx(_reactIntl.FormattedMessage, _core.prodListHeaderCommonMsg.sortOptionsClear),
  value: null
}, {
  label: __jsx(_reactIntl.FormattedMessage, _core.prodListHeaderCommonMsg.sortOptionsPrice),
  value: "price"
}, {
  label: __jsx(_reactIntl.FormattedMessage, _core.prodListHeaderCommonMsg.sortOptionsPriceDsc),
  value: "-price"
}, {
  label: __jsx(_reactIntl.FormattedMessage, _core.prodListHeaderCommonMsg.sortOptionsName),
  value: "name"
}, {
  label: __jsx(_reactIntl.FormattedMessage, _core.prodListHeaderCommonMsg.sortOptionsNameDsc),
  value: "-name"
}, {
  label: __jsx(_reactIntl.FormattedMessage, _core.prodListHeaderCommonMsg.sortOptionsUpdatedAt),
  value: "updated_at"
}, {
  label: __jsx(_reactIntl.FormattedMessage, _core.prodListHeaderCommonMsg.sortOptionsUpdatedAtDsc),
  value: "-updated_at"
}];
exports.SORT_OPTIONS = SORT_OPTIONS;
var FilterQuerySet = {
  encode: function encode(valueObj) {
    var str = [];
    Object.keys(valueObj).forEach(function (value) {
      str.push("".concat(value, "_").concat(valueObj[value].join("_")));
    });
    return str.join(".");
  },
  decode: function decode(strValue) {
    var obj = {};
    var propsWithValues = strValue.split(".").filter(function (n) {
      return n;
    });
    propsWithValues.map(function (value) {
      var propWithValues = value.split("_").filter(function (n) {
        return n;
      });
      obj[propWithValues[0]] = propWithValues.slice(1);
    });
    return obj;
  }
};
exports.FilterQuerySet = FilterQuerySet;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.generateGuestOrderDetailsUrl = exports.generatePageUrl = exports.generateCollectionUrl = exports.generateCategoryUrl = exports.getDBIdFromGraphqlId = exports.slugify = void 0;

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _jsBase = require("js-base64");

var slugify = function slugify(text) {
  return text.toString().toLowerCase().trim().replace(/\s+/g, "-") // Replace spaces with -
  .replace(/&/g, "-and-") // Replace & with 'and'
  .replace(/[^\w\-]+/g, "") // Remove all non-word chars
  .replace(/\-\-+/g, "-");
}; // Replace multiple - with single -


exports.slugify = slugify;

var getDBIdFromGraphqlId = function getDBIdFromGraphqlId(graphqlId, schema) {
  // This is temporary solution, we will use slugs in the future
  var rawId = _jsBase.Base64.decode(graphqlId);

  var regexp = /(\w+):(\d+)/;

  var _ref = regexp.exec(rawId),
      _ref2 = (0, _slicedToArray2["default"])(_ref, 3),
      expectedSchema = _ref2[1],
      id = _ref2[2];

  if (schema && schema !== expectedSchema) {
    throw new Error("Schema is not correct");
  }

  return parseInt(id, 10);
};

exports.getDBIdFromGraphqlId = getDBIdFromGraphqlId;

var generateCategoryUrl = function generateCategoryUrl(id, name) {
  return "/category/".concat(slugify(name), "/").concat(getDBIdFromGraphqlId(id, "Category"), "/");
};

exports.generateCategoryUrl = generateCategoryUrl;

var generateCollectionUrl = function generateCollectionUrl(id, name) {
  return "/collection/".concat(slugify(name), "/").concat(getDBIdFromGraphqlId(id, "Collection"), "/");
};

exports.generateCollectionUrl = generateCollectionUrl;

var generatePageUrl = function generatePageUrl(slug) {
  return "/page/".concat(slug, "/");
};

exports.generatePageUrl = generatePageUrl;

var generateGuestOrderDetailsUrl = function generateGuestOrderDetailsUrl(token) {
  return "/order-history/".concat(token, "/");
};

exports.generateGuestOrderDetailsUrl = generateGuestOrderDetailsUrl;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.maybe = maybe;
exports.filterNotEmptyArrayItems = filterNotEmptyArrayItems;

function maybe(exp, d) {
  try {
    var result = exp();
    return result === undefined ? d : result;
  } catch (_unused) {
    return d;
  }
}

function filterNotEmptyArrayItems(value) {
  return value !== null && value !== undefined;
}
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.isPriceEqual = void 0;

var isPriceEqual = function isPriceEqual(first, second) {
  return first.amount === second.amount && first.currency === second.currency;
};

exports.isPriceEqual = isPriceEqual;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getShopConfig = exports.getShopMenus = exports.getShopAttributes = exports.getFeaturedProducts = exports.exhaustList = exports.getMzawadieApi = void 0;

var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));

var _core = require("@mzawadie/core");

var _sdk = require("@mzawadie/sdk");

var _shop = require("@mzawadie/sdk/lib/queries/shop");

var _graphql = require("@next/graphql");

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var CONNECTION = null;

var getMzawadieApi = /*#__PURE__*/function () {
  var _ref = (0, _asyncToGenerator2["default"])( /*#__PURE__*/_regenerator["default"].mark(function _callee() {
    var manager;
    return _regenerator["default"].wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            if (CONNECTION) {
              _context.next = 5;
              break;
            }

            manager = new _sdk.MzawadieManager({
              apiUrl: _core.apiUrl,
              channel: _core.channelSlug
            }, {
              options: {
                ssrMode: true,
                connectToDevTools: true
              }
            });
            _context.next = 4;
            return manager.connect();

          case 4:
            CONNECTION = _context.sent;

          case 5:
            return _context.abrupt("return", CONNECTION);

          case 6:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function getMzawadieApi() {
    return _ref.apply(this, arguments);
  };
}();
/**
 * Fetches all data from collection based API which extends BaseList abstraction.
 */


exports.getMzawadieApi = getMzawadieApi;

var exhaustList = /*#__PURE__*/function () {
  var _ref2 = (0, _asyncToGenerator2["default"])( /*#__PURE__*/_regenerator["default"].mark(function _callee3(listApi) {
    var tries,
        _args3 = arguments;
    return _regenerator["default"].wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            tries = _args3.length > 1 && _args3[1] !== undefined ? _args3[1] : 60;
            return _context3.abrupt("return", new Promise(function (resolve, reject) {
              (function () {
                var _fetch = (0, _asyncToGenerator2["default"])( /*#__PURE__*/_regenerator["default"].mark(function _callee2(listApi, triesLeft) {
                  var result, pageInfo, next;
                  return _regenerator["default"].wrap(function _callee2$(_context2) {
                    while (1) {
                      switch (_context2.prev = _context2.next) {
                        case 0:
                          _context2.next = 2;
                          return listApi;

                        case 2:
                          result = _context2.sent;
                          pageInfo = result.pageInfo, next = result.next;

                          if (pageInfo !== null && pageInfo !== void 0 && pageInfo.hasNextPage) {
                            _context2.next = 6;
                            break;
                          }

                          return _context2.abrupt("return", resolve(result));

                        case 6:
                          if (triesLeft) {
                            _context2.next = 8;
                            break;
                          }

                          return _context2.abrupt("return", reject(new Error("Max tries exceeded")));

                        case 8:
                          _context2.next = 10;
                          return next();

                        case 10:
                          _context2.next = 12;
                          return fetch(listApi, --triesLeft);

                        case 12:
                        case "end":
                          return _context2.stop();
                      }
                    }
                  }, _callee2);
                }));

                function fetch(_x2, _x3) {
                  return _fetch.apply(this, arguments);
                }

                return fetch;
              })()(listApi, tries);
            }));

          case 2:
          case "end":
            return _context3.stop();
        }
      }
    }, _callee3);
  }));

  return function exhaustList(_x) {
    return _ref2.apply(this, arguments);
  };
}();

exports.exhaustList = exhaustList;

var getFeaturedProducts = /*#__PURE__*/function () {
  var _ref3 = (0, _asyncToGenerator2["default"])( /*#__PURE__*/_regenerator["default"].mark(function _callee4() {
    var _data$collection, _data$collection$prod;

    var _yield$getMzawadieApi, apolloClient, _yield$apolloClient$q, data;

    return _regenerator["default"].wrap(function _callee4$(_context4) {
      while (1) {
        switch (_context4.prev = _context4.next) {
          case 0:
            _context4.next = 2;
            return getMzawadieApi();

          case 2:
            _yield$getMzawadieApi = _context4.sent;
            apolloClient = _yield$getMzawadieApi.apolloClient;
            _context4.next = 6;
            return apolloClient.query({
              query: _graphql.featuredProductsQuery,
              variables: {
                channel: _core.channelSlug
              }
            });

          case 6:
            _yield$apolloClient$q = _context4.sent;
            data = _yield$apolloClient$q.data;
            return _context4.abrupt("return", _objectSpread(_objectSpread({}, data.collection), {}, {
              products: ((_data$collection = data.collection) === null || _data$collection === void 0 ? void 0 : (_data$collection$prod = _data$collection.products) === null || _data$collection$prod === void 0 ? void 0 : _data$collection$prod.edges.map(function (e) {
                return e.node;
              })) || []
            }));

          case 9:
          case "end":
            return _context4.stop();
        }
      }
    }, _callee4);
  }));

  return function getFeaturedProducts() {
    return _ref3.apply(this, arguments);
  };
}();

exports.getFeaturedProducts = getFeaturedProducts;

var getShopAttributes = /*#__PURE__*/function () {
  var _ref5 = (0, _asyncToGenerator2["default"])( /*#__PURE__*/_regenerator["default"].mark(function _callee5(_ref4) {
    var _data$attributes;

    var _ref4$categoryId, categoryId, _ref4$collectionId, collectionId, _yield$getMzawadieApi2, apolloClient, _yield$apolloClient$q2, data;

    return _regenerator["default"].wrap(function _callee5$(_context5) {
      while (1) {
        switch (_context5.prev = _context5.next) {
          case 0:
            _ref4$categoryId = _ref4.categoryId, categoryId = _ref4$categoryId === void 0 ? null : _ref4$categoryId, _ref4$collectionId = _ref4.collectionId, collectionId = _ref4$collectionId === void 0 ? null : _ref4$collectionId;
            _context5.next = 3;
            return getMzawadieApi();

          case 3:
            _yield$getMzawadieApi2 = _context5.sent;
            apolloClient = _yield$getMzawadieApi2.apolloClient;
            _context5.next = 7;
            return apolloClient.query({
              query: _graphql.shopAttributesQuery,
              variables: {
                categoryId: categoryId,
                collectionId: collectionId,
                channel: _core.channelSlug
              }
            });

          case 7:
            _yield$apolloClient$q2 = _context5.sent;
            data = _yield$apolloClient$q2.data;
            return _context5.abrupt("return", (data === null || data === void 0 ? void 0 : (_data$attributes = data.attributes) === null || _data$attributes === void 0 ? void 0 : _data$attributes.edges.map(function (e) {
              return e.node;
            })) || []);

          case 10:
          case "end":
            return _context5.stop();
        }
      }
    }, _callee5);
  }));

  return function getShopAttributes(_x4) {
    return _ref5.apply(this, arguments);
  };
}();

exports.getShopAttributes = getShopAttributes;

var getShopMenus = /*#__PURE__*/function () {
  var _ref6 = (0, _asyncToGenerator2["default"])( /*#__PURE__*/_regenerator["default"].mark(function _callee6() {
    var _yield$getMzawadieApi3, apolloClient, _yield$apolloClient$q3, data;

    return _regenerator["default"].wrap(function _callee6$(_context6) {
      while (1) {
        switch (_context6.prev = _context6.next) {
          case 0:
            _context6.next = 2;
            return getMzawadieApi();

          case 2:
            _yield$getMzawadieApi3 = _context6.sent;
            apolloClient = _yield$getMzawadieApi3.apolloClient;
            _context6.next = 6;
            return apolloClient.query({
              query: _graphql.shopMenusQuery,
              variables: {
                channel: _core.channelSlug,
                footerSlug: "footer",
                mainMenuSlug: "navbar"
              }
            });

          case 6:
            _yield$apolloClient$q3 = _context6.sent;
            data = _yield$apolloClient$q3.data;
            return _context6.abrupt("return", data);

          case 9:
          case "end":
            return _context6.stop();
        }
      }
    }, _callee6);
  }));

  return function getShopMenus() {
    return _ref6.apply(this, arguments);
  };
}();

exports.getShopMenus = getShopMenus;

var getShopConfig = /*#__PURE__*/function () {
  var _ref7 = (0, _asyncToGenerator2["default"])( /*#__PURE__*/_regenerator["default"].mark(function _callee7() {
    var _yield$getMzawadieApi4, apolloClient, _yield$Promise$all, _yield$Promise$all2, _yield$Promise$all2$, footer, mainMenu, shopConfig;

    return _regenerator["default"].wrap(function _callee7$(_context7) {
      while (1) {
        switch (_context7.prev = _context7.next) {
          case 0:
            _context7.next = 2;
            return getMzawadieApi();

          case 2:
            _yield$getMzawadieApi4 = _context7.sent;
            apolloClient = _yield$getMzawadieApi4.apolloClient;
            _context7.next = 6;
            return Promise.all([apolloClient.query({
              query: _graphql.shopMenusQuery,
              variables: {
                channel: _core.channelSlug,
                footerSlug: "footer",
                mainMenuSlug: "navbar"
              }
            }).then(function (_ref8) {
              var data = _ref8.data;
              return data;
            }), apolloClient.query({
              query: _shop.getShop
            }).then(function (_ref9) {
              var data = _ref9.data;
              return data === null || data === void 0 ? void 0 : data.shop;
            })]);

          case 6:
            _yield$Promise$all = _context7.sent;
            _yield$Promise$all2 = (0, _slicedToArray2["default"])(_yield$Promise$all, 2);
            _yield$Promise$all2$ = _yield$Promise$all2[0];
            footer = _yield$Promise$all2$.footer;
            mainMenu = _yield$Promise$all2$.mainMenu;
            shopConfig = _yield$Promise$all2[1];
            return _context7.abrupt("return", {
              footer: footer,
              mainMenu: mainMenu,
              shopConfig: shopConfig
            });

          case 13:
          case "end":
            return _context7.stop();
        }
      }
    }, _callee7);
  }));

  return function getShopConfig() {
    return _ref7.apply(this, arguments);
  };
}();

exports.getShopConfig = getShopConfig;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getBackgroundColor = exports.getContentWindowHeight = void 0;

var _reactDom = _interopRequireDefault(require("react-dom"));

var getContentWindowHeight = function getContentWindowHeight() {
  var headerRef = document.getElementById("header");
  var footerRef = document.getElementById("footer");
  var headerHeight = headerRef ? headerRef.offsetHeight : 0;
  var footerHeight = footerRef ? footerRef.offsetHeight : 0;
  return window.innerHeight - headerHeight - footerHeight;
};

exports.getContentWindowHeight = getContentWindowHeight;
var DEFAULT_BACKGROUND_COLOR = "#fff";
/**
 * Get the element background color.
 * If no background color is provided then the default is rgba(0, 0, 0, 0)
 * in this case the default color to cover is white (#fff)
 * @param ref Reference to the element to check.
 */

var getBackgroundColor = function getBackgroundColor(ref) {
  // eslint-disable-next-line react/no-find-dom-node
  var el = _reactDom["default"].findDOMNode(ref);

  if (el && el.parentElement) {
    if (el.nodeName === "BODY") {
      return DEFAULT_BACKGROUND_COLOR;
    }

    var bgColor = window.getComputedStyle(el.parentElement, null).backgroundColor;

    if (bgColor && bgColor !== "rgba(0, 0, 0, 0)") {
      return bgColor;
    }

    return getBackgroundColor(el.parentElement);
  }

  return DEFAULT_BACKGROUND_COLOR;
};

exports.getBackgroundColor = getBackgroundColor;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.maybe = void 0;

var maybe = function maybe(exp, d) {
  try {
    var result = exp();
    return result === undefined ? d : result;
  } catch (_unused) {
    return d;
  }
};

exports.maybe = maybe;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _Locale = require("@mzawadie/components/Locale");

var _NextQueryParamProvider = require("@mzawadie/components/NextQueryParamProvider");

var _core = require("@mzawadie/core");

var _atoms = require("@mzawadie/prototype/atoms");

var _sdk = require("@mzawadie/sdk");

var _styles = require("@next/styles");

var _ssr = require("@next/utils/ssr");

var _app = _interopRequireDefault(require("next/app"));

var _head = _interopRequireDefault(require("next/head"));

var _react = _interopRequireDefault(require("react"));

var _reactAlert = require("react-alert");

var _styledComponents = require("styled-components");

require("../globalStyles/scss/index.scss");

var __jsx = _react["default"].createElement;

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

// declare global {
//     interface Window {
//         __APOLLO_CLIENT__: any;
//         version: any;
//     }
// }
//
// const attachClient = async () => {
//     const { apolloClient } = await getMzawadieApi();
//     window.__APOLLO_CLIENT__ = apolloClient;
// };
//
// if (!ssrMode) {
//     window.version = version;
//     if (process.env.NEXT_PUBLIC_ENABLE_APOLLO_DEVTOOLS === "true")
//         attachClient().then((r) => console.log(r));
// }
var mzawadieConfig = {
  apiUrl: _core.apiUrl,
  channel: _core.channelSlug
};
var notificationConfig = {
  position: _reactAlert.positions.BOTTOM_RIGHT,
  timeout: 2500
};

var App = function App(_ref) {
  var Component = _ref.Component,
      pageProps = _ref.pageProps,
      footer = _ref.footer,
      mainMenu = _ref.mainMenu,
      shopConfig = _ref.shopConfig,
      messages = _ref.messages;
  // console.log(JSON.stringify(shopConfig, null, 4));
  return __jsx(_react["default"].Fragment, null, __jsx(_head["default"], null, __jsx("meta", {
    name: "viewport",
    content: "minimum-scale=1, initial-scale=1, width=device-width, shrink-to-fit=no, user-scalable=no, viewport-fit=cover"
  }), __jsx("title", null, "PWA Storefront \u2013 Mzawadie Commerce"), __jsx("link", {
    rel: "preconnect",
    href: _core.apiUrl
  }), __jsx("link", {
    href: "https://rsms.me/inter/inter.css",
    rel: "stylesheet"
  }), __jsx("link", {
    rel: "icon",
    type: "image/png",
    href: "/icons/icon-36x36.png"
  }), __jsx("link", {
    rel: "manifest",
    href: "/manifest.json"
  })), __jsx(_styledComponents.ThemeProvider, {
    theme: _styles.defaultTheme
  }, __jsx(_reactAlert.Provider, (0, _extends2["default"])({
    template: _atoms.NotificationTemplate
  }, notificationConfig), __jsx(_styles.GlobalStyle, null), __jsx(_NextQueryParamProvider.NextQueryParamProvider, null, __jsx(_sdk.MzawadieProvider, {
    config: mzawadieConfig
  }, __jsx(Component, pageProps))))));
}; // Fetch shop config only once and cache it.


var shopConfig = null;

App.getInitialProps = /*#__PURE__*/function () {
  var _ref2 = (0, _asyncToGenerator2["default"])( /*#__PURE__*/_regenerator["default"].mark(function _callee(appContext) {
    var locale, appProps, messages;
    return _regenerator["default"].wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            locale = appContext.router.locale;
            _context.next = 3;
            return _app["default"].getInitialProps(appContext);

          case 3:
            appProps = _context.sent;

            if (!_core.ssrMode) {
              _context.next = 12;
              break;
            }

            if (shopConfig) {
              _context.next = 9;
              break;
            }

            _context.next = 8;
            return (0, _ssr.getShopConfig)();

          case 8:
            shopConfig = _context.sent;

          case 9:
            _context.next = 11;
            return (0, _Locale.loadMessagesJson)(locale);

          case 11:
            messages = _context.sent;

          case 12:
            return _context.abrupt("return", _objectSpread(_objectSpread(_objectSpread({}, appProps), shopConfig), {}, {
              messages: messages
            }));

          case 13:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function (_x) {
    return _ref2.apply(this, arguments);
  };
}();

var _default = App;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _document = _interopRequireWildcard(require("next/document"));

var _react = _interopRequireDefault(require("react"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2["default"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2["default"])(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var MyDocument = /*#__PURE__*/function (_Document) {
  (0, _inherits2["default"])(MyDocument, _Document);

  var _super = _createSuper(MyDocument);

  function MyDocument() {
    (0, _classCallCheck2["default"])(this, MyDocument);
    return _super.apply(this, arguments);
  }

  (0, _createClass2["default"])(MyDocument, [{
    key: "render",
    value: function render() {
      return __jsx(_document.Html, null, __jsx(_document.Head, null), __jsx("body", null, __jsx(_document.Main, null), __jsx(_document.NextScript, null), __jsx("div", {
        id: "modal-root"
      })));
    }
  }], [{
    key: "getInitialProps",
    value: function () {
      var _getInitialProps = (0, _asyncToGenerator2["default"])( /*#__PURE__*/_regenerator["default"].mark(function _callee(ctx) {
        var initialProps;
        return _regenerator["default"].wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.next = 2;
                return _document["default"].getInitialProps(ctx);

              case 2:
                initialProps = _context.sent;
                return _context.abrupt("return", _objectSpread({}, initialProps));

              case 4:
              case "end":
                return _context.stop();
            }
          }
        }, _callee);
      }));

      function getInitialProps(_x) {
        return _getInitialProps.apply(this, arguments);
      }

      return getInitialProps;
    }()
  }]);
  return MyDocument;
}(_document["default"]);

var _default = MyDocument;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getStaticProps = exports["default"] = void 0;

var _react = _interopRequireDefault(require("react"));

var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));

var _core = require("@mzawadie/core");

var _ssr = require("@next/utils/ssr");

var _head = _interopRequireDefault(require("next/head"));

var _image = _interopRequireDefault(require("next/image"));

var _HomeModule = _interopRequireDefault(require("../globalStyles/Home.module.css"));

var _Home = require("../views/Home");

var __jsx = _react["default"].createElement;

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var Home = function Home(_ref) {
  var data = _ref.data;
  // console.log(JSON.stringify(data, null, 4));
  return __jsx("div", {
    className: _HomeModule["default"].container
  }, __jsx(_head["default"], null, __jsx("title", null, "Create Next App"), __jsx("meta", {
    name: "description",
    content: "Generated by create next app"
  }), __jsx("link", {
    rel: "icon",
    href: "/favicon.ico"
  })), __jsx("main", {
    className: _HomeModule["default"].main
  }, __jsx("h1", {
    className: _HomeModule["default"].title
  }, "Welcome to ", __jsx("a", {
    href: "https://nextjs.org"
  }, "Next.js!")), __jsx("p", {
    className: _HomeModule["default"].description
  }, "Get started by editing ", __jsx("code", {
    className: _HomeModule["default"].code
  }, "pages/index.js")), __jsx("div", {
    className: _HomeModule["default"].grid
  }, __jsx("a", {
    href: "https://nextjs.org/docs",
    className: _HomeModule["default"].card
  }, __jsx("h2", null, "Documentation \u2192"), __jsx("p", null, "Find in-depth information about Next.js features and API.")), __jsx("a", {
    href: "https://nextjs.org/learn",
    className: _HomeModule["default"].card
  }, __jsx("h2", null, "Learn \u2192"), __jsx("p", null, "Learn about Next.js in an interactive course with quizzes!")), __jsx("a", {
    href: "https://github.com/vercel/next.js/tree/master/examples",
    className: _HomeModule["default"].card
  }, __jsx("h2", null, "Examples \u2192"), __jsx("p", null, "Discover and deploy boilerplate example Next.js projects.")), __jsx("a", {
    href: "https://vercel.com/new?utm_source=create-next-app&utm_medium=default-template&utm_campaign=create-next-app",
    className: _HomeModule["default"].card
  }, __jsx("h2", null, "Deploy \u2192"), __jsx("p", null, "Instantly deploy your Next.js site to a public URL with Vercel.")))), __jsx("footer", {
    className: _HomeModule["default"].footer
  }, __jsx("a", {
    href: "https://vercel.com?utm_source=create-next-app&utm_medium=default-template&utm_campaign=create-next-app",
    target: "_blank",
    rel: "noopener noreferrer"
  }, "Powered by", " ", __jsx("span", {
    className: _HomeModule["default"].logo
  }, __jsx(_image["default"], {
    src: "/vercel.svg",
    alt: "Vercel Logo",
    width: 72,
    height: 16
  })))));
};

var _default = Home;
exports["default"] = _default;

var getStaticProps = /*#__PURE__*/function () {
  var _ref2 = (0, _asyncToGenerator2["default"])( /*#__PURE__*/_regenerator["default"].mark(function _callee() {
    var _yield$getMzawadieApi, apolloClient, _yield$Promise$all, _yield$Promise$all2, data, featuredProducts;

    return _regenerator["default"].wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.next = 2;
            return (0, _ssr.getMzawadieApi)();

          case 2:
            _yield$getMzawadieApi = _context.sent;
            apolloClient = _yield$getMzawadieApi.apolloClient;
            _context.next = 6;
            return Promise.all([apolloClient.query({
              query: _Home.homePageProductsQuery,
              variables: {
                channel: _core.channelSlug
              }
            }).then(function (_ref3) {
              var data = _ref3.data;
              return data;
            }), (0, _ssr.getFeaturedProducts)()]);

          case 6:
            _yield$Promise$all = _context.sent;
            _yield$Promise$all2 = (0, _slicedToArray2["default"])(_yield$Promise$all, 2);
            data = _yield$Promise$all2[0];
            featuredProducts = _yield$Promise$all2[1];
            return _context.abrupt("return", {
              revalidate: _core.incrementalStaticRegenerationRevalidate,
              props: {
                data: _objectSpread(_objectSpread({}, data), {}, {
                  featuredProducts: featuredProducts
                })
              }
            });

          case 11:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));

  return function getStaticProps() {
    return _ref2.apply(this, arguments);
  };
}();

exports.getStaticProps = getStaticProps;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _ShopProvider = _interopRequireDefault(require("@mzawadie/components/ShopProvider"));

var _atoms = require("@mzawadie/prototype/atoms");

var _sdk = require("@mzawadie/sdk");

var _hooks = require("@next/hooks");

var _router = require("next/router");

var _react = _interopRequireDefault(require("react"));

var _components = require("../../components");

var __jsx = _react["default"].createElement;

var StorefrontApp = function StorefrontApp(_ref) {
  var footer = _ref.footer,
      mainMenu = _ref.mainMenu,
      shopConfig = _ref.shopConfig,
      children = _ref.children;

  var _useRouter = (0, _router.useRouter)(),
      pathname = _useRouter.pathname;

  var willRedirect = (0, _hooks.useDynamicRouteRedirect)();

  var _useAuth = (0, _sdk.useAuth)(),
      tokenRefreshing = _useAuth.tokenRefreshing,
      tokenVerifying = _useAuth.tokenVerifying;

  var loading = tokenRefreshing || tokenVerifying || willRedirect;
  return __jsx(_ShopProvider["default"], {
    shopConfig: shopConfig
  }, __jsx(_components.OverlayProvider, {
    pathname: pathname
  }, loading ? __jsx(_atoms.Loader, {
    fullScreen: true
  }) : children));
};

var _default = StorefrontApp;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
Object.defineProperty(exports, "StorefrontApp", {
  enumerable: true,
  get: function get() {
    return _App["default"];
  }
});

var _App = _interopRequireDefault(require("./App"));
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CategoryView = void 0;

var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _core = require("@mzawadie/core");

var _atoms = require("@mzawadie/prototype/atoms");

var _collections = require("@next/utils/collections");

var _react = _interopRequireWildcard(require("react"));

var _useQueryParams = require("use-query-params");

var _components = require("../../components");

var _NetworkStatus = _interopRequireDefault(require("../../components/NetworkStatus"));

var _Page = require("./Page");

var _queries = require("./queries");

var _utils = require("./utils");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var CategoryView = function CategoryView(_ref) {
  var category = _ref.data;

  var _useQueryParam = (0, _useQueryParams.useQueryParam)("sortBy", _useQueryParams.StringParam),
      _useQueryParam2 = (0, _slicedToArray2["default"])(_useQueryParam, 2),
      sort = _useQueryParam2[0],
      setSort = _useQueryParam2[1];

  var _useQueryParam3 = (0, _useQueryParams.useQueryParam)("filters", _collections.FilterQuerySet),
      _useQueryParam4 = (0, _slicedToArray2["default"])(_useQueryParam3, 2),
      attributeFilters = _useQueryParam4[0],
      setAttributeFilters = _useQueryParam4[1];

  var filters = {
    attributes: attributeFilters,
    pageSize: _core.PRODUCTS_PER_PAGE,
    priceGte: null,
    priceLte: null,
    sortBy: sort || null
  };

  var _useProductsQuery = (0, _queries.useProductsQuery)(filters, {
    categoryId: category === null || category === void 0 ? void 0 : category.id
  }),
      data = _useProductsQuery.data,
      loadMore = _useProductsQuery.loadMore,
      loading = _useProductsQuery.loading;

  var _useMemo = (0, _react.useMemo)(function () {
    var _data$products, _data$products2, _data$products3;

    return [(data === null || data === void 0 ? void 0 : (_data$products = data.products) === null || _data$products === void 0 ? void 0 : _data$products.edges.map(function (e) {
      return e.node;
    })) || [], data === null || data === void 0 ? void 0 : (_data$products2 = data.products) === null || _data$products2 === void 0 ? void 0 : _data$products2.pageInfo, (data === null || data === void 0 ? void 0 : (_data$products3 = data.products) === null || _data$products3 === void 0 ? void 0 : _data$products3.totalCount) || 0];
  }, [data]),
      products = _useMemo[0],
      pageInfo = _useMemo[1],
      numberOfProducts = _useMemo[2];

  var handleClearFilters = function handleClearFilters() {
    return setAttributeFilters({});
  };

  var handleFiltersChange = (0, _utils.filtersChangeHandler)(filters, attributeFilters, setAttributeFilters);

  var handleOrderChange = function handleOrderChange(value) {
    return setSort(value.value);
  };

  var handleLoadMore = function handleLoadMore() {
    return loadMore(function (prev, next) {
      return {
        products: _objectSpread(_objectSpread({}, prev.products), {}, {
          edges: [].concat((0, _toConsumableArray2["default"])(prev.products.edges), (0, _toConsumableArray2["default"])(next.products.edges)),
          pageInfo: next.products.pageInfo
        })
      };
    }, pageInfo.endCursor);
  };

  return __jsx(_NetworkStatus["default"], null, function (isOnline) {
    return isOnline ? category ? __jsx(_components.MetaWrapper, {
      meta: {
        description: category.details.seoDescription,
        title: category.details.seoTitle,
        type: "product.category"
      }
    }, __jsx(_Page.Page, {
      clearFilters: handleClearFilters,
      category: category,
      products: products,
      displayLoader: loading,
      hasNextPage: !!(pageInfo !== null && pageInfo !== void 0 && pageInfo.hasNextPage),
      numberOfProducts: numberOfProducts,
      activeSortOption: filters.sortBy,
      filters: filters,
      onAttributeFiltersChange: handleFiltersChange,
      onLoadMore: handleLoadMore,
      activeFilters: Object.keys((filters === null || filters === void 0 ? void 0 : filters.attributes) || {}).length,
      onOrder: handleOrderChange
    })) : __jsx(_components.NotFound, null) : __jsx(_atoms.OfflinePlaceholder, null);
  });
};

exports.CategoryView = CategoryView;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _CategoryView = require("./CategoryView");

Object.keys(_CategoryView).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _CategoryView[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _CategoryView[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Page = void 0;

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _core = require("@mzawadie/core");

var _molecules = require("@mzawadie/prototype/molecules");

var _organisms = require("@mzawadie/prototype/organisms");

var _collections = require("@next/utils/collections");

var _react = _interopRequireDefault(require("react"));

var _reactIntl = require("react-intl");

var _components = require("../../components");

require("./scss/index.module.scss");

var _utils = require("./utils");

var __jsx = _react["default"].createElement;

var Page = function Page(_ref) {
  var activeFilters = _ref.activeFilters,
      activeSortOption = _ref.activeSortOption,
      _ref$category = _ref.category,
      attributes = _ref$category.attributes,
      details = _ref$category.details,
      ancestors = _ref$category.ancestors,
      featuredProducts = _ref$category.featuredProducts,
      numberOfProducts = _ref.numberOfProducts,
      products = _ref.products,
      displayLoader = _ref.displayLoader,
      hasNextPage = _ref.hasNextPage,
      clearFilters = _ref.clearFilters,
      onLoadMore = _ref.onLoadMore,
      filters = _ref.filters,
      onOrder = _ref.onOrder,
      onAttributeFiltersChange = _ref.onAttributeFiltersChange;
  var hasProducts = products.length > 0;

  var _React$useState = _react["default"].useState(false),
      _React$useState2 = (0, _slicedToArray2["default"])(_React$useState, 2),
      showFilters = _React$useState2[0],
      setShowFilters = _React$useState2[1];

  var intl = (0, _reactIntl.useIntl)();
  return __jsx("div", {
    className: "category"
  }, __jsx("div", {
    className: "container"
  }, __jsx(_components.Breadcrumbs, {
    breadcrumbs: (0, _components.extractBreadcrumbs)(details, ancestors)
  }), __jsx(_organisms.FilterSidebar, {
    show: showFilters,
    hide: function hide() {
      return setShowFilters(false);
    },
    onAttributeFiltersChange: onAttributeFiltersChange,
    attributes: attributes,
    filters: filters
  }), __jsx(_molecules.ProductListHeader, {
    activeSortOption: activeSortOption,
    openFiltersMenu: function openFiltersMenu() {
      return setShowFilters(true);
    },
    numberOfProducts: numberOfProducts,
    activeFilters: activeFilters,
    activeFiltersAttributes: (0, _utils.getActiveFilterAttributes)(filters === null || filters === void 0 ? void 0 : filters.attributes, attributes),
    clearFilters: clearFilters,
    sortOptions: _collections.SORT_OPTIONS,
    onChange: onOrder,
    onCloseFilterAttribute: onAttributeFiltersChange
  }), __jsx(_organisms.ProductList, {
    products: products,
    canLoadMore: hasNextPage,
    loading: displayLoader,
    onLoadMore: onLoadMore
  })), !displayLoader && !hasProducts && __jsx(_components.ProductsFeatured, {
    products: featuredProducts.products,
    title: intl.formatMessage(_core.commonMessages.youMightLike)
  }));
};

exports.Page = Page;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useProductsQuery = void 0;

var _core = require("@mzawadie/core");

var _products = require("@mzawadie/sdk/lib/queries/products");

var _graphql = require("@next/graphql");

var useProductsQuery = function useProductsQuery(filters, ids) {
  var categoryId = ids.categoryId,
      collectionId = ids.collectionId;
  var variables = {
    filter: {
      price: {
        lte: filters.priceLte,
        gte: filters.priceGte
      },
      collections: collectionId ? [collectionId] : [],
      categories: categoryId ? [categoryId] : [],
      attributes: filters.attributes ? (0, _core.convertToAttributeScalar)(filters.attributes) : []
    },
    channel: _core.channelSlug,
    first: _core.PRODUCTS_PER_PAGE,
    sortBy: (0, _core.convertSortByFromString)(filters.sortBy)
  };
  return (0, _graphql.useTypedQuery)(_products.productList, {
    variables: variables,
    fetchPolicy: "cache-and-network",
    skip: !(categoryId || collectionId)
  });
};

exports.useProductsQuery = useProductsQuery;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getActiveFilterAttributes = exports.filtersChangeHandler = void 0;

var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

// @ts-nocheck
var filtersChangeHandler = function filtersChangeHandler(filters, attributeFilters, setAttributeFilters) {
  return function (name, value) {
    if (attributeFilters && attributeFilters.hasOwnProperty(name)) {
      if (attributeFilters[name].includes(value)) {
        if (filters.attributes[name].length === 1) {
          var att = _objectSpread({}, attributeFilters);

          delete att[name];
          setAttributeFilters(_objectSpread({}, att));
        } else {
          setAttributeFilters(_objectSpread(_objectSpread({}, attributeFilters), {}, (0, _defineProperty2["default"])({}, name, attributeFilters[name].filter(function (item) {
            return item !== value;
          }))));
        }
      } else {
        setAttributeFilters(_objectSpread(_objectSpread({}, attributeFilters), {}, (0, _defineProperty2["default"])({}, name, [].concat((0, _toConsumableArray2["default"])(attributeFilters[name]), [value]))));
      }
    } else {
      setAttributeFilters(_objectSpread(_objectSpread({}, attributeFilters), {}, (0, _defineProperty2["default"])({}, name, [value])));
    }
  };
};

exports.filtersChangeHandler = filtersChangeHandler;

var getActiveFilterAttributes = function getActiveFilterAttributes(filterAttributes, attributes) {
  var getAttribute = function getAttribute(attributeSlug, valueSlug) {
    var _attributes$find$choi;

    var valueName = attributes === null || attributes === void 0 ? void 0 : (_attributes$find$choi = attributes.find(function (_ref) {
      var slug = _ref.slug;
      return attributeSlug === slug;
    }).choices.edges) === null || _attributes$find$choi === void 0 ? void 0 : _attributes$find$choi.map(function (_ref2) {
      var node = _ref2.node;
      return node;
    }).find(function (_ref3) {
      var slug = _ref3.slug;
      return valueSlug === slug;
    }).name;
    return valueName ? {
      attributeSlug: attributeSlug,
      valueName: valueName,
      valueSlug: valueSlug
    } : undefined;
  };

  return filterAttributes && Object.keys(filterAttributes).reduce(function (acc, key) {
    return acc.concat(filterAttributes[key].map(function (valueSlug) {
      return getAttribute(key, valueSlug);
    }));
  }, []).filter(Boolean);
};

exports.getActiveFilterAttributes = getActiveFilterAttributes;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CollectionView = void 0;

var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _core = require("@mzawadie/core");

var _atoms = require("@mzawadie/prototype/atoms");

var _collections = require("@next/utils/collections");

var _react = _interopRequireDefault(require("react"));

var _useQueryParams = require("use-query-params");

var _components = require("../../components");

var _NetworkStatus = _interopRequireDefault(require("../../components/NetworkStatus"));

var _queries = require("../Category/queries");

var _utils = require("../Category/utils");

var _Page = require("./Page");

var __jsx = _react["default"].createElement;

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var CollectionView = function CollectionView(_ref) {
  var collection = _ref.data;

  var _useQueryParam = (0, _useQueryParams.useQueryParam)("sortBy", _useQueryParams.StringParam),
      _useQueryParam2 = (0, _slicedToArray2["default"])(_useQueryParam, 2),
      sort = _useQueryParam2[0],
      setSort = _useQueryParam2[1];

  var _useQueryParam3 = (0, _useQueryParams.useQueryParam)("filters", _collections.FilterQuerySet),
      _useQueryParam4 = (0, _slicedToArray2["default"])(_useQueryParam3, 2),
      attributeFilters = _useQueryParam4[0],
      setAttributeFilters = _useQueryParam4[1];

  var filters = {
    attributes: attributeFilters,
    pageSize: _core.PRODUCTS_PER_PAGE,
    priceGte: null,
    priceLte: null,
    sortBy: sort || null
  };

  var _useProductsQuery = (0, _queries.useProductsQuery)(filters, {
    collectionId: collection === null || collection === void 0 ? void 0 : collection.id
  }),
      data = _useProductsQuery.data,
      loadMore = _useProductsQuery.loadMore,
      loading = _useProductsQuery.loading;

  var _React$useMemo = _react["default"].useMemo(function () {
    var _data$products, _data$products2, _data$products3;

    return [(data === null || data === void 0 ? void 0 : (_data$products = data.products) === null || _data$products === void 0 ? void 0 : _data$products.edges.map(function (e) {
      return e.node;
    })) || [], data === null || data === void 0 ? void 0 : (_data$products2 = data.products) === null || _data$products2 === void 0 ? void 0 : _data$products2.pageInfo, (data === null || data === void 0 ? void 0 : (_data$products3 = data.products) === null || _data$products3 === void 0 ? void 0 : _data$products3.totalCount) || 0];
  }, [data]),
      _React$useMemo2 = (0, _slicedToArray2["default"])(_React$useMemo, 3),
      products = _React$useMemo2[0],
      pageInfo = _React$useMemo2[1],
      numberOfProducts = _React$useMemo2[2];

  var handleClearFilters = function handleClearFilters() {
    return setAttributeFilters({});
  };

  var handleFiltersChange = (0, _utils.filtersChangeHandler)(filters, attributeFilters, setAttributeFilters);

  var handleOrderChange = function handleOrderChange(value) {
    return setSort(value.value);
  };

  var handleLoadMore = function handleLoadMore() {
    return loadMore(function (prev, next) {
      return {
        products: _objectSpread(_objectSpread({}, prev.products), {}, {
          edges: [].concat((0, _toConsumableArray2["default"])(prev.products.edges), (0, _toConsumableArray2["default"])(next.products.edges)),
          pageInfo: next.products.pageInfo
        })
      };
    }, pageInfo.endCursor);
  };

  return __jsx(_NetworkStatus["default"], null, function (isOnline) {
    return isOnline ? collection ? __jsx(_components.MetaWrapper, {
      meta: {
        description: collection.details.seoDescription,
        title: collection.details.seoTitle,
        type: "product.collection"
      }
    }, __jsx(_Page.Page, {
      numberOfProducts: numberOfProducts,
      clearFilters: handleClearFilters,
      collection: collection,
      displayLoader: loading,
      hasNextPage: !!(pageInfo !== null && pageInfo !== void 0 && pageInfo.hasNextPage),
      sortOptions: _collections.SORT_OPTIONS,
      activeSortOption: filters.sortBy,
      filters: filters,
      products: products,
      onAttributeFiltersChange: handleFiltersChange,
      onLoadMore: handleLoadMore,
      activeFilters: Object.keys((filters === null || filters === void 0 ? void 0 : filters.attributes) || {}).length,
      onOrder: handleOrderChange
    })) : __jsx(_components.NotFound, null) : __jsx(_atoms.OfflinePlaceholder, null);
  });
};

exports.CollectionView = CollectionView;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _CollectionView = require("./CollectionView");

Object.keys(_CollectionView).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _CollectionView[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _CollectionView[key];
    }
  });
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Page = void 0;

var _core = require("@mzawadie/core");

var _molecules = require("@mzawadie/prototype/molecules");

var _organisms = require("@mzawadie/prototype/organisms");

var _react = _interopRequireWildcard(require("react"));

var _reactIntl = require("react-intl");

var _components = require("../../components");

require("../Category/scss/index.module.scss");

var _utils = require("../Category/utils");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

var Page = function Page(_ref) {
  var activeFilters = _ref.activeFilters,
      activeSortOption = _ref.activeSortOption,
      _ref$collection = _ref.collection,
      details = _ref$collection.details,
      attributes = _ref$collection.attributes,
      featuredProducts = _ref$collection.featuredProducts,
      displayLoader = _ref.displayLoader,
      hasNextPage = _ref.hasNextPage,
      clearFilters = _ref.clearFilters,
      onLoadMore = _ref.onLoadMore,
      products = _ref.products,
      filters = _ref.filters,
      onOrder = _ref.onOrder,
      numberOfProducts = _ref.numberOfProducts,
      sortOptions = _ref.sortOptions,
      onAttributeFiltersChange = _ref.onAttributeFiltersChange;
  var hasProducts = products.length > 0;

  var _useState = (0, _react.useState)(false),
      showFilters = _useState[0],
      setShowFilters = _useState[1];

  var intl = (0, _reactIntl.useIntl)();
  return __jsx("div", {
    className: "collection"
  }, __jsx("div", {
    className: "container"
  }, __jsx(_components.Breadcrumbs, {
    breadcrumbs: (0, _components.extractBreadcrumbs)(details)
  }), __jsx(_organisms.FilterSidebar, {
    show: showFilters,
    hide: function hide() {
      return setShowFilters(false);
    },
    onAttributeFiltersChange: onAttributeFiltersChange,
    attributes: attributes,
    filters: filters
  }), __jsx(_molecules.ProductListHeader, {
    activeSortOption: activeSortOption,
    openFiltersMenu: function openFiltersMenu() {
      return setShowFilters(true);
    },
    numberOfProducts: numberOfProducts,
    activeFilters: activeFilters,
    activeFiltersAttributes: (0, _utils.getActiveFilterAttributes)(filters === null || filters === void 0 ? void 0 : filters.attributes, attributes),
    clearFilters: clearFilters,
    sortOptions: sortOptions,
    onChange: onOrder,
    onCloseFilterAttribute: onAttributeFiltersChange
  }), __jsx(_organisms.ProductList, {
    products: products,
    canLoadMore: hasNextPage,
    loading: displayLoader,
    onLoadMore: onLoadMore
  })), !displayLoader && !hasProducts && __jsx(_components.ProductsFeatured, {
    products: featuredProducts.products,
    title: intl.formatMessage(_core.commonMessages.youMightLike)
  }));
};

exports.Page = Page;


"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.HomeView = void 0;

var React = _interopRequireWildcard(require("react"));

var _components = require("../../components");

var _Page = _interopRequireDefault(require("./Page"));

require("./scss/index.module.scss");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

var HomeView = function HomeView(_ref) {
  var _ref$data = _ref.data,
      shop = _ref$data.shop,
      featuredProducts = _ref$data.featuredProducts,
      categories = _ref$data.categories;
  return __jsx("div", {
    className: "home-page"
  }, __jsx(_components.MetaWrapper, {
    meta: {
      description: (shop === null || shop === void 0 ? void 0 : shop.description) || "",
      title: shop.name || ""
    }
  }, __jsx(_Page["default"], {
    featuredProducts: featuredProducts,
    categories: categories,
    shop: shop
  })));
};

exports.HomeView = HomeView;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _HomeView = require("./HomeView");

Object.keys(_HomeView).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _HomeView[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _HomeView[key];
    }
  });
});

var _queries = require("./queries");

Object.keys(_queries).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _queries[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _queries[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _utils = require("@mzawadie/core/utils");

var _classnames = _interopRequireDefault(require("classnames"));

var _link = _interopRequireDefault(require("next/link"));

var _react = _interopRequireDefault(require("react"));

var _reactIntl = require("react-intl");

var _components = require("../../components");

var _noPhoto = _interopRequireDefault(require("../../images/no-photo.svg"));

require("./scss/index.module.scss");

var __jsx = _react["default"].createElement;

var Page = function Page(_ref) {
  var categories = _ref.categories,
      featuredProducts = _ref.featuredProducts,
      shop = _ref.shop;

  var categoriesExist = function categoriesExist() {
    return categories && categories.edges && categories.edges.length > 0;
  };

  var intl = (0, _reactIntl.useIntl)();
  return __jsx(_react["default"].Fragment, null, __jsx("div", {
    className: "home-page__hero",
    style: featuredProducts.backgroundImage ? {
      backgroundImage: "url(".concat(featuredProducts.backgroundImage.url, ")")
    } : null
  }, __jsx("div", {
    className: "home-page__hero-text"
  }, __jsx("div", null, __jsx("span", {
    className: "home-page__hero__title"
  }, __jsx("h1", null, __jsx(_reactIntl.FormattedMessage, {
    id: "views.Home.Page.2366307429",
    defaultMessage: "Final reduction"
  })))), __jsx("div", null, __jsx("span", {
    className: "home-page__hero__title"
  }, __jsx("h1", null, __jsx(_reactIntl.FormattedMessage, {
    id: "views.Home.Page.4153800196",
    defaultMessage: "Up to 70% off sale"
  }))))), __jsx("div", {
    className: "home-page__hero-action"
  }, categoriesExist() && __jsx(_link["default"], {
    href: (0, _utils.generateCategoryUrl)(categories === null || categories === void 0 ? void 0 : categories.edges[0].node.id, categories === null || categories === void 0 ? void 0 : categories.edges[0].node.slug)
  }, __jsx("a", null, __jsx(_components.Button, {
    testingContext: "homepageHeroActionButton"
  }, __jsx(_reactIntl.FormattedMessage, {
    id: "views.Home.Page.3347022999",
    defaultMessage: "Shop sale"
  })))))), __jsx(_components.ProductsFeatured, {
    products: featuredProducts.products,
    title: intl.formatMessage({
      "id": "views.Home.Page.2812648978",
      "defaultMessage": "Featured"
    })
  }), categoriesExist() && __jsx("div", {
    className: "home-page__categories"
  }, __jsx("div", {
    className: "container"
  }, __jsx("h3", null, __jsx(_reactIntl.FormattedMessage, {
    id: "views.Home.Page.3813745889",
    defaultMessage: "Shop by category"
  })), __jsx("div", {
    className: "home-page__categories__list"
  }, categories === null || categories === void 0 ? void 0 : categories.edges.map(function (_ref2) {
    var category = _ref2.node;
    return __jsx("div", {
      key: category.id
    }, __jsx(_link["default"], {
      href: (0, _utils.generateCategoryUrl)(category.id, category.name),
      key: category.id
    }, __jsx("a", null, __jsx("div", {
      className: (0, _classnames["default"])("home-page__categories__list__image", {
        "home-page__categories__list__image--no-photo": !category.backgroundImage
      }),
      style: {
        backgroundImage: "url(".concat(category.backgroundImage ? category.backgroundImage.url : _noPhoto["default"], ")")
      }
    }), __jsx("h3", null, category.name))));
  })))));
};

var _default = Page;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.homePageProductsQuery = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _client = require("@apollo/client");

var _templateObject;

var homePageProductsQuery = (0, _client.gql)(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    query HomePageProducts {\n        shop {\n            description\n            name\n        }\n        categories(level: 0, first: 4) {\n            edges {\n                node {\n                    id\n                    name\n                    slug\n                    backgroundImage {\n                        url\n                    }\n                }\n            }\n        }\n    }\n"])));
exports.homePageProductsQuery = homePageProductsQuery;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _molecules = require("@mzawadie/prototype/molecules");

var _image = _interopRequireDefault(require("next/image"));

var React = _interopRequireWildcard(require("react"));

var _components = require("../../components");

var _noPhoto = _interopRequireDefault(require("../../images/no-photo.svg"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

var GalleryCarousel = function GalleryCarousel(_ref) {
  var images = _ref.images;
  return __jsx("div", {
    className: "product-page__product__gallery"
  }, __jsx(_components.Carousel, {
    renderCenterLeftControls: function renderCenterLeftControls() {
      return null;
    },
    renderCenterRightControls: function renderCenterRightControls() {
      return null;
    },
    renderBottomCenterControls: function renderBottomCenterControls(props) {
      var indexes = [];

      for (var i = 0; i < props.slideCount; i++) {
        indexes.push(i);
      }

      return __jsx("ul", {
        className: "product-page__product__gallery__nav"
      }, indexes.map(function (index) {
        return __jsx("li", {
          key: index,
          onClick: props.goToSlide.bind(null, index),
          className: props.currentSlide === index ? "active" : ""
        }, __jsx("span", null));
      }));
    }
  }, images.map(function (image) {
    return __jsx(_molecules.CachedImage, {
      url: image.url || _noPhoto["default"],
      key: image.id
    }, __jsx(_image["default"], {
      src: _noPhoto["default"],
      alt: "#FIXME"
    }));
  })));
};

var _default = GalleryCarousel;
exports["default"] = _default;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});


"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ProductPage = require("./ProductPage");

Object.keys(_ProductPage).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _ProductPage[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _ProductPage[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _organisms = require("@mzawadie/prototype/organisms");

var _react = _interopRequireDefault(require("react"));

var _reactIntl = require("react-intl");

var __jsx = _react["default"].createElement;

var OtherProducts = function OtherProducts(_ref) {
  var products = _ref.products;
  return __jsx("div", {
    className: "product-page__other-products"
  }, __jsx("div", {
    className: "container"
  }, __jsx("h4", {
    className: "product-page__other-products__title"
  }, __jsx(_reactIntl.FormattedMessage, {
    id: "views.Product.Other.3212906417",
    defaultMessage: "Other products in this category"
  })), __jsx(_organisms.ProductList, {
    products: products.map(function (_ref2) {
      var node = _ref2.node;
      return node;
    })
  })));
};

var _default = OtherProducts;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _core = require("@mzawadie/core");

var _molecules = require("@mzawadie/prototype/molecules");

var _organisms = require("@mzawadie/prototype/organisms");

var _AddToCartSection = _interopRequireDefault(require("@mzawadie/prototype/organisms/AddToCartSection"));

var _constants = require("@next/styles/constants");

var _classnames = _interopRequireDefault(require("classnames"));

var _react = _interopRequireDefault(require("react"));

var _reactMedia = _interopRequireDefault(require("react-media"));

var _components = require("../../components");

var _GalleryCarousel = _interopRequireDefault(require("./GalleryCarousel"));

var _Other = _interopRequireDefault(require("./Other"));

var __jsx = _react["default"].createElement;

var populateBreadcrumbs = function populateBreadcrumbs(product) {
  var _product$category;

  return [{
    link: (0, _core.generateCategoryUrl)((_product$category = product.category) === null || _product$category === void 0 ? void 0 : _product$category.id, product.category.slug),
    value: product.category.name
  }, {
    link: (0, _core.generateProductUrl)(product.id, product.slug),
    value: product.name
  }];
};

var Page = function Page(_ref) {
  var add = _ref.add,
      product = _ref.product,
      items = _ref.items,
      queryAttributes = _ref.queryAttributes,
      onAttributeChangeHandler = _ref.onAttributeChangeHandler;

  var overlayContext = _react["default"].useContext(_components.OverlayContext);

  var productGallery = _react["default"].useRef();

  var _React$useState = _react["default"].useState(""),
      _React$useState2 = (0, _slicedToArray2["default"])(_React$useState, 2),
      variantId = _React$useState2[0],
      setVariantId = _React$useState2[1];

  var getImages = function getImages() {
    if (product.variants && variantId) {
      var variant = product.variants.find(function (variant) {
        return variant.id === variantId;
      });

      if ((variant === null || variant === void 0 ? void 0 : variant.images.length) > 0) {
        return variant.images;
      }
    }

    return product.images;
  };

  var handleAddToCart = function handleAddToCart(variantId, quantity) {
    add(variantId, quantity);
    overlayContext.show(_components.OverlayType.cart, _components.OverlayTheme.right);
  };

  var addToCartSection = __jsx(_AddToCartSection["default"], {
    items: items,
    productId: product.id,
    name: product.name,
    productVariants: product.variants,
    productPricing: product.pricing,
    queryAttributes: queryAttributes,
    setVariantId: setVariantId,
    variantId: variantId,
    onAddToCart: handleAddToCart,
    onAttributeChangeHandler: onAttributeChangeHandler,
    isAvailableForPurchase: product.isAvailableForPurchase,
    availableForPurchase: product.availableForPurchase
  });

  return __jsx("div", {
    className: "product-page"
  }, __jsx("div", {
    className: "container"
  }, __jsx(_components.Breadcrumbs, {
    breadcrumbs: populateBreadcrumbs(product)
  })), __jsx("div", {
    className: "container"
  }, __jsx("div", {
    className: "product-page__product"
  }, __jsx(_reactMedia["default"], {
    query: {
      maxWidth: _constants.smallScreen
    }
  }, function (matches) {
    return matches ? __jsx(_react["default"].Fragment, null, __jsx(_GalleryCarousel["default"], {
      images: getImages()
    }), __jsx("div", {
      className: "product-page__product__info"
    }, addToCartSection)) : __jsx(_react["default"].Fragment, null, __jsx("div", {
      className: "product-page__product__gallery",
      ref: productGallery
    }, __jsx(_organisms.ProductGallery, {
      images: getImages()
    })), __jsx("div", {
      className: "product-page__product__info"
    }, __jsx("div", {
      className: (0, _classnames["default"])("product-page__product__info--fixed")
    }, addToCartSection)));
  }))), __jsx("div", {
    className: "container"
  }, __jsx("div", {
    className: "product-page__product__description"
  }, __jsx(_molecules.ProductDescription, {
    description: product.description,
    attributes: product.attributes
  }))), __jsx(_Other["default"], {
    products: product.category.products.edges
  }));
};

var _default = Page;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ProductPage = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _atoms = require("@mzawadie/prototype/atoms");

var _sdk = require("@mzawadie/sdk");

var _router = require("next/router");

var _queryString = _interopRequireDefault(require("query-string"));

var _react = _interopRequireWildcard(require("react"));

var _components = require("../../components");

var _NetworkStatus = _interopRequireDefault(require("../../components/NetworkStatus"));

var _Page = _interopRequireDefault(require("./Page"));

require("./scss/index.module.scss");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = _react["default"].createElement;

var canDisplay = function canDisplay(product) {
  return !!(product !== null && product !== void 0 && product.name) && !!(product !== null && product !== void 0 && product.pricing) && !!(product !== null && product !== void 0 && product.variants);
};

var extractMeta = function extractMeta(product, url) {
  var _product$pricing, _product$pricing$pric, _product$pricing$pric2, _product$pricing2, _product$pricing2$pri, _product$pricing2$pri2, _product$category, _product$thumbnail;

  return {
    custom: [{
      content: (_product$pricing = product.pricing) === null || _product$pricing === void 0 ? void 0 : (_product$pricing$pric = _product$pricing.priceRange) === null || _product$pricing$pric === void 0 ? void 0 : (_product$pricing$pric2 = _product$pricing$pric.start) === null || _product$pricing$pric2 === void 0 ? void 0 : _product$pricing$pric2.gross.amount.toString(),
      property: "product:price:amount"
    }, {
      content: (_product$pricing2 = product.pricing) === null || _product$pricing2 === void 0 ? void 0 : (_product$pricing2$pri = _product$pricing2.priceRange) === null || _product$pricing2$pri === void 0 ? void 0 : (_product$pricing2$pri2 = _product$pricing2$pri.start) === null || _product$pricing2$pri2 === void 0 ? void 0 : _product$pricing2$pri2.gross.currency,
      property: "product:price:currency"
    }, {
      content: product.isAvailable ? "in stock" : "out off stock",
      property: "product:isAvailable"
    }, {
      content: (_product$category = product.category) === null || _product$category === void 0 ? void 0 : _product$category.name,
      property: "product:category"
    }],
    description: product.seoDescription || product.description,
    image: (product === null || product === void 0 ? void 0 : (_product$thumbnail = product.thumbnail) === null || _product$thumbnail === void 0 ? void 0 : _product$thumbnail.url) || null,
    title: product.seoTitle || product.name,
    type: "product.item",
    url: window.location.href
  };
};

var PageWithQueryAttributes = function PageWithQueryAttributes(props) {
  var product = props.product;

  var _useRouter = (0, _router.useRouter)(),
      pathname = _useRouter.pathname,
      push = _useRouter.push,
      query = _useRouter.query,
      asPath = _useRouter.asPath;

  var onAttributeChangeHandler = function onAttributeChangeHandler(slug, value) {
    var newAsPath = _queryString["default"].stringifyUrl({
      query: (0, _defineProperty2["default"])({}, slug, value),
      url: asPath
    }, {
      skipNull: true
    });

    push({
      pathname: pathname,
      query: query
    }, newAsPath, {
      shallow: true
    });
  };

  var _useState = (0, _react.useState)({}),
      queryAttributes = _useState[0],
      setQueryAttributes = _useState[1];

  (0, _react.useEffect)(function () {
    if (!Object.keys(query).length) {
      var _queryAttributes = {};
      product.variants.forEach(function (_ref) {
        var attributes = _ref.attributes;
        attributes.forEach(function (_ref2) {
          var attribute = _ref2.attribute,
              values = _ref2.values;
          var selectedAttributeValue = query[attribute.slug];

          if (selectedAttributeValue && values[0].value === selectedAttributeValue) {
            if (!Object.keys(_queryAttributes).length || !attributes.filter(function (_ref3) {
              var id = _ref3.attribute.id,
                  values = _ref3.values;
              return _queryAttributes[id] && _queryAttributes[id] !== values[0].value;
            }).length) {
              _queryAttributes[attribute.id] = selectedAttributeValue;
            }
          }
        });
      });
      setQueryAttributes(_queryAttributes);
    }
  }, [product.variants.length]);
  return __jsx(_Page["default"], (0, _extends2["default"])({}, props, {
    queryAttributes: queryAttributes,
    onAttributeChangeHandler: onAttributeChangeHandler
  }));
};

var ProductPage = function ProductPage(_ref4) {
  var product = _ref4.data;

  var _useCart = (0, _sdk.useCart)(),
      addItem = _useCart.addItem,
      items = _useCart.items;

  var _useRouter2 = (0, _router.useRouter)(),
      asPath = _useRouter2.asPath;

  return __jsx(_NetworkStatus["default"], null, function (isOnline) {
    if (canDisplay(product)) {
      return __jsx(_components.MetaWrapper, {
        meta: extractMeta(product, _queryString["default"].parseUrl(asPath).url)
      }, __jsx(PageWithQueryAttributes, {
        product: product,
        add: addItem,
        items: items
      }));
    }

    if (!product) {
      return product === null ? __jsx(_components.NotFound, null) : __jsx(_atoms.Loader, {
        fullScreen: true
      });
    }

    if (!isOnline) {
      return __jsx(_atoms.OfflinePlaceholder, null);
    }
  });
};

exports.ProductPage = ProductPage;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.TypedProductVariantsQuery = exports.TypedProductDetailsQuery = exports.productVariantsQuery = exports.productDetailsQuery = exports.productVariantFragment = exports.selectedAttributeFragment = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _client = require("@apollo/client");

var _graphql = require("@next/graphql");

var _queries = require("../../core/queries");

var _templateObject, _templateObject2, _templateObject3, _templateObject4;

var selectedAttributeFragment = (0, _client.gql)(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    fragment SelectedAttributeFields on SelectedAttribute {\n        attribute {\n            id\n            name\n        }\n        values {\n            id\n            name\n        }\n    }\n"])));
exports.selectedAttributeFragment = selectedAttributeFragment;
var productVariantFragment = (0, _client.gql)(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n    ", "\n    fragment ProductVariantFields on ProductVariant {\n        id\n        sku\n        name\n        quantityAvailable(countryCode: $countryCode)\n        images {\n            id\n            url\n            alt\n        }\n        pricing {\n            onSale\n            priceUndiscounted {\n                ...TaxedPrice\n            }\n            price {\n                ...TaxedPrice\n            }\n        }\n        attributes(variantSelection: VARIANT_SELECTION) {\n            attribute {\n                id\n                name\n                slug\n            }\n            values {\n                id\n                name\n                value: name\n            }\n        }\n    }\n"])), _graphql.taxedPriceFragment);
exports.productVariantFragment = productVariantFragment;
var productDetailsQuery = (0, _client.gql)(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["\n    ", "\n    ", "\n    ", "\n    ", "\n    query ProductDetails($id: ID!, $channel: String, $countryCode: CountryCode) {\n        product(id: $id, channel: $channel) {\n            ...BasicProductFields\n            ...ProductPricingField\n            description\n            category {\n                id\n                name\n                products(first: 3, channel: $channel) {\n                    edges {\n                        node {\n                            ...BasicProductFields\n                            ...ProductPricingField\n                        }\n                    }\n                }\n            }\n            images {\n                id\n                alt\n                url\n            }\n            attributes {\n                ...SelectedAttributeFields\n            }\n            variants {\n                ...ProductVariantFields\n            }\n            seoDescription\n            seoTitle\n            isAvailable\n            isAvailableForPurchase\n            availableForPurchase\n        }\n    }\n"])), _graphql.basicProductFragment, selectedAttributeFragment, productVariantFragment, _graphql.productPricingFragment); // FIXME: Check how to handle pagination of `productVariants` in the UI.
// We need allow the user view  all cart items regardless of pagination.

exports.productDetailsQuery = productDetailsQuery;
var productVariantsQuery = (0, _client.gql)(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2["default"])(["\n    ", "\n    ", "\n    query VariantList($ids: [ID!], $channel: String, $countryCode: CountryCode) {\n        productVariants(ids: $ids, first: 100, channel: $channel) {\n            edges {\n                node {\n                    ...ProductVariantFields\n                    product {\n                        ...BasicProductFields\n                    }\n                }\n            }\n        }\n    }\n"])), _graphql.basicProductFragment, productVariantFragment);
exports.productVariantsQuery = productVariantsQuery;
var TypedProductDetailsQuery = (0, _queries.TypedQuery)(productDetailsQuery);
exports.TypedProductDetailsQuery = TypedProductDetailsQuery;
var TypedProductVariantsQuery = (0, _queries.TypedQuery)(productVariantsQuery);
exports.TypedProductVariantsQuery = TypedProductVariantsQuery;
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _SearchPage = require("./SearchPage");

Object.keys(_SearchPage).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (key in exports && exports[key] === _SearchPage[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _SearchPage[key];
    }
  });
});
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _core = require("@mzawadie/core");

var _molecules = require("@mzawadie/prototype/molecules");

var _organisms = require("@mzawadie/prototype/organisms");

var React = _interopRequireWildcard(require("react"));

var _reactIntl = require("react-intl");

var _components = require("../../components");

require("./scss/index.module.scss");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var __jsx = React.createElement;

var Page = function Page(_ref) {
  var activeFilters = _ref.activeFilters,
      activeSortOption = _ref.activeSortOption,
      attributes = _ref.attributes,
      search = _ref.search,
      setSearch = _ref.setSearch,
      displayLoader = _ref.displayLoader,
      hasNextPage = _ref.hasNextPage,
      clearFilters = _ref.clearFilters,
      onLoadMore = _ref.onLoadMore,
      products = _ref.products,
      filters = _ref.filters,
      onOrder = _ref.onOrder,
      sortOptions = _ref.sortOptions,
      onAttributeFiltersChange = _ref.onAttributeFiltersChange,
      featuredProducts = _ref.featuredProducts;
  var canDisplayProducts = (0, _core.maybe)(function () {
    return !!products.edges && products.totalCount !== undefined;
  });
  var hasProducts = canDisplayProducts && !!products.totalCount;

  var _React$useState = React.useState(false),
      _React$useState2 = (0, _slicedToArray2["default"])(_React$useState, 2),
      showFilters = _React$useState2[0],
      setShowFilters = _React$useState2[1];

  var intl = (0, _reactIntl.useIntl)();

  var getAttribute = function getAttribute(attributeSlug, valueSlug) {
    return {
      attributeSlug: attributeSlug,
      valueName: attributes.find(function (_ref2) {
        var slug = _ref2.slug;
        return attributeSlug === slug;
      }).choices.edges.map(function (_ref3) {
        var node = _ref3.node;
        return node;
      }).find(function (_ref4) {
        var slug = _ref4.slug;
        return valueSlug === slug;
      }).name,
      valueSlug: valueSlug
    };
  };

  var activeFiltersAttributes = filters && filters.attributes && Object.keys(filters.attributes).reduce(function (acc, key) {
    return acc.concat(filters.attributes[key].map(function (valueSlug) {
      return getAttribute(key, valueSlug);
    }));
  }, []);
  return __jsx("div", {
    className: "category"
  }, __jsx("div", {
    className: "search-page"
  }, __jsx("div", {
    className: "search-page__header"
  }, __jsx("div", {
    className: "search-page__header__input container"
  }, __jsx(_components.DebounceChange, {
    debounce: function debounce(evt) {
      return setSearch(evt.target.value.toLowerCase());
    },
    value: search,
    time: 500
  }, function (_ref5) {
    var change = _ref5.change,
        value = _ref5.value;
    return __jsx(_components.TextField, {
      autoFocus: true,
      label: intl.formatMessage({
        "id": "views.Search.Page.2865432515",
        "defaultMessage": "Search term:"
      }),
      onChange: change,
      value: value
    });
  })))), __jsx("div", {
    className: "container"
  }, __jsx(_organisms.FilterSidebar, {
    show: showFilters,
    hide: function hide() {
      return setShowFilters(false);
    },
    onAttributeFiltersChange: onAttributeFiltersChange,
    attributes: attributes,
    filters: filters
  }), __jsx(_molecules.ProductListHeader, {
    activeSortOption: activeSortOption,
    openFiltersMenu: function openFiltersMenu() {
      return setShowFilters(true);
    },
    numberOfProducts: products ? products.totalCount : 0,
    activeFilters: activeFilters,
    activeFiltersAttributes: activeFiltersAttributes,
    clearFilters: clearFilters,
    sortOptions: sortOptions,
    onChange: onOrder,
    onCloseFilterAttribute: onAttributeFiltersChange
  }), canDisplayProducts && __jsx(_organisms.ProductList, {
    products: products.edges.map(function (edge) {
      return edge.node;
    }),
    canLoadMore: hasNextPage,
    loading: displayLoader,
    onLoadMore: onLoadMore
  })), !hasProducts && __jsx(_components.ProductsFeatured, {
    products: featuredProducts,
    title: intl.formatMessage(_core.commonMessages.youMightLike)
  }));
};

var _default = Page;
exports["default"] = _default;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.TypedSearchProductsQuery = exports.searchProductsQuery = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _client = require("@apollo/client");

var _graphql = require("@next/graphql");

var _queries = require("../../core/queries");

var _templateObject;

var searchProductsQuery = (0, _client.gql)(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n    ", "\n    ", "\n    query SearchProducts(\n        $query: String!\n        $channel: String!\n        $attributes: [AttributeInput]\n        $pageSize: Int\n        $sortBy: ProductOrder\n        $after: String\n    ) {\n        products(\n            channel: $channel\n            filter: { search: $query, attributes: $attributes }\n            first: $pageSize\n            sortBy: $sortBy\n            after: $after\n        ) {\n            totalCount\n            edges {\n                node {\n                    ...ProductPricingField\n                    id\n                    name\n                    slug\n                    thumbnail {\n                        url\n                        alt\n                    }\n                    thumbnail2x: thumbnail(size: 510) {\n                        url\n                    }\n                    category {\n                        id\n                        name\n                    }\n                }\n            }\n            pageInfo {\n                endCursor\n                hasNextPage\n            }\n        }\n        attributes(filter: { filterableInStorefront: true }, first: 100) {\n            edges {\n                node {\n                    ...Attribute\n                }\n            }\n        }\n    }\n"])), _graphql.productPricingFragment, _graphql.attributeFragment);
exports.searchProductsQuery = searchProductsQuery;
var TypedSearchProductsQuery = (0, _queries.TypedQuery)(searchProductsQuery);
exports.TypedSearchProductsQuery = TypedSearchProductsQuery;
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SearchPage = void 0;

var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _NetworkStatus = _interopRequireDefault(require("@mzawadie/components/NetworkStatus"));

var _NotFound = _interopRequireDefault(require("@mzawadie/components/NotFound"));

var _core = require("@mzawadie/core");

var _atoms = require("@mzawadie/prototype/atoms");

var _collections = require("@next/utils/collections");

var _react = _interopRequireDefault(require("react"));

var _useQueryParams = require("use-query-params");

var _utils = require("../Category/utils");

var _Page = _interopRequireDefault(require("./Page"));

var _queries = require("./queries");

var __jsx = _react["default"].createElement;

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var SearchPage = function SearchPage(_ref) {
  var featuredProducts = _ref.data;

  var _useQueryParam = (0, _useQueryParams.useQueryParam)("sortBy", _useQueryParams.StringParam),
      _useQueryParam2 = (0, _slicedToArray2["default"])(_useQueryParam, 2),
      sort = _useQueryParam2[0],
      setSort = _useQueryParam2[1];

  var _useQueryParam3 = (0, _useQueryParams.useQueryParam)("q", _useQueryParams.StringParam),
      _useQueryParam4 = (0, _slicedToArray2["default"])(_useQueryParam3, 2),
      search = _useQueryParam4[0],
      setSearch = _useQueryParam4[1];

  var _useQueryParam5 = (0, _useQueryParams.useQueryParam)("filters", _collections.FilterQuerySet),
      _useQueryParam6 = (0, _slicedToArray2["default"])(_useQueryParam5, 2),
      attributeFilters = _useQueryParam6[0],
      setAttributeFilters = _useQueryParam6[1];

  var filters = {
    attributes: attributeFilters,
    pageSize: _core.PRODUCTS_PER_PAGE,
    priceGte: null,
    priceLte: null,
    sortBy: sort || null
  };

  var variables = _objectSpread(_objectSpread({}, filters), {}, {
    attributes: filters.attributes ? (0, _core.convertToAttributeScalar)(filters.attributes) : [],
    channel: _core.channelSlug,
    query: search || null,
    sortBy: (0, _core.convertSortByFromString)(filters.sortBy)
  });

  var clearFilters = function clearFilters() {
    return setAttributeFilters({});
  };

  return __jsx(_NetworkStatus["default"], null, function (isOnline) {
    return __jsx(_queries.TypedSearchProductsQuery, {
      variables: variables,
      errorPolicy: "all",
      loaderFull: true
    }, function (_ref2) {
      var _data$attributes, _data$products;

      var loading = _ref2.loading,
          data = _ref2.data,
          loadMore = _ref2.loadMore;
      var canDisplayFilters = !!(data !== null && data !== void 0 && (_data$attributes = data.attributes) !== null && _data$attributes !== void 0 && _data$attributes.edges) && !!(data !== null && data !== void 0 && (_data$products = data.products) !== null && _data$products !== void 0 && _data$products.edges);

      if (canDisplayFilters) {
        var _data$products$pageIn, _data$products2, _data$products2$pageI;

        var handleLoadMore = function handleLoadMore() {
          return loadMore(function (prev, next) {
            return _objectSpread(_objectSpread({}, prev), {}, {
              products: _objectSpread(_objectSpread({}, prev.products), {}, {
                edges: [].concat((0, _toConsumableArray2["default"])(prev.products.edges), (0, _toConsumableArray2["default"])(next.products.edges)),
                pageInfo: next.products.pageInfo
              })
            });
          }, {
            after: data.products.pageInfo.endCursor
          });
        };

        return __jsx(_Page["default"], {
          clearFilters: clearFilters,
          attributes: data.attributes.edges.map(function (_ref3) {
            var node = _ref3.node;
            return node;
          }),
          displayLoader: loading,
          hasNextPage: (_data$products$pageIn = (_data$products2 = data.products) === null || _data$products2 === void 0 ? void 0 : (_data$products2$pageI = _data$products2.pageInfo) === null || _data$products2$pageI === void 0 ? void 0 : _data$products2$pageI.hasNextPage) !== null && _data$products$pageIn !== void 0 ? _data$products$pageIn : false,
          sortOptions: _collections.SORT_OPTIONS,
          setSearch: setSearch,
          search: search,
          activeSortOption: filters.sortBy,
          filters: filters,
          products: data.products,
          featuredProducts: featuredProducts.products,
          onAttributeFiltersChange: (0, _utils.filtersChangeHandler)(filters, attributeFilters, setAttributeFilters),
          onLoadMore: handleLoadMore,
          activeFilters: filters.attributes ? Object.keys(filters.attributes).length : 0,
          onOrder: function onOrder(value) {
            setSort(value.value);
          }
        });
      }

      if (data && data.products === null) {
        return __jsx(_NotFound["default"], null);
      }

      if (!isOnline) {
        return __jsx(_atoms.OfflinePlaceholder, null);
      }
    });
  });
};

exports.SearchPage = SearchPage;
